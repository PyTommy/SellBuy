(this.webpackJsonpmercari=this.webpackJsonpmercari||[]).push([[0],{128:function(e,t,a){e.exports={main:"Layout_main__2dloT"}},130:function(e,t,a){e.exports={DisplayProfile:"DisplayProfile_DisplayProfile__12H36"}},131:function(e,t,a){e.exports={profilePic:"PictureRadius_profilePic__2fSaV"}},132:function(e,t,a){e.exports={items:"MyList_items__EMMVq"}},133:function(e,t,a){e.exports={Auth:"Auth_Auth__1OFxN"}},134:function(e,t,a){e.exports={AuthForm:"AuthForm_AuthForm__1VWQ-"}},135:function(e,t,a){e.exports={Products:"Products_Products__XXD3D"}},136:function(e,t,a){e.exports={items:"TopBar_items__3NgiL"}},137:function(e,t,a){},138:function(e,t,a){e.exports={card:"UserInfoCard_card__1tgD1"}},14:function(e,t,a){e.exports={Search:"Search_Search__1vdXl",topBox:"Search_topBox__2Kd0p",searchInputContainer:"Search_searchInputContainer__3vff-",searchInput:"Search_searchInput__ZhnTc",searchInputClear:"Search_searchInputClear__SkrZH",searchIcon:"Search_searchIcon__pNsQ-",backIcon:"Search_backIcon__1rzCN",categories:"Search_categories__2bvMH",category:"Search_category__2PphB",categoryActive:"Search_categoryActive__2Yz1c",backdrop:"Search_backdrop__3yDze"}},142:function(e,t,a){e.exports={items:"Products_items__106ib"}},143:function(e,t,a){e.exports={notifications:"Notification_notifications__3CA5a"}},145:function(e,t,a){e.exports={messages:"Inbox_messages__c4YXD"}},146:function(e,t,a){e.exports={MessageBoxMain:"MessageBox_MessageBoxMain__4JQbt"}},147:function(e,t,a){e.exports={MessageForm:"MessageForm_MessageForm__20LJv"}},148:function(e,t,a){e.exports={form:"UpdateAvatar_form__3pVM_"}},149:function(e,t,a){e.exports={form:"UpdateProfile_form__2O94o"}},150:function(e,t,a){e.exports={form:"UpdateEmail_form__3jI8y"}},151:function(e,t,a){e.exports={form:"UpdatePassword_form__2KgnV"}},155:function(e,t,a){e.exports=a(260)},160:function(e,t,a){},17:function(e,t,a){e.exports={topBox:"Search_topBox__3ouKg",searchInputContainer:"Search_searchInputContainer__f2K-q",searchInput:"Search_searchInput__1_Hb9",searchInputClear:"Search_searchInputClear__32ZfU",searchIcon:"Search_searchIcon__8-x32",categories:"Search_categories__10cI-",category:"Search_category__1x8NF",categoryActive:"Search_categoryActive__39g28",backdrop:"Search_backdrop__v2v5P"}},20:function(e,t,a){e.exports={Dropzone:"ImageDropAndCrop_Dropzone__1vl5_",DropzoneIcon:"ImageDropAndCrop_DropzoneIcon__2PCi6",ReactCropContainer:"ImageDropAndCrop_ReactCropContainer__1RYiJ",ReactCrop:"ImageDropAndCrop_ReactCrop__3jfW8",buttons:"ImageDropAndCrop_buttons__1u8Mc",crop:"ImageDropAndCrop_crop__1anze",edit:"ImageDropAndCrop_edit__jg8r1",remove:"ImageDropAndCrop_remove__2Wpyt"}},205:function(e,t){e.exports="data:image/png;base64,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"},25:function(e,t,a){e.exports={Alerts:"Alerts_Alerts__1Jrc6",Alert:"Alerts_Alert__2N5hN",Success:"Alerts_Success__1lfyC",Danger:"Alerts_Danger__19AZT"}},26:function(e,t,a){e.exports={Button:"Button_Button__1HpPN",colorPrimary:"Button_colorPrimary__2R2-X",colorOrange:"Button_colorOrange__3vJte",colorDanger:"Button_colorDanger__3LxcP",borderGray:"Button_borderGray__27XZb",sizeSmall:"Button_sizeSmall__4xYo6",sizeLarge:"Button_sizeLarge__1Qcwy"}},260:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(52),o=a.n(c),s=(a(160),a(54)),i=a(55),u=a(59),l=a(56),p=a(60),d=a(7),m=a(24),g=a(4),f=a(124),h=Object(g.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.component,a=e.auth,n=a.isAuthenticated,c=a.loading,o=Object(f.a)(e,["component","auth"]);return r.a.createElement(m.b,Object.assign({},o,{render:function(e){return n||c?r.a.createElement(t,e):r.a.createElement(m.a,{to:"/login"})}}))})),E=a(3),v=a.n(E),_=a(126),b=a.n(_).a.create({headers:{"Content-Type":"application/json"}});b.interceptors.request.use((function(e){return console.log("Starting Request: ",e),e})),b.interceptors.response.use((function(e){return console.log("Response: ",e),e})),b.setAuthToken=function(e){e?b.defaults.headers.common.Authorization="Bearer ".concat(e):delete b.defaults.headers.common.Authorization};var y=b,S=a(84),O=a.n(S),C=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3;return function(n){if(e instanceof Array)e.forEach((function(e){var r=O.a.v4();n({type:"SET_ALERT",payload:{id:r,msg:e.msg,alertType:t}}),setTimeout((function(){n({type:"REMOVE_ALERT",payload:r})}),a)}));else{var r=O.a.v4();n({type:"SET_ALERT",payload:{id:r,msg:e,alertType:t}}),setTimeout((function(){n({type:"REMOVE_ALERT",payload:r})}),a)}}},T=function(){return function(e){var t;return v.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,v.a.awrap(y.get("/api/messages/count"));case 3:t=a.sent,e({type:"COUNT_UNSEEN_MESSAGES",payload:t.data.count}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),e(C(a.t0.response.data.message,"danger"));case 10:case"end":return a.stop()}}),null,null,[[0,7]])}},A=function(e,t){return function(a){return v.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,v.a.awrap(y.post("/api/messages/".concat(e),{text:t}));case 3:a(C("Message Sent","success")),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),a(C(n.t0.response.data.message,"danger"));case 9:case"end":return n.stop()}}),null,null,[[0,6]])}},x=function(){return function(e){var t;return v.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,v.a.awrap(y.get("/api/notifications/count"));case 3:t=a.sent,e({type:"COUNT_UNSEEN_NOTIFICATIONS",payload:t.data.count}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),e(C(a.t0.response.data.message,"danger"));case 10:case"end":return a.stop()}}),null,null,[[0,7]])}},j=function(){return function(e){return v.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e({type:"CLEAR_NOTIFICATIONS"});case 1:case"end":return t.stop()}}))}},k=function(){return function(e){e({type:"CLEAR_LIKED"})}},N=function(){return function(e){e({type:"CLEAR_PURCHASED"})}},I=function(){return function(e){e({type:"CLEAR_SELLINGS"})}},P=function(){return function(e){var t;return v.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(localStorage.token){a.next=2;break}return a.abrupt("return",null);case 2:return y.setAuthToken(localStorage.token),e({type:"LOAD_USER_START"}),a.prev=4,a.next=7,v.a.awrap(y.get("/api/user"));case 7:t=a.sent,e(C("Welcome, ".concat(t.data.name),"success")),e({type:"LOAD_USER_SUCCESS",payload:t.data}),e(T()),e(x()),a.next=18;break;case 14:a.prev=14,a.t0=a.catch(4),e(C(a.t0.response.data.message,"danger")),e({type:"LOAD_USER_FAIL"});case 18:case"end":return a.stop()}}),null,null,[[4,14]])}},R=a(9),M=a(127),w=a(32),L=a.n(w),U=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(a){return r.a.createElement("li",null,r.a.createElement(d.c,{to:a.linkTo,className:L.a.Link,activeClassName:[L.a.Link,L.a.active].join(" ")},t?r.a.createElement("span",{className:L.a.counter},t>99?99:t):null,r.a.createElement(e,{className:L.a.Icon}),r.a.createElement("span",{className:L.a.menuTitle},a.children)))}},D=a(6),F=a(17),G=a.n(F),z=a(57),B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(t){t({type:"SET_SEARCH",payload:e})}},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(t){t({type:"SET_CATEGORY",payload:e})}},J={headers:{"Content-Type":"multipart/form-data"}},V=function(){return function(e){return v.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e({type:"REFRESH_PRODUCTS"});case 1:case"end":return t.stop()}}))}},q=function(e){return function(t){var a;return v.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t({type:"GET_PRODUCT_START",payload:e}),n.prev=1,n.next=4,v.a.awrap(y.get("/api/products/".concat(e)));case 4:a=n.sent,t({type:"GET_PRODUCT_SUCCESS",payload:a.data}),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(1),t(C(n.t0.response.data.message,"danger")),t({type:"GET_PRODUCT_FAIL"});case 12:case"end":return n.stop()}}),null,null,[[1,8]])}},Y=Object(g.b)((function(e){return{search:e.filter.search,category:e.filter.category,loading:e.product.loading.getProduct}}),(function(e){return{setSearch:function(t){return e(B(t))},setCategory:function(t){return e(H(t))},refreshProducts:function(){return e(V())}}}))((function(e){var t=e.search,a=e.category,c=e.setSearch,o=e.setCategory,s=e.loading,i=e.refreshProducts,u=Object(n.useState)(!1),l=Object(D.a)(u,2),p=l[0],d=l[1],m=Object(n.useState)(!1),g=Object(D.a)(m,2),f=g[0],h=g[1],E=r.a.createRef(),v=function(){d(!0),h(!1),E.current.readOnly=!1,E.current.focus()},_=function(){!s&&i()},b=function(e){var t=e.target.getAttribute("category");o(t),d(!1),_()},y=function(e){e.preventDefault(),d(!1),E.current.readOnly=!0,E.current.blur(),_()},S=[{value:"",text:"All"},{value:"Home",text:"Home"},{value:"Academic",text:"Academic"},{value:"Ticket",text:"Ticket"},{value:"Electronics",text:"Electronics"},{value:"Women",text:"Women"},{value:"Men",text:"Men"},{value:"Other",text:"Other"}].map((function(e){return r.a.createElement("li",{key:e.text,onClick:b,className:a===e.value?[G.a.category,G.a.categoryActive].join(" "):G.a.category,category:e.value},e.text)})),O="";return a&&t?O=[a,t].join(" \u30fb "):a?O=a:t&&(O=t),r.a.createElement("div",{className:G.a.topBox},r.a.createElement("form",{onSubmit:y,className:G.a.searchInputContainer},r.a.createElement("input",{onClick:p?function(){}:v,className:G.a.searchInput,type:"text",placeholder:"Search",value:p?t:O,onChange:function(e){e.persist(),c(e.target.value),!f&&h(!0)},ref:E,readOnly:!0}),p&&r.a.createElement(R.c,{className:G.a.searchInputClear,onClick:function(){c("")}}),p&&r.a.createElement(n.Fragment,null,r.a.createElement("ul",{className:G.a.categories},S))),r.a.createElement(z.a,{className:G.a.searchIcon,onClick:p?y:v}),p&&r.a.createElement("div",{className:G.a.backdrop,onClick:function(){d(!1),E.current.readOnly=!0,E.current.blur(),f&&_()}}))})),K=a(85),W=a.n(K),X=Object(g.b)((function(e){return{auth:e.auth,msgCount:e.message.count,notificationCount:e.notification.count}}))(Object(m.g)((function(e){var t=e.auth,a=e.msgCount,c=e.notificationCount,o=e.location,s=U(R.j),i=U(R.f),u=U(M.a),l=U(R.m,c),p=U(R.l,a),d=U(R.i),m=U(R.i),g=t.isAuthenticated?r.a.createElement(n.Fragment,null,r.a.createElement(s,{linkTo:"/products"},"Home"),r.a.createElement(i,{linkTo:"/mylist/liked"},"My List"),r.a.createElement(u,{linkTo:"/sell"},"Sell"),r.a.createElement(l,{linkTo:"/notification"},"Notification"),r.a.createElement(p,{linkTo:"/inbox/recieved"},"Inbox"),r.a.createElement(d,{linkTo:"/mypage"},"My Page")):r.a.createElement(n.Fragment,null,r.a.createElement(s,{linkTo:"/products"},"Home"),r.a.createElement(m,{linkTo:"/auth"},"Auth"));return r.a.createElement("header",{className:W.a.Navigation},"/products"===o.pathname&&r.a.createElement(Y,null),r.a.createElement("ul",{className:W.a.NavigationItems},g))}))),Q=a(128),Z=a.n(Q),$=a(25),ee=a.n($),te=Object(g.b)((function(e){return{alerts:e.alerts}}))((function(e){var t=e.alerts,a=t.length>0?[ee.a.Alerts].join(" "):[ee.a.Alerts,ee.a.show].join(" ");return r.a.createElement("div",{className:a},null!==t&&t.length>0&&t.map((function(e){return r.a.createElement("div",{key:e.id,className:"success"===e.alertType?[ee.a.Alert,ee.a.Success].join(" "):[ee.a.Alert,ee.a.Danger].join(" ")},e.msg)})))})),ae=Object(g.b)((function(e){return{alerts:e.alerts}}))((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(te,null),r.a.createElement(X,null),r.a.createElement("main",{className:Z.a.main},e.children))})),ne=a(61),re=a.n(ne),ce=a(2),oe=a(129),se=a.n(oe),ie=function(e){var t=e.style,a=void 0===t?{}:t,n=e.type,c=void 0===n?"TailSpin":n,o=e.size,s=void 0===o?50:o,i=e.color,u=void 0===i?"#0084FF":i,l=e.timeout,p=void 0===l?0:l,d=e.center,m={};return void 0!==d&&d&&(m={position:"fixed",width:"100vw",height:"100vw",display:"flex",alignItems:"center",justifyContent:"center"}),r.a.createElement("div",{style:Object(ce.a)({},a,{width:"100%",textAlign:"center"},m)},r.a.createElement(se.a,{type:c,color:u,height:s,width:s,timeout:p}))},ue=a(130),le=a.n(ue),pe=function(e){if(!e)return a(205);var t="";return[].slice.call(new Uint8Array(e)).forEach((function(e){return t+=String.fromCharCode(e)})),"data:image/jpeg;base64,".concat(window.btoa(t))},de=a(131),me=a.n(de),ge=function(e){var t=e.style,a=void 0===t?{}:t,c=e.className,o=e.size,s=void 0===o?"3.5rem":o,i=e.src,u=e.alt,l=e.onClick,p=[me.a.profilePic];return c&&p.push(c),r.a.createElement(n.Fragment,null,r.a.createElement("img",{onClick:l,className:p.join(" "),style:Object(ce.a)({width:s,height:s},a),src:i,alt:u}))},fe=Object(g.b)((function(e){return{user:e.auth.user}}))(Object(m.g)((function(e){var t=e.history,a=e.user,n=a.avatar,c=a.name,o=pe(n?n.data:null);return r.a.createElement("div",{className:le.a.DisplayProfile},r.a.createElement("div",null,c),r.a.createElement(ge,{onClick:function(){return t.push("mypage/update/avatar")},src:o,size:"5rem"}))}))),he=a(26),Ee=a.n(he),ve=function(e){var t=e.children,a=e.className,n=e.style,c=e.onClick,o=e.btnType,s=void 0===o?"":o,i=e.loading,u=void 0!==i&&i,l=15,p=[Ee.a.Button];return a&&p.push(a),s.includes("color-primary")&&p.push(Ee.a.colorPrimary),s.includes("color-orange")&&p.push(Ee.a.colorOrange),s.includes("color-danger")&&p.push(Ee.a.colorDanger),s.includes("border-gray")&&p.push(Ee.a.borderGray),s.includes("size-sm")&&(p.push(Ee.a.sizeSmall),l=10),s.includes("size-lg")&&(p.push(Ee.a.sizeLarge),l=20),r.a.createElement("button",{onClick:u?function(){}:c,style:n,className:p.join(" ")},u?r.a.createElement(ie,{size:l}):t)},_e=Object(g.b)(null,{logout:function(){return function(e){e({type:"LOGOUT"}),e((function(e){e({type:"CLEAR_MESSAGES"})})),e(j()),e((function(e){e((function(e){e({type:"CLEAR_LIKED"})})),e((function(e){e({type:"CLEAR_PURCHASED"})})),e((function(e){e({type:"CLEAR_SELLINGS"})}))}))}}})(Object(m.g)((function(e){var t=e.logout,a=e.history;return r.a.createElement(ve,{style:{marginLeft:"auto",marginRight:"auto"},btnType:"border-gray size-lg",onClick:function(){t(),a.push("/")}},"Logout")}))),be=a(33),ye=a.n(be),Se=function(){return r.a.createElement("div",{className:ye.a.Setting},r.a.createElement("h3",null,"Setting"),r.a.createElement("ul",{className:ye.a.links},r.a.createElement(d.b,{className:ye.a.Link,to:"/mypage/update/profile"},"Update Profile"),r.a.createElement(d.b,{className:ye.a.Link,to:"/mypage/update/avatar"},"Update Profile Image"),r.a.createElement(d.b,{className:ye.a.Link,to:"/mypage/update/email"},"Change Email"),r.a.createElement(d.b,{className:ye.a.Link,to:"/mypage/update/password"},"Change Password")))},Oe=Object(g.b)((function(e){return{auth:e.auth}}),null)((function(e){return e.auth.loading?r.a.createElement(ie,{size:100,style:{margin:"2rem"}}):r.a.createElement("div",{className:re.a.mypage},r.a.createElement(fe,null),r.a.createElement("div",{className:re.a.hr}),r.a.createElement(Se,null),r.a.createElement("div",{className:re.a.hr}),r.a.createElement(_e,null))})),Ce=a(132),Te=a.n(Ce),Ae=a(62),xe=a.n(Ae),je=function(e){var t=e.items,a=t.map((function(e){var t=[xe.a.button];return e.active&&t.push(xe.a.active),r.a.createElement("button",{key:e.text,onClick:e.onClickHandler,className:t.join(" ")},e.text)}));return r.a.createElement("div",{className:xe.a.Switcher,style:{gridTemplateColumns:"repeat(".concat(t.length,", 1fr)")}},a)},ke=a(58),Ne=a.n(ke),Ie=a(154),Pe=function(e){var t=e.onRefreshFunc,a=e.loadMoreFunc,n=e.hasMore,c=e.children,o=e.spinnerSize,s=void 0===o?40:o,i=e.spinnerMarginTop,u=void 0===i?"2rem":i,l=r.a.createElement("span",{style:{display:"none"}}),p=r.a.createElement("p",{style:{position:"absolute",top:0,left:"50%",transform:"translate(-50%, -100%)",marginTop:"-1.5rem",paddingBottom:"1rem"}},"Release to Refresh"),d=r.a.createElement("p",{style:{position:"absolute",top:0,left:"50%",transform:"translate(-50%, -100%)",marginTop:"-1.5rem",paddingBottom:"1rem"}},"Pull to refresh");return r.a.createElement(Ie.a,Object.assign({key:!0},{getScrollContainer:function(){return document.body}},{style:{width:"100%",position:"relative"},onRefresh:t,indicator:{activate:p,deactivate:d,release:l,finish:l},distanceToRefresh:80,damping:250}),r.a.createElement(Ne.a,{pageStart:0,threshold:250,loadMore:a,hasMore:n,loader:r.a.createElement(ie,{key:"abc",size:s,style:{marginTop:u}})},c))},Re=function(e,t){return null==e?"":e.length<=t?e:(e=e.substring(0,t))+"..."},Me=a(27),we=a.n(Me),Le=Object(m.g)((function(e){var t=e.history,a=e.product,n=a._id,c=a.price,o=a.meetupAt,s=pe(a.productImageLow.data);return r.a.createElement("div",{className:we.a.Product,onClick:function(e){t.push("/products/".concat(n))}},r.a.createElement("div",{className:we.a.imageWrapper},r.a.createElement("img",{alt:"pic",className:we.a.Image,src:s}),a.sold&&r.a.createElement("div",{className:we.a.soldOut},"SOLD-OUT")),r.a.createElement("div",{className:we.a.TextBox},r.a.createElement("div",{className:we.a.Main},"\xa5 ",c.toLocaleString()),r.a.createElement("div",{className:we.a.Sub},Re(o,9))))})),Ue=Object(g.b)((function(e){return{liked:e.mylist.liked,purchased:e.mylist.purchased,sellings:e.mylist.sellings,auth:e.auth}}),{clearLiked:k,getLiked:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(t){var a,n;return v.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t({type:"GET_LIKED_START"}),r.prev=1,r.next=4,v.a.awrap(y.get("/api/products?limit=".concat(10,"&skip=").concat(e,"&liked=true")));case 4:a=r.sent,n=a.data.length>=10,t({type:"GET_LIKED_SUCCESS",payload:{products:a.data,hasMore:n}}),r.next=13;break;case 9:r.prev=9,r.t0=r.catch(1),t(C(r.t0.response.data.message,"danger")),t({type:"GET_LIKED_FAIL"});case 13:case"end":return r.stop()}}),null,null,[[1,9]])}},clearPurchased:N,getPurchased:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(t){var a,n;return v.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t({type:"GET_PURCHASED_START"}),r.prev=1,r.next=4,v.a.awrap(y.get("/api/products?limit=".concat(10,"&skip=").concat(e,"&purchased=true")));case 4:a=r.sent,n=a.data.length>=10,t({type:"GET_PURCHASED_SUCCESS",payload:{products:a.data,hasMore:n}}),r.next=13;break;case 9:r.prev=9,r.t0=r.catch(1),t(C(r.t0.response.data.message,"danger")),t({type:"GET_PURCHASED_FAIL"});case 13:case"end":return r.stop()}}),null,null,[[1,9]])}},clearSellings:I,getSellings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(t){var a,n;return v.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t({type:"GET_SELLINGS_START"}),r.prev=1,r.next=4,v.a.awrap(y.get("/api/products?limit=".concat(10,"&skip=").concat(e,"&sellings=true")));case 4:a=r.sent,n=a.data.length>=10,t({type:"GET_SELLINGS_SUCCESS",payload:{products:a.data,hasMore:n}}),r.next=13;break;case 9:r.prev=9,r.t0=r.catch(1),t(C(r.t0.response.data.message,"danger")),t({type:"GET_SELLINGS_FAIL"});case 13:case"end":return r.stop()}}),null,null,[[1,9]])}}})((function(e){var t=e.match,a=e.history,c=e.auth,o=e.liked,s=e.purchased,i=e.sellings,u=e.clearLiked,l=e.getLiked,p=e.clearPurchased,d=e.getPurchased,g=e.clearSellings,f=e.getSellings,h=t.params.status,E=[{text:"Liked",active:"liked"===h,onClickHandler:function(){return"liked"!==h&&a.push("/mylist/liked")}},{text:"Purchased",active:"purchased"===h,onClickHandler:function(){return"purchased"!==h&&a.push("/mylist/purchased")}},{text:"Sellings",active:"sellings"===h,onClickHandler:function(){return"sellings"!==h&&a.push("/mylist/sellings")}}],v=!0,_=[],b=function(){return null},y=function(){return null};switch(h){case"liked":_=o.products,v=o.hasMore,c.isAuthenticated&&!o.loading&&(b=function(){return l(o.products.length)},y=function(){return u()});break;case"purchased":_=s.products,v=s.hasMore,c.isAuthenticated&&!s.loading&&(b=function(){return d(s.products.length)},y=function(){return p()});break;case"sellings":_=i.products,v=i.hasMore,c.isAuthenticated&&!i.loading&&(b=function(){return f(i.products.length)},y=function(){return g()});break;default:return r.a.createElement(m.a,{to:"404"})}var S=_.map((function(e){return r.a.createElement(Le,{key:e._id,product:e})}));return r.a.createElement(n.Fragment,null,r.a.createElement(je,{items:E}),r.a.createElement("div",{style:{marginTop:"5.5rem"}},r.a.createElement(Pe,{onRefreshFunc:y,loadMoreFunc:b,hasMore:v},v||0!==S.length?r.a.createElement("div",{className:Te.a.items},S):r.a.createElement("p",{style:{height:"80vh"}},"No product found"))))})),De=a(133),Fe=a.n(De),Ge=a(15),ze=a(134),Be=a.n(ze),He=a(63),Je=a.n(He),Ve=function(e){e.id;var t=e.type,a=e.placeholder,n=e.value,c=void 0===n?"":n,o=e.onChange,s=e.name,i=e.required,u=void 0!==i&&i,l=e.className,p=e.style,d=e.children;return"textarea"===t?r.a.createElement("textarea",{placeholder:a,value:c,onChange:o,name:s,required:u,className:[Je.a.Textarea,l].join(" "),style:p}):"select"===t?r.a.createElement("select",{value:c,onChange:o,name:s,required:u,className:[Je.a.Input,l].join(" "),style:p},d):r.a.createElement("input",{type:t,placeholder:a,value:c,onChange:o,name:s,required:u,className:[Je.a.Input,l].join(" "),style:p})},qe=Object(g.b)(null,{setAlert:C,login:function(e){var t=e.email,a=e.password,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return function(e){var r;return v.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,v.a.awrap(y.post("/api/user/login",{email:t,password:a}));case 3:r=c.sent,e({type:"LOGIN",payload:r.data}),e(P(localStorage.token)),c.next=12;break;case 8:c.prev=8,c.t0=c.catch(0),n(),e(C(c.t0.response.data.message,"danger"));case 12:case"end":return c.stop()}}),null,null,[[0,8]])}},register:function(e){var t=e.name,a=e.email,n=e.password,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return function(e){var c;return v.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,v.a.awrap(y.post("/api/user/signup",{name:t,email:a,password:n}));case 3:c=o.sent,e({type:"REGISTER",payload:c.data}),e(P(localStorage.token)),o.next=12;break;case 8:o.prev=8,o.t0=o.catch(0),r(),e(C(o.t0.response.data.message,"danger"));case 12:case"end":return o.stop()}}),null,null,[[0,8]])}}})((function(e){var t=e.isSignup,a=e.setAlert,c=e.register,o=e.login,s=Object(n.useState)(!1),i=Object(D.a)(s,2),u=i[0],l=i[1],p=Object(n.useState)({name:"",email:"",password:"",password2:""}),d=Object(D.a)(p,2),m=d[0],g=d[1];Object(n.useEffect)((function(){g((function(){return{name:"",email:"",password:"",password2:""}}))}),[t]);var f=function(e){e.preventDefault(),e.persist(),g((function(t){return Object(ce.a)({},t,Object(Ge.a)({},e.target.name,e.target.value))}))};return u?r.a.createElement(ie,{style:{margin:"2rem"}}):r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var n=m.name,r=m.email,s=m.password,i=m.password2,u=function(){l(!1)};if(l(!0),t){if(s!==i)return a("password do not much","danger",u);c({name:n,email:r,password:s},u)}else o({email:r,password:s},u)},className:Be.a.AuthForm},t&&r.a.createElement(Ve,{type:"text",placeholder:"Username",value:m.name,onChange:function(e){return f(e)},name:"name",required:!0}),r.a.createElement(Ve,{type:"email",placeholder:"Email",value:m.email,onChange:f,name:"email",required:!0}),r.a.createElement(Ve,{type:"password",placeholder:"Password",value:m.password,onChange:f,name:"password",required:!0}),t&&r.a.createElement(Ve,{type:"password",placeholder:"Comfirm Password",value:m.password2,onChange:f,name:"password2",required:!0}),r.a.createElement(ve,{btnType:"color-primary"},t?"Signup":"Login"))})),Ye=a(44),Ke=a.n(Ye),We=function(e){var t=e.isSignup,a=e.onChangeFormType,n=[Ke.a.onSignupChange],c=[Ke.a.onLoginChange];return t?n.push(Ke.a.active):c.push(Ke.a.active),r.a.createElement("div",null,r.a.createElement("button",{className:n.join(" "),onClick:function(){return a(!0)}},"Signup"),r.a.createElement("button",{className:c.join(" "),onClick:function(){return a(!1)}},"Login"))},Xe=Object(g.b)((function(e){return{auth:e.auth}}),null)((function(e){var t=e.auth.isAuthenticated,a=Object(n.useState)(!0),c=Object(D.a)(a,2),o=c[0],s=c[1];if(t)return r.a.createElement(m.a,{to:"/"});var i=r.a.createElement(n.Fragment,null,r.a.createElement(We,{isSignup:o,onChangeFormType:function(e){e!==o&&s(e)}}),r.a.createElement(qe,{isSignup:o}));return r.a.createElement("div",{className:Fe.a.Auth},i)})),Qe=a(14),Ze=a.n(Qe),$e=Object(g.b)((function(e){return{search:e.filter.search,category:e.filter.category,loading:e.product.loading.getProduct}}),(function(e){return{setSearch:function(t){return e(B(t))},setCategory:function(t){return e(H(t))},refreshProducts:function(){return e(V())}}}))((function(e){var t=e.search,a=e.category,c=e.setSearch,o=e.setCategory,s=e.loading,i=e.refreshProducts,u=Object(n.useState)(!1),l=Object(D.a)(u,2),p=l[0],d=l[1],m=Object(n.useState)(!1),g=Object(D.a)(m,2),f=g[0],h=g[1],E=r.a.createRef(),v=function(){!s&&i()},_=function(e){var t=e.target.getAttribute("category");o(t),d(!1),v()},b=function(){d(!1),E.current.readOnly=!0,E.current.blur(),f&&v()},y=function(e){e.preventDefault(),d(!1),E.current.readOnly=!0,E.current.blur(),v()},S=[{value:"",text:"All"},{value:"Home",text:"Home"},{value:"Academic",text:"Academic"},{value:"Ticket",text:"Ticket"},{value:"Electronics",text:"Electronics"},{value:"Women",text:"Women"},{value:"Men",text:"Men"},{value:"Other",text:"Other"}].map((function(e){return r.a.createElement("li",{key:e.text,onClick:_,className:a===e.value?[Ze.a.category,Ze.a.categoryActive].join(" "):Ze.a.category,category:e.value},e.text)})),O="";return a&&t?O=[a,t].join(" \u30fb "):a?O=a:t&&(O=t),r.a.createElement("div",{className:Ze.a.Search},r.a.createElement("div",{className:Ze.a.topBox,onClick:p?function(){}:function(){d(!0),h(!1),E.current.readOnly=!1,E.current.focus()}},p&&r.a.createElement(R.h,{className:Ze.a.backIcon,onClick:b}),r.a.createElement("form",{onSubmit:y,className:Ze.a.searchInputContainer},r.a.createElement("input",{className:Ze.a.searchInput,type:"text",placeholder:"Search",value:p?t:O,onChange:function(e){e.persist(),c(e.target.value),!f&&h(!0)},ref:E,readOnly:!0}),p&&r.a.createElement(R.c,{className:Ze.a.searchInputClear,onClick:function(){c("")}})),r.a.createElement(z.a,{className:Ze.a.searchIcon,onClick:y})),p&&r.a.createElement(n.Fragment,null,r.a.createElement("ul",{className:Ze.a.categories},S),r.a.createElement("div",{className:Ze.a.backdrop,onClick:b})))})),et=a(135),tt=a.n(et),at=Object(g.b)((function(e){return{product:e.product,filter:e.filter}}),(function(e){return{getProducts:function(t){return e(function(e){var t=e.skip,a=void 0===t?0:t,n=e.limit,r=void 0===n?15:n,c=e.search,o=void 0===c?null:c,s=e.category,i=void 0===s?null:s;return function(e){var t,n,c;return v.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return e({type:"GET_PRODUCTS_START"}),(t=[]).push("limit=".concat(r)),t.push("skip=".concat(a)),o&&t.push("search=".concat(o)),i&&t.push("category=".concat(i)),s.prev=6,s.next=9,v.a.awrap(y.get("/api/products?".concat(t.join("&"))));case 9:n=s.sent,c=n.data.length===r,e({type:"GET_PRODUCTS_SUCCESS",payload:{products:n.data,hasMore:c}}),s.next=18;break;case 14:s.prev=14,s.t0=s.catch(6),e(C(s.t0.response.data.message,"danger")),e({type:"GET_PRODUCTS_FAIL"});case 18:case"end":return s.stop()}}),null,null,[[6,14]])}}(t))},refreshProducts:function(){return e(V())}}}))((function(e){var t=e.getProducts,a=e.refreshProducts,n=e.product,c=n.products,o=n.hasMore,s=n.loading,i=e.filter,u=i.search,l=i.category,p=c.map((function(e){return r.a.createElement(Le,{key:e._id,product:e})}));return r.a.createElement("div",null,r.a.createElement($e,null),r.a.createElement(Pe,{onRefreshFunc:function(){return!s.getProducts&&a()},loadMoreFunc:function(){s.getProducts||t({skip:c.length,limit:10,search:u,category:l})},hasMore:o},r.a.createElement("div",{className:tt.a.Products},0!==p.length||o?p:r.a.createElement("p",{styles:{paddingBottom:"30rem"}},"No product found"))))}));function nt(){return Object(n.useEffect)((function(){window.scrollTo(0,0)}),[]),null}var rt=a(64),ct=a.n(rt),ot=function(e){var t=e.text,a=e.buttonText,n=e.onButtonClick;return r.a.createElement("div",{className:ct.a.BottomBar},r.a.createElement("div",{className:ct.a.text},t),r.a.createElement("button",{className:ct.a.button,onClick:n},a))},st=a(136),it=a.n(st),ut=a(92),lt=a.n(ut),pt=Object(m.g)((function(e){var t=e.children,a=e.history;return r.a.createElement("div",{className:lt.a.TopBar},r.a.createElement("div",{className:lt.a.GoBack,onClick:function(e){return a.goBack()}},r.a.createElement(R.a,null)),t)})),dt=a(65),mt=a.n(dt),gt=function(e){var t=e.spinnerSize,a=void 0===t?35:t,n=e.onClick,c=e.isLiked,o=e.loading;return void 0!==o&&o?r.a.createElement(ie,{style:{margin:0},size:a,color:"pink"}):r.a.createElement("button",{className:mt.a.likeButton,onClick:function(e){return n()}},c?r.a.createElement(R.d,{className:mt.a.Like}):r.a.createElement(R.e,{className:mt.a.Unlike}))},ft=Object(g.b)((function(e){return{product:e.product.product,loadingLike:e.product.loading.likes,auth:e.auth}}),{deleteProduct:function(e){return function(t){return v.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,v.a.awrap(y.delete("/api/products/".concat(e)));case 3:t({type:"DELETE_PRODUCT",payload:e}),t(C("Product deleted","success")),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),t(C(a.t0.response.data.message,"danger"));case 10:case"end":return a.stop()}}),null,null,[[0,7]])}},setLike:function(e,t){return function(a){var n;return v.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,v.a.awrap(y.put("/api/products/like/".concat(e)));case 3:n=r.sent,a({type:"SET_LIKE",payload:n.data}),t(),r.next=12;break;case 8:r.prev=8,r.t0=r.catch(0),a(C(r.t0.response.data.message,"danger")),t();case 12:case"end":return r.stop()}}),null,null,[[0,8]])}},setUnlike:function(e,t){return function(a){var n;return v.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,v.a.awrap(y.put("/api/products/unlike/".concat(e)));case 3:n=r.sent,a({type:"SET_UNLIKE",payload:n.data}),t(),r.next=12;break;case 8:r.prev=8,r.t0=r.catch(0),a(C(r.t0.response.data.message,"danger")),t();case 12:case"end":return r.stop()}}),null,null,[[0,8]])}}})(Object(m.g)((function(e){var t=e.history,a=e.match,c=e.auth,o=e.product,s=e.deleteProduct,i=e.setLike,u=e.setUnlike,l=Object(n.useState)(!1),p=Object(D.a)(l,2),d=p[0],m=p[1],g=!1;c.isAuthenticated&&o&&(g=o.likes.includes(c.user._id));return r.a.createElement(pt,null,r.a.createElement("div",{className:it.a.items},c.isAuthenticated&&c.user._id===o.user&&!1===o.sold&&r.a.createElement(n.Fragment,null,r.a.createElement(ve,{btnType:"color-orange size-sm",onClick:function(){t.push("/edit/".concat(o._id))}},"Edit"),r.a.createElement(ve,{btnType:"color-danger size-sm",onClick:function(){s(a.params.id),t.push("/products")}},"Delete")),r.a.createElement(gt,{loading:d,onClick:function(){return function(){if(!c.isAuthenticated)return t.push("/auth");m(!0);var e=function(){return m(!1)};g?u(a.params.id,e):i(a.params.id,e)}()},isLiked:g})))}))),ht=a(40),Et=a.n(ht),vt=a(5),_t=a.n(vt),bt=a(45),yt=a.n(bt),St=a(93),Ot=a.n(St),Ct=a(137),Tt=a.n(Ct),At=function(e){var t=e.children,a=e.style,c=e.className,o=[Tt.a.line,c].join(" "),s=t.split("\n").len;return t.split("\n").map((function(e,t){return r.a.createElement(n.Fragment,{key:t},r.a.createElement("span",{style:a,className:o},e),t!==s-1&&r.a.createElement("br",null))}))},xt=a(94),jt=a.n(xt),kt=Object(m.g)((function(e){var t=e.title,a=void 0===t?null:t,c=e.name,o=e.avatar,s=e.userId,i=e.history,u=e.imageSize,l=void 0===u?"3rem":u,p=e.imageLeft,d=void 0===p||p,m=e.fontSize,g=void 0===m?"1.4rem":m,f=e.color,h=void 0===f?"inherit":f,E=e.fontWeight,v=void 0===E?"bold":E,_=e.marginBetween,b=void 0===_?"1.5rem":_,y=e.style,S=pe(o?o.data:null),O=d?{marginLeft:b}:{marginRight:b},C=r.a.createElement(ge,{alt:"Profile Picture",src:S,size:l,className:jt.a.UserPicture}),T=r.a.createElement("div",{style:Object(ce.a)({},O,{fontSize:g,fontWeight:v,color:h})},a&&r.a.createElement("span",{style:{fontWeight:"normal"}},"".concat(a," ")),c);return r.a.createElement("div",{className:[jt.a.User,y].join(" "),onClick:s?function(){return i.push("/profile/".concat(s))}:function(){return null}},d?r.a.createElement(n.Fragment,null,C,T):r.a.createElement(n.Fragment,null,T,C))})),Nt=function(e){var t=e.comment;return r.a.createElement("div",{className:Ot.a.Comment},r.a.createElement(kt,{name:t.name,avatar:t.avatar,userId:t.user}),r.a.createElement("div",{className:Ot.a.Text},r.a.createElement(At,null,t.text)))},It=Object(g.b)((function(e){return{comments:e.product.product.comments,auth:e.auth,addComment:_t.a.func.isRequired}}),{addComment:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return function(n){var r;return v.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,v.a.awrap(y.post("/api/products/comment/".concat(e),{text:t}));case 3:r=c.sent,n(C("Added Comment","success")),n({type:"ADD_COMMENT",payload:r.data}),a(),c.next=13;break;case 9:c.prev=9,c.t0=c.catch(0),n(C(c.t0.response.data.message,"danger")),a();case 13:case"end":return c.stop()}}),null,null,[[0,9]])}}})(Object(m.g)((function(e){var t=e.addComment,a=e.auth,c=e.comments,o=e.history,s=e.match,i=Object(n.useState)(!1),u=Object(D.a)(i,2),l=u[0],p=u[1],d=Object(n.useState)(""),m=Object(D.a)(d,2),g=m[0],f=m[1];Object(n.useEffect)((function(){f((function(){return""}))}),[c]);return r.a.createElement(n.Fragment,null,r.a.createElement("h3",{className:yt.a.Header},"Comments"),r.a.createElement("div",{className:yt.a.Comments},0===c.length&&r.a.createElement("p",null,"No Comment yet"),c.map((function(e){return r.a.createElement(Nt,{key:e._id,comment:e})})),r.a.createElement("textarea",{className:yt.a.Textarea,placeholder:"New comment here",value:g,onChange:function(e){e.persist(),f(e.target.value)}}),r.a.createElement(ve,{btnType:"color-primary",className:yt.a.button,onClick:function(e){return a.isAuthenticated?""===g?alert("Comment needed"):(p(!0),void t(s.params.id,g,(function(){return p(!1)}))):o.push("/auth")},loading:l},"SEND")))}))),Pt=a(138),Rt=a.n(Pt),Mt=function(e){return r.a.createElement("div",{className:Rt.a.card,onClick:e.onClick},r.a.createElement(kt,{name:e.name,avatar:e.avatar,imageLeft:!1,fontSize:"1.6rem",imageSize:"4rem"}),r.a.createElement(R.b,null))},wt=Object(g.b)((function(e){return{product:e.product.product}}),null)(Object(m.g)((function(e){var t=e.history,a=e.product,c=a.productImage,o=a.productImageLow,s=a.avatar,i=a.name,u=a.description,l=a.meetupAt,p=a.title,d=a.user,m=a.purchaser,g=pe(c?c.data:o.data);return r.a.createElement("div",{className:Et.a.Main},r.a.createElement("img",{alt:"pic",className:Et.a.Image,src:g}),r.a.createElement("div",{className:Et.a.Container},r.a.createElement("h2",null,p),r.a.createElement("div",{className:Et.a.subContainer},u),r.a.createElement("h3",null,"Meetup Place"),r.a.createElement("div",{className:Et.a.subContainer},r.a.createElement("p",null,l)),r.a.createElement("h3",null,"Seller"),r.a.createElement(Mt,{name:i,avatar:s,onClick:function(){return t.push("/profile/".concat(d))}}),m&&m.name&&r.a.createElement(n.Fragment,null,r.a.createElement("h3",null," Purchaser"),r.a.createElement(Mt,{name:m.name,avatar:m.avatar,onClick:function(){return t.push("/profile/".concat(m._id))}})),r.a.createElement(It,null)))}))),Lt=Object(g.b)((function(e){return{product:e.product.product,loading:e.product.loading,auth:e.auth}}),{getProduct:q,purchaseProduct:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return function(a){var n;return v.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,v.a.awrap(y.put("/api/products/purchase/".concat(e)));case 3:n=r.sent,a({type:"PURCHASE_PRODUCT",payload:n.data}),a(C("Purchased a product","success")),t(),r.next=13;break;case 9:r.prev=9,r.t0=r.catch(0),a(C(r.t0.response.data.message,"danger")),t();case 13:case"end":return r.stop()}}),null,null,[[0,9]])}},cancelProduct:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return function(a){var n;return v.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,v.a.awrap(y.put("/api/products/cancel/".concat(e)));case 3:n=r.sent,a({type:"CANCEL_PRODUCT",payload:n.data}),a(C("Canceled a product","success")),t(),r.next=13;break;case 9:r.prev=9,r.t0=r.catch(0),a(C(r.t0.response.data.message,"danger")),t();case 13:case"end":return r.stop()}}),null,null,[[0,9]])}},rejectProduct:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return function(a){var n;return v.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,v.a.awrap(y.put("/api/products/reject/".concat(e)));case 3:n=r.sent,a({type:"REJECT_PRODUCT",payload:n.data}),a(C("Reject a customer's purchase","success")),t(),r.next=13;break;case 9:r.prev=9,r.t0=r.catch(0),a(C(r.t0.response.data.message,"danger")),t();case 13:case"end":return r.stop()}}),null,null,[[0,9]])}}})((function(e){var t=e.loading,a=e.product,c=e.auth,o=e.getProduct,s=e.history,i=e.match,u=e.purchaseProduct,l=e.cancelProduct,p=e.rejectProduct,d=Object(n.useState)(!1),m=Object(D.a)(d,2),g=m[0],f=m[1];if(Object(n.useEffect)((function(){o(i.params.id)}),[o,i.params.id]),t.getProduct)return r.a.createElement(ie,{style:{margin:"2rem"}});if(!a)return r.a.createElement("p",null,"Not found!");var h=function(){f(!1)},E=a.purchaser,v="Purchase",_=function(){f(!0),u(i.params.id,h)};return!a.sold&&c.isAuthenticated&&a.user.toString()===c.user._id.toString()?(v="EDIT",_=function(){return s.push("/edit/".concat(i.params.id))}):a.sold&&c.isAuthenticated&&a.user.toString()===c.user._id.toString()?(v="REJECT",_=function(){f(!0),p(i.params.id,h)}):a.sold&&c.isAuthenticated&&E._id&&E._id.toString()===c.user._id.toString()?(v="CANCEL",_=function(){f(!0),l(i.params.id,h)}):a.sold&&(v="SOLD OUT",_=function(){return null}),c.isAuthenticated||(_=function(){return s.push("/auth")}),g&&(v=r.a.createElement(ie,{size:15,style:{margin:0},color:"white"}),_=function(){return null}),r.a.createElement("div",null,r.a.createElement(nt,null),r.a.createElement(ft,null),r.a.createElement(wt,null),r.a.createElement(ot,{text:"\xa5 ".concat(a.price.toLocaleString()),buttonText:v,onButtonClick:_}))})),Ut=a(46),Dt=a.n(Ut),Ft=a(153),Gt=a(140),zt=a.n(Gt);a(247);var Bt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e7,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"image/png, image/jpg, image/jpeg",n=a.split(",").map((function(e){return e.trim()}));if(e&&e.length>0){var r=e[0],c=r.type,o=r.size;return o>t?(alert("This file is too big (Max: 10MB)"),!1):!!n.includes(c)||(alert("This file is not allowed. Only jpg, jpeg and png are allowed."),!1)}},Ht=a(20),Jt=a.n(Ht),Vt=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={cropping:!1,src:!!a.props.defaultImage||null,crop:{unit:"%",width:70,aspect:4/3},croppedImageBase64:a.props.defaultImage||null,isModified:!a.props.defaultImage},a.onSelectFile=function(e,t){if((t&&t.length>0&&(console.log("File rejected"),Bt(t,a.props.maxSize)),e&&e.length>0)&&Bt(e,a.props.maxSize)){var n=e[0],r=new FileReader;r.addEventListener("load",(function(){a.setState({src:r.result,cropping:!0})}),!1),r.readAsDataURL(n)}},a.onImageLoaded=function(e){a.imageRef=e},a.onCropComplete=function(e){if(a.imageRef&&e.width&&e.height){var t=function(e,t){var a=document.createElement("canvas"),n=e.naturalWidth/e.width,r=e.naturalHeight/e.height,c=t.width*n,o=t.height*r,s=c,i=o;return(c>1200||o>675)&&(c/o>1200/675?(s=1200,i=Math.round(o/c*1200)):(i=675,s=Math.round(c/o*675))),a.width=s,a.height=i,a.getContext("2d").drawImage(e,t.x*n,t.y*r,t.width*n,t.height*r,0,0,s,i),a.toDataURL("image/jpeg",.9)}(a.imageRef,e);a.setState({croppedImageBase64:t,isModified:!0})}},a.onCropChange=function(e,t){a.setState({crop:e})},a.readyToUpload=function(){var e=function(e,t){for(var a=e.split(","),n=a[0].match(/:(.*?);/)[1],r=atob(a[1]),c=r.length,o=new Uint8Array(c);c--;)o[c]=r.charCodeAt(c);return new File([o],t,{type:n})}(a.state.croppedImageBase64,"newFile");a.setState({cropping:!1}),a.props.setImage(e)},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.cropping,n=t.src,c=t.crop,o=t.croppedImageBase64,s=this.props.maxSize||1e7;return r.a.createElement("div",null,r.a.createElement("div",{className:Jt.a.ReactCropContainer},n&&a&&r.a.createElement("div",{className:Jt.a.ReactCrop},r.a.createElement(zt.a,{src:n,crop:c,onImageLoaded:this.onImageLoaded,onComplete:this.onCropComplete,onChange:this.onCropChange})),n&&!a&&r.a.createElement("img",{alt:"Crop",style:{width:"100%"},src:o}),r.a.createElement("div",{className:Jt.a.buttons},n&&a&&r.a.createElement("button",{className:Jt.a.crop,onClick:this.readyToUpload},"Crop"),n&&!a&&this.state.isModified&&r.a.createElement("button",{className:Jt.a.edit,onClick:function(){e.setState({cropping:!0})}},"Edit"),n&&r.a.createElement("button",{className:Jt.a.remove,onClick:function(){e.setState({src:null,croppedImageBase64:null}),e.props.setImage(null)}},"Remove"))),!n&&r.a.createElement(Ft.a,{onDrop:this.onSelectFile,maxSize:s,multiple:!1,accept:"image/png, image/jpg, image/jpeg"},(function(e){var t=e.getRootProps,a=e.getInputProps;return r.a.createElement("section",{className:Jt.a.Dropzone},r.a.createElement("div",t(),r.a.createElement("input",a()),r.a.createElement(R.k,{size:"10rem",color:"#ddd",className:Jt.a.DropzoneIcon})))})))}}]),t}(n.PureComponent),qt={inputValues:{title:"",price:"",category:"Home",meetupAt:"",description:"",productImage:""},imgModified:!0},Yt=function(e,t){switch(t.type){case"UPDATE_FORM_INPUT":return Object(ce.a)({},e,{inputValues:Object(ce.a)({},e.inputValues,Object(Ge.a)({},t.inputIdentifier,t.value))});case"UPDATE_FORM_IMAGE":return Object(ce.a)({},e,{inputValues:Object(ce.a)({},e.inputValues,{productImage:t.imageFile}),imgModified:!0});case"INIT_STATE":return t.initState;default:throw new Error("No action type matched!!")}},Kt=function(e){var t=e.match,a=e.history,c=Object(n.useState)(!0),o=Object(D.a)(c,2),s=o[0],i=o[1],u=Object(g.d)((function(e){return e.product.product})),l=Object(g.c)(),p=Object(n.useReducer)(Yt,qt),d=Object(D.a)(p,2),m=d[0],f=d[1],h=t.params.id;Object(n.useEffect)((function(){v.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!h||u&&(!u||h===u._id.toString())){e.next=4;break}return e.next=4,v.a.awrap(l(q(h)));case 4:if(i(!1),u&&h){e.next=7;break}return e.abrupt("return");case 7:f({type:"INIT_STATE",initState:{inputValues:{title:u.title,price:u.price,category:u.category,meetupAt:u.meetupAt,description:u.description,productImage:pe(u.productImage.data)},imgModified:!1}}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),null,null,[[0,10]])}),[f,h,u]);var E=m.inputValues,_=E.title,b=E.price,S=E.category,O=E.meetupAt,T=E.description,A=E.productImage,x=m.imgModified,j=function(e){f({type:"UPDATE_FORM_INPUT",value:e.target.value,inputIdentifier:e.target.name})},k=function(e){e.preventDefault();var n,r=new FormData;if(r.append("title",_),r.append("price",b),r.append("category",S),r.append("meetupAt",O),r.append("description",T),!A)return alert("Please set Image");x&&r.append("productImage",A),l(h?function(e,t){return function(a){return v.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,v.a.awrap(y.put("/api/products/".concat(e),t,J));case 3:a(C("Edited Product","success")),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),a(C(n.t0.response.data.message,"danger"));case 9:case"end":return n.stop()}}),null,null,[[0,6]])}}(t.params.id,r):(n=r,function(e){return v.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.a.awrap(y.post("/api/products",n,J));case 3:e(C("Added Product","success")),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),e(C(t.t0.response.data.message,"danger"));case 9:case"end":return t.stop()}}),null,null,[[0,6]])})),a.push("/products")};return r.a.createElement(n.Fragment,null,r.a.createElement(pt,null),s?r.a.createElement(ie,{center:!0}):r.a.createElement("div",{className:Dt.a.Sell},r.a.createElement("div",{className:Dt.a.ImageDropAndCrop},r.a.createElement(Vt,{maxSize:1e7,setImage:function(e){return function(e){f({type:"UPDATE_FORM_IMAGE",imageFile:e})}(e)},defaultImage:x?null:A})),r.a.createElement("form",{className:Dt.a.sellForm,onSubmit:function(e){return k(e)}},r.a.createElement("label",null,"Product"),r.a.createElement(Ve,{type:"text",placeholder:"Product Name (20 words or less)",name:"title",value:_,onChange:function(e){return j(e)},required:!0}),r.a.createElement("label",null,"Price"),r.a.createElement(Ve,{type:"number",placeholder:"Price in Yen",name:"price",value:b,onChange:function(e){return j(e)},required:!0}),r.a.createElement("label",null,"Category"),r.a.createElement(Ve,{type:"select",name:"category",value:S,onChange:function(e){return j(e)}},r.a.createElement("option",{value:"Home"},"Home"),r.a.createElement("option",{value:"Academic"},"Academic"),r.a.createElement("option",{value:"Electronics"},"Electronics"),r.a.createElement("option",{value:"Ticket"},"Ticket"),r.a.createElement("option",{value:"Women"},"Women"),r.a.createElement("option",{value:"Men"},"Men"),r.a.createElement("option",{value:"Other"},"Other")),r.a.createElement("label",null,"Meetup Place"),r.a.createElement(Ve,{type:"text",placeholder:"Meetup Place",name:"meetupAt",value:O,onChange:function(e){return j(e)},required:!0}),r.a.createElement("label",null,"Description"),r.a.createElement(Ve,{type:"textarea",placeholder:"Description here",name:"description",value:T,onChange:function(e){return j(e)},required:!0}),r.a.createElement(ve,{className:Dt.a.btn,btnType:"color-primary size-lg"},"Submit"))))},Wt=a(95),Xt=a.n(Wt),Qt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return function(a){var n;return v.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return a({type:"GET_PROFILE_START"}),r.prev=1,r.next=4,v.a.awrap(y.get("/api/user/".concat(e)));case 4:n=r.sent,a({type:"GET_PROFILE_SUCCESS",payload:n.data}),t(),r.next=14;break;case 9:r.prev=9,r.t0=r.catch(1),a(C(r.t0.response.data.message,"danger")),a({type:"GET_PROFILE_FAIL"}),t();case 14:case"end":return r.stop()}}),null,null,[[1,9]])}},Zt=a(96),$t=a.n(Zt),ea=a(141),ta=Object(m.g)((function(e){var t,a=e.user,c=e.match;return a&&(t=a.avatar?pe(a.avatar.data):pe(null)),r.a.createElement(n.Fragment,null,r.a.createElement("img",{src:t,alt:"Profile",className:$t.a.profileImage}),r.a.createElement("h2",null,a.name),r.a.createElement("div",{className:$t.a.icons},r.a.createElement(d.b,{to:"/messages/".concat(c.params.id)},r.a.createElement(ea.a,{size:"4rem"})),a.facebook&&r.a.createElement("a",{target:"_blank",style:{marginLeft:"1rem"},href:a.facebook},r.a.createElement(R.g,{size:"4rem",color:"#0084ff"}))))})),aa=a(142),na=a.n(aa),ra=Object(g.b)((function(e){return{products:e.profile.products.products,hasMore:e.profile.products.hasMore,loading:e.profile.products.loading}}),{getProfileProducts:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return function(n){var r,c;return v.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return n({type:"GET_PROFILE_PRODUCTS_START"}),o.prev=1,o.next=4,v.a.awrap(y.get("/api/products/sellings/".concat(e,"?skip=").concat(t,"&limit=").concat(a)));case 4:r=o.sent,c=r.data.length===a,n({type:"GET_PROFILE_PRODUCTS_SUCCESS",payload:{products:r.data,hasMore:c}}),o.next=13;break;case 9:o.prev=9,o.t0=o.catch(1),n(C(o.t0.response.data.message,"danger")),n({type:"GET_PROFILE_PRODUCTS_FAIL"});case 13:case"end":return o.stop()}}),null,null,[[1,9]])}}})(Object(m.g)((function(e){var t=e.match,a=e.products,n=e.hasMore,c=e.loading,o=e.getProfileProducts,s=c?function(){return null}:function(){return o(t.params.id,a.length)},i=null;return c||0!==a.length||(i=r.a.createElement("p",null,"No selling products")),a.length>0&&(i=a.map((function(e){return r.a.createElement(Le,{key:e._id,product:e})}))),r.a.createElement("div",{style:{width:"100%"}},r.a.createElement(Ne.a,{pageStart:0,threshold:250,loadMore:s,hasMore:n,loader:r.a.createElement(ie,{key:"abc",size:50,style:{marginTop:"3rem"}})},r.a.createElement("div",{className:na.a.items},i)))}))),ca=Object(g.b)((function(e){return{user:e.profile.user}}),{getProfile:Qt})((function(e){var t=e.history,a=e.match,c=e.user,o=e.getProfile,s=Object(n.useState)(!1),i=Object(D.a)(s,2),u=i[0],l=i[1];Object(n.useEffect)((function(){c&&c._id.toString()===a.params.id||(l(!0),o(a.params.id,(function(){l(!1)})))}),[o,c,a.params.id]);var p=r.a.createElement("p",null,"User not found");return u&&(p=r.a.createElement(ie,{style:{marginTop:"5rem"}})),!u&&c&&(p=r.a.createElement(n.Fragment,null,r.a.createElement(ta,{user:c}),r.a.createElement("div",{className:Xt.a.hr}),r.a.createElement(ra,null))),r.a.createElement(n.Fragment,null,r.a.createElement(pt,{goBack:function(){return t.goBack()}}),r.a.createElement("div",{className:Xt.a.Profile},p))})),oa=a(143),sa=a.n(oa),ia=a(144),ua=a.n(ia),la=a(97),pa=a.n(la);pa.a.updateLocale("en",{relativeTime:{future:"in %s",past:"%s ",s:"%ds",m:"%dm",mm:"%dm",h:"%dh",hh:"%dh",d:"%dd",dd:"%dd",M:"%dmth",MM:"%dmths",y:"%dy",yy:"%d y"}});var da=function(e){return pa()(e).fromNow()},ma=a(34),ga=a.n(ma),fa=function(e){var t=e.notification,a=t.trigger,n=t.innerHTML,c=t.product,o=t.createdAt,s=a.avatar?pe(a.avatar.data):pe(null);return r.a.createElement(d.b,{className:ga.a.Link,to:"/products/".concat(c)},r.a.createElement("div",{className:ga.a.Notification},r.a.createElement("img",{className:ga.a.Image,src:s,alt:"profile_picture"}),r.a.createElement("div",{className:ga.a.rightContainer},r.a.createElement("p",{className:ga.a.Text},ua()(n)),r.a.createElement("p",{className:ga.a.Time},"".concat(da(o)," ago")))))},ha=Object(g.b)((function(e){return{notification:e.notification,auth:e.auth}}),{getNotifications:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return function(a){var n,r;return v.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return a({type:"GET_NOTIFICATIONS_START"}),c.prev=1,c.next=4,v.a.awrap(y.get("/api/notifications?skip=".concat(e,"&limit=").concat(t)));case 4:n=c.sent,r=!(n.data.notifications.length<t),a({type:"GET_NOTIFICATIONS_SUCCESS",payload:{notifications:n.data.notifications,countUnseenToSeen:n.data.countUnseenToSeen,hasMore:r}}),c.next=13;break;case 9:c.prev=9,c.t0=c.catch(1),a(C(c.t0.response.data.message,"danger")),a({type:"GET_NOTIFICATIONS_FAIL"});case 13:case"end":return c.stop()}}),null,null,[[1,9]])}},refreshNotifications:function(){return function(e){e(j()),e(x())}}})((function(e){var t,a=e.auth,n=e.notification,c=n.notifications,o=n.hasMore,s=n.loading,i=e.getNotifications,u=e.refreshNotifications;t=c.map((function(e){return r.a.createElement(fa,{key:e._id,notification:e})}));var l=r.a.createElement("p",{style:{height:"75vh"}},"No notification yet"),p=function(){return null},d=function(){return null};return a.isAuthenticated&&!s&&(p=function(){return i(c.length)},d=function(){return u()}),r.a.createElement("div",null,r.a.createElement(Pe,{onRefreshFunc:d,loadMoreFunc:p,hasMore:o},r.a.createElement("ul",{className:sa.a.notifications},o||0!==t.length?t:l)))})),Ea=a(145),va=a.n(Ea),_a=a(28),ba=a.n(_a),ya=function(e){var t=e.messageId,a=e.name,n=e.createdAt,c=e.text,o=e.checkRecieved,s=e.partialPath,i=e.avatar,u=e.seen,l=void 0===u||u,p=pe(i?i.data:null);return r.a.createElement(d.b,{className:ba.a.Link,to:"/inbox/".concat(s,"/").concat(t)},r.a.createElement("div",{className:ba.a.Message},r.a.createElement("img",{className:ba.a.Image,src:p,alt:"profile_picture"}),r.a.createElement("p",{className:ba.a.Name},r.a.createElement("span",{style:{fontWeight:"normal"}},o?"From ":"To "),a),r.a.createElement("p",{className:ba.a.Time},"".concat(da(n)," ago")),r.a.createElement("p",{className:ba.a.Text},Re(c,40)),!l&&r.a.createElement("span",{className:ba.a.unseen})))},Sa=Object(g.b)((function(e){return{message:e.message,auth:e.auth}}),{clearRecievedMessages:function(){return function(e){return v.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e({type:"CLEAR_RECIEVED_MESSAGES"}),e(T());case 2:case"end":return t.stop()}}))}},clearSentMessages:function(){return function(e){return v.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e({type:"CLEAR_SENT_MESSAGES"});case 1:case"end":return t.stop()}}))}},getRecieved:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return function(a){var n,r;return v.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return a({type:"GET_RECIEVED_START"}),c.prev=1,c.next=4,v.a.awrap(y.get("/api/messages/recieved?skip=".concat(e,"&limit=").concat(t)));case 4:n=c.sent,r=!(n.data.length<t),a({type:"GET_RECIEVED_SUCCESS",payload:{messages:n.data,hasMore:r}}),c.next=13;break;case 9:c.prev=9,c.t0=c.catch(1),a(C(c.t0.response.data.message,"danger")),a({type:"GET_RECIEVED_FAIL"});case 13:case"end":return c.stop()}}),null,null,[[1,9]])}},getSent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return function(a){var n,r;return v.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return a({type:"GET_SENT_START"}),c.prev=1,c.next=4,v.a.awrap(y.get("/api/messages/sent?skip=".concat(e,"&limit=").concat(t)));case 4:n=c.sent,r=!(n.data.length<t),a({type:"GET_SENT_SUCCESS",payload:{messages:n.data,hasMore:r}}),c.next=13;break;case 9:c.prev=9,c.t0=c.catch(1),a(C(c.t0.response.data.message,"danger")),a({type:"GET_SENT_FAIL"});case 13:case"end":return c.stop()}}),null,null,[[1,9]])}}})((function(e){var t,a=e.history,n=e.match,c=e.auth,o=e.message,s=o.recieved,i=o.sent,u=e.clearRecievedMessages,l=e.clearSentMessages,p=e.getRecieved,d=e.getSent,m="recieved"===n.params.status,g=[{text:"Recieved",active:m,onClickHandler:function(){return!m&&a.push("/inbox/recieved")}},{text:"Sent",active:!m,onClickHandler:function(){return m&&a.push("/inbox/sent")}}];t=m?s.messages.map((function(e){return r.a.createElement(ya,{key:e._id,name:e.senderName,messageId:e._id,text:e.text,createdAt:e.createdAt,avatar:e.sender.avatar,partialPath:"recieved",checkRecieved:m,seen:e.seen})})):i.messages.map((function(e){return r.a.createElement(ya,{key:e._id,name:e.recipientName,messageId:e._id,text:e.text,avatar:e.recipient.avatar,createdAt:e.createdAt,partialPath:"sent",checkRecieved:m})}));var f=r.a.createElement("p",{style:{height:"75vh"}},"No recieved message yet"),h=function(){return null},E=function(){return null};c.isAuthenticated&&m&&!s.loading&&(h=function(){return p(s.messages.length)},E=function(){return u()}),!c.isAuthenticated||m||i.loading||(h=function(){return d(i.messages.length)},E=function(){return l()});var v=m?s.hasMore:i.hasMore;return r.a.createElement("div",null,r.a.createElement(je,{items:g}),r.a.createElement("div",{className:va.a.messages},r.a.createElement(Pe,{onRefreshFunc:E,loadMoreFunc:h,hasMore:v},r.a.createElement("ul",null,v||0!==t.length?t:f))))})),Oa=a(146),Ca=a.n(Oa),Ta=function(e){var t=e.counterParty;return r.a.createElement(pt,null,t&&r.a.createElement(kt,{name:t.name,avatar:t.avatar,userId:t._id,"font-size":"1.5rem"}))},Aa=a(66),xa=a.n(Aa),ja=function(e){var t=e.message,a=e.counterParty,n=e.amIRecipient?"from":"to";return r.a.createElement("div",{className:xa.a.Message},r.a.createElement("div",{className:xa.a.Message},r.a.createElement("div",null,"Message ",n," ",a.name),r.a.createElement("div",{className:xa.a.textsContainer},r.a.createElement(At,null,t.text))))},ka=function(e){var t=Object(n.useState)(""),a=Object(D.a)(t,2),c=a[0],o=a[1];return r.a.createElement("form",{onSubmit:function(t){return function(t){t.preventDefault(),e.onSubmitHandler(c)}(t)}},r.a.createElement(Ve,{type:"textarea",placeholder:"Reply message here...",value:c,onChange:function(e){return o(e.target.value)},required:!0}),r.a.createElement(ve,{btnType:"color-primary",loading:e.loading},"Reply"))},Na=Object(g.b)((function(e){return{message:e.message.message}}),{getMessage:function(e,t){return function(a){var n;return v.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return a({type:"GET_MESSAGE_START",payload:e}),r.prev=1,r.next=4,v.a.awrap(y.get("/api/messages/".concat(e)));case 4:n=r.sent,a({type:"GET_MESSAGE_SUCCESS",payload:n.data}),t(),r.next=14;break;case 9:r.prev=9,r.t0=r.catch(1),a(C(r.t0.response.data.message,"danger")),a({type:"GET_MESSAGE_FAIL"}),t();case 14:case"end":return r.stop()}}),null,null,[[1,9]])}},sendMessage:A})((function(e){var t=e.match,a=e.history,c=e.message,o=e.getMessage,s=e.sendMessage,i=Object(n.useState)(!1),u=Object(D.a)(i,2),l=u[0],p=u[1];Object(n.useEffect)((function(){p(!0),o(t.params.id,(function(){return p(!1)}))}),[o,t.params.id]);var d="/inbox/recieved/:id"===t.path,m={};c&&(d?(m=c.sender).name=c.senderName:(c.recipient.avatar&&(m=c.recipient),m.name=c.senderName));var g=r.a.createElement("p",null,"Not found");return!c&&l.getMessage&&(g=r.a.createElement(ie,{style:{marginTop:"8rem"}})),c&&(g=r.a.createElement(n.Fragment,null,r.a.createElement(ja,{message:c,counterParty:m,amIRecipient:d}),d&&r.a.createElement(ka,{onSubmitHandler:function(e){s(c.sender._id,e),a.goBack()},loading:l.sendMessage}))),r.a.createElement("div",null,r.a.createElement(Ta,{counterParty:m}),r.a.createElement("div",{className:Ca.a.MessageBoxMain},g))})),Ia=a(147),Pa=a.n(Ia),Ra=Object(g.b)((function(e){return{profile:e.profile}}),{sendMessage:A,getProfile:Qt})((function(e){var t=e.profile,a=e.match,c=e.history,o=e.sendMessage,s=e.getProfile,i=Object(n.useState)(""),u=Object(D.a)(i,2),l=u[0],p=u[1];Object(n.useEffect)((function(){t.user&&t.user._id.toString()===a.params.id||s(a.params.id)}),[t.user,a.params.id,s]);return r.a.createElement(n.Fragment,null,r.a.createElement(pt,null,t.user&&t.user._id.toString()===a.params.id&&r.a.createElement(kt,{name:t.user.name,avatar:t.user.avatar,userId:t.user._id,"font-size":"1.5rem"})),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),o(a.params.id,l),c.goBack()},className:Pa.a.MessageForm},r.a.createElement(Ve,{type:"textarea",placeholder:"Message here...",value:l,onChange:function(e){return p(e.target.value)},required:!0}),r.a.createElement(ve,{btnType:"color-primary"},"Send")))})),Ma=a(148),wa=a.n(Ma),La=Object(g.b)((function(e){return{auth:e.auth}}),{updateAvatar:function(e){return function(t){var a,n,r;return v.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return a={headers:{"Content-Type":"multipart/form-data"}},(n=new FormData).append("avatar",e),c.prev=3,c.next=6,v.a.awrap(y.put("/api/user/avatar",n,a));case 6:r=c.sent,t(C("Uploaded profile image","success")),t({type:"UPDATE_AVATAR",payload:r.data}),c.next=14;break;case 11:c.prev=11,c.t0=c.catch(3),t(C(c.t0.response.data.message,"danger"));case 14:case"end":return c.stop()}}),null,null,[[3,11]])}}})((function(e){var t=e.updateAvatar,a=e.history,c=Object(n.useState)(""),o=Object(D.a)(c,2),s=o[0],i=o[1];return r.a.createElement(n.Fragment,null,r.a.createElement(pt,null),r.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault(),t(s),a.push("/mypage")}(e)},className:wa.a.form},r.a.createElement("label",null,"Profile Image"),r.a.createElement("input",{type:"file",onChange:function(e){return i((function(){return e.target.files[0]}))},required:!0}),r.a.createElement(ve,{btnType:"color-primary size-lg"},"Update")))})),Ua=a(149),Da=a.n(Ua),Fa=Object(g.b)((function(e){return{auth:e.auth}}),{updateProfile:function(e){return function(t){var a;return v.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,v.a.awrap(y.put("/api/user/profile",e));case 3:a=n.sent,t(C("Updated Profile","success")),t({type:"UPDATE_PROFILE",payload:a.data}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),t(C(n.t0.response.data.message,"danger"));case 11:case"end":return n.stop()}}),null,null,[[0,8]])}}})((function(e){var t=e.auth,a=e.updateProfile,c=e.history,o=Object(n.useState)({name:"",facebook:""}),s=Object(D.a)(o,2),i=s[0],u=s[1];if(Object(n.useEffect)((function(){u((function(){return{name:t.user?t.user.name:"",facebook:t.user&&t.user.facebook?t.user.facebook:""}}))}),[t.user,u]),!t.isAuthenticated)return r.a.createElement(ie,{style:{margin:"2rem"}});var l=function(e){e.preventDefault(),e.persist(),u((function(){return Object(ce.a)({},i,Object(Ge.a)({},e.target.name,e.target.value))}))};return r.a.createElement(n.Fragment,null,r.a.createElement(pt,null),r.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault(),a(i),c.push("/mypage")}(e)},className:Da.a.form},r.a.createElement("label",null,"Username"),r.a.createElement(Ve,{type:"name",placeholder:"Your name",name:"name",value:i.name,onChange:function(e){return l(e)},required:!0}),r.a.createElement("label",null,"Facebook URL (Optional)"),r.a.createElement(Ve,{type:"Facebook",placeholder:"Facebook URL (optional)",name:"facebook",value:i.facebook,onChange:function(e){return l(e)}}),r.a.createElement(ve,{btnType:"color-primary size-lg"},"Update")))})),Ga=a(150),za=a.n(Ga),Ba=Object(g.b)((function(e){return{auth:e.auth}}),{updateEmail:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return function(n){var r;return v.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,v.a.awrap(y.put("/api/user/email",e));case 3:r=c.sent,n(C("Updated Email","success")),n({type:"UPDATE_EMAIL",payload:r.data}),t(),c.next=13;break;case 9:c.prev=9,c.t0=c.catch(0),n(C(c.t0.response.data.message,"danger")),a();case 13:case"end":return c.stop()}}),null,null,[[0,9]])}}})((function(e){var t=e.auth,a=e.updateEmail,c=e.history,o=Object(n.useState)({email:"",password:""}),s=Object(D.a)(o,2),i=s[0],u=s[1],l=Object(n.useState)(!1),p=Object(D.a)(l,2),d=p[0],m=p[1];if(Object(n.useEffect)((function(){u((function(e){return Object(ce.a)({},e,{email:t.user?t.user.email:""})}))}),[t.user,u]),!t.isAuthenticated)return r.a.createElement(ie,{style:{margin:"2rem"}});var g=function(e){e.preventDefault(),e.persist(),u((function(){return Object(ce.a)({},i,Object(Ge.a)({},e.target.name,e.target.value))}))};return r.a.createElement(n.Fragment,null,r.a.createElement(pt,null),r.a.createElement("form",{onSubmit:function(e){return function(e){if(e.preventDefault(),d)return null;m(!0),a(i,(function(){return c.push("/mypage")}),(function(){return m(!1)}))}(e)},className:za.a.form},r.a.createElement("label",null,"Email"),r.a.createElement(Ve,{type:"email",placeholder:"Your email",name:"email",value:i.email,onChange:function(e){return g(e)},required:!0}),r.a.createElement("label",null,"Current Password"),r.a.createElement(Ve,{type:"password",placeholder:"Current Password",name:"password",value:i.password,onChange:function(e){return g(e)},required:!0}),r.a.createElement(ve,{btnType:"color-primary size-lg",loading:d},"Update")))})),Ha=a(151),Ja=a.n(Ha),Va=Object(g.b)((function(e){return{auth:e.auth}}),{setAlert:C})((function(e){var t=e.auth,a=e.setAlert,c=e.history,o=Object(n.useState)({curPassword:"",newPassword:"",confirmPassword:""}),s=Object(D.a)(o,2),i=s[0],u=s[1],l=i.curPassword,p=i.newPassword,d=i.confirmPassword;if(!t.isAuthenticated)return r.a.createElement(ie,{style:{margin:"2rem"}});var m=function(e){e.preventDefault(),e.persist(),u((function(){return Object(ce.a)({},i,Object(Ge.a)({},e.target.name,e.target.value))}))};return r.a.createElement(n.Fragment,null,r.a.createElement(pt,null),r.a.createElement("form",{onSubmit:function(e){return function(e){return v.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.preventDefault(),p===d){t.next=3;break}return t.abrupt("return",a("New Password does not match Comfirm Password"));case 3:return t.prev=4,t.next=7,v.a.awrap(y.put("/api/user/password",{curPassword:l,newPassword:p}));case 7:a("Password Updated","success"),c.push("/mypage"),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),a(t.t0.response.data.message,"danger");case 14:case"end":return t.stop()}}),null,null,[[4,11]])}(e)},className:Ja.a.form},r.a.createElement("label",null,"Current Password"),r.a.createElement(Ve,{type:"password",placeholder:"Current Password",name:"curPassword",value:l,onChange:function(e){return m(e)},required:!0}),r.a.createElement("label",null,"New Password"),r.a.createElement(Ve,{type:"password",placeholder:"New Password",name:"newPassword",value:p,onChange:function(e){return m(e)},required:!0}),r.a.createElement("label",null,"Confirm New Password"),r.a.createElement(Ve,{type:"password",placeholder:"Confirm new password",name:"confirmPassword",value:d,onChange:function(e){return m(e)},required:!0}),r.a.createElement(ve,{btnType:"color-primary size-lg"},"Update")))})),qa=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.loadUser()}},{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement(ae,null,r.a.createElement(m.d,null,r.a.createElement(m.b,{path:"/products/:id",component:Lt}),r.a.createElement(m.b,{path:"/products",exact:!0,component:at}),r.a.createElement(h,{path:"/mylist/:status",component:Ue}),r.a.createElement(h,{path:"/sell",exact:!0,component:Kt}),r.a.createElement(h,{path:"/edit/:id",exact:!0,component:Kt}),r.a.createElement(h,{path:"/mypage",exact:!0,component:Oe}),r.a.createElement(h,{path:"/mypage/update/avatar",exact:!0,component:La}),r.a.createElement(h,{path:"/mypage/update/profile",exact:!0,component:Fa}),r.a.createElement(h,{path:"/mypage/update/email",exact:!0,component:Ba}),r.a.createElement(h,{path:"/mypage/update/password",exact:!0,component:Va}),r.a.createElement(h,{path:"/notification",exact:!0,component:ha}),r.a.createElement(h,{path:"/inbox/recieved/:id",component:Na}),r.a.createElement(h,{path:"/inbox/sent/:id",component:Na}),r.a.createElement(h,{path:"/inbox/:status",component:Sa}),r.a.createElement(h,{path:"/messages/:id",component:Ra}),r.a.createElement(m.b,{path:"/profile/:id",component:ca}),r.a.createElement(m.b,{path:"/auth",component:Xe}),r.a.createElement(m.a,{from:"/",exact:!0,to:"/products"}),r.a.createElement(m.b,{component:function(){return r.a.createElement("p",null,"404")}}))))}}]),t}(n.Component),Ya=Object(g.b)((function(e){return{auth:e.auth}}),{loadUser:P})(qa);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ka=a(31),Wa=a(152),Xa={token:localStorage.token,isAuthenticated:!1,loading:!0,user:null},Qa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xa,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"LOAD_USER_START":return Object(ce.a)({},e,{loading:!0});case"LOAD_USER_SUCCESS":return Object(ce.a)({},e,{isAuthenticated:!0,loading:!1,user:Object(ce.a)({},n)});case"REGISTER":case"LOGIN":return localStorage.setItem("token",n.token),Object(ce.a)({},e,{},n,{isAuthenticated:!0});case"UPDATE_AVATAR":return Object(ce.a)({},e,{user:Object(ce.a)({},e.user,{avatar:n.avatar})});case"UPDATE_PROFILE":return Object(ce.a)({},e,{user:n});case"UPDATE_EMAIL":return Object(ce.a)({},e,{user:Object(ce.a)({},e.user,{email:n})});case"LOAD_USER_FAIL":case"LOGOUT":return localStorage.removeItem("token"),y.setAuthToken(null),{token:null,isAuthenticated:!1,loading:!1,user:null};default:return e}},Za=a(10),$a=[],en=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$a,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"SET_ALERT":return[].concat(Object(Za.a)(e),[n]);case"REMOVE_ALERT":return e.filter((function(e){return e.id!==n}));default:return e}},tn={products:[],hasMore:!0,product:null,loading:{getProduct:!1,getProducts:!1},mylist:{liked:{hasMore:!0,products:[]},purchased:{hasMore:!0,products:[]},sellings:{hasMore:!0,products:[]}}},an={recieved:{messages:[],hasMore:!0,loading:!1},sent:{messages:[],hasMore:!0,loading:!1},message:null,count:null},nn={user:null,products:{products:[],hasMore:!0,loading:!1}},rn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nn,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"GET_PROFILE_START":return Object(ce.a)({},e,{products:Object(ce.a)({},nn.products)});case"GET_PROFILE_SUCCESS":return Object(ce.a)({},e,{user:n});case"GET_PROFILE_FAIL":return nn;case"GET_PROFILE_PRODUCTS_START":return Object(ce.a)({},e,{products:Object(ce.a)({},e.products,{loading:!0})});case"GET_PROFILE_PRODUCTS_SUCCESS":return Object(ce.a)({},e,{products:{products:[].concat(Object(Za.a)(e.products.products),Object(Za.a)(n.products)),hasMore:n.hasMore,loading:!1}});case"GET_PROFILE_PRODUCTS_FAIL":return Object(ce.a)({},e,{products:{products:[],hasMore:!1,loading:!1}});default:return e}},cn={liked:{products:[],hasMore:!0,loading:!1},purchased:{products:[],hasMore:!0,loading:!1},sellings:{products:[],hasMore:!0,loading:!1}},on={notifications:[],hasMore:!0,loading:!1,count:null},sn={search:"",category:""},un=[Wa.a],ln=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Ka.d,pn=Object(Ka.c)({auth:Qa,alerts:en,product:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tn,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"GET_PRODUCTS_START":return Object(ce.a)({},e,{loading:Object(ce.a)({},e.loading,{getProducts:!0})});case"REFRESH_PRODUCTS":return Object(ce.a)({},e,{hasMore:!0,products:[]});case"GET_PRODUCT_START":var r=e.products.find((function(e){return e._id.toString()===n})),c=!1;return r||(r=null,c=!0),Object(ce.a)({},e,{loading:Object(ce.a)({},e.loading,{getProduct:c}),product:r});case"GET_PRODUCTS_SUCCESS":return Object(ce.a)({},e,{loading:Object(ce.a)({},e.loading,{getProducts:!1}),hasMore:n.hasMore,products:[].concat(Object(Za.a)(e.products),Object(Za.a)(n.products))});case"GET_PRODUCT_SUCCESS":return Object(ce.a)({},e,{product:n,loading:Object(ce.a)({},e.loading,{getProduct:!1})});case"ADD_COMMENT":return Object(ce.a)({},e,{product:Object(ce.a)({},e.product,{comments:n})});case"SET_LIKE":case"SET_UNLIKE":return Object(ce.a)({},e,{product:Object(ce.a)({},e.product,{likes:n})});case"PURCHASE_PRODUCT":case"CANCEL_PRODUCT":case"REJECT_PRODUCT":return Object(ce.a)({},e,{product:Object(ce.a)({},e.product,{},n)});case"DELETE_PRODUCT":var o=e.product;return e.product._id.toString()===n&&(o=null),Object(ce.a)({},e,{product:o});case"GET_PRODUCTS_FAIL":return Object(ce.a)({},e,{loading:Object(ce.a)({},e.loading,{getProducts:!1})});case"GET_PRODUCT_FAIL":return Object(ce.a)({},e,{loading:Object(ce.a)({},e.loading,{getProduct:!1})});default:return e}},message:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"CLEAR_RECIEVED_MESSAGES":return Object(ce.a)({},e,{recieved:Object(ce.a)({},an.recieved)});case"CLEAR_SENT_MESSAGES":return Object(ce.a)({},e,{sent:Object(ce.a)({},an.sent)});case"GET_RECIEVED_START":return Object(ce.a)({},e,{recieved:Object(ce.a)({},e.recieved,{loading:!0})});case"GET_RECIEVED_SUCCESS":return Object(ce.a)({},e,{recieved:{messages:[].concat(Object(Za.a)(e.recieved.messages),Object(Za.a)(n.messages)),hasMore:n.hasMore,loading:!1}});case"GET_RECIEVED_FAIL":return Object(ce.a)({},e,{recieved:Object(ce.a)({},e.recieved,{loading:!1})});case"GET_SENT_START":return Object(ce.a)({},e,{sent:Object(ce.a)({},e.sent,{loading:!0})});case"GET_SENT_SUCCESS":return Object(ce.a)({},e,{sent:{messages:[].concat(Object(Za.a)(e.sent.messages),Object(Za.a)(n.messages)),hasMore:n.hasMore,loading:!1}});case"GET_SENT_FAIL":return Object(ce.a)({},e,{sent:Object(ce.a)({},e.sent,{loading:!1})});case"GET_MESSAGE_START":var r=e.recieved.messages.find((function(e){return e._id.toString()===n}));return r||(r=e.sent.messages.find((function(e){return e._id.toString()===n}))),r||(r=null),Object(ce.a)({},e,{message:r});case"GET_MESSAGE_SUCCESS":var c=0,o=e.recieved.messages.map((function(e){return n._id.toString()===e._id.toString()&&!1===e.seen&&(e.seen=!0,c++),e}));return Object(ce.a)({},e,{message:n,recieved:Object(ce.a)({},e.recieved,{messages:o}),count:e.count-c});case"GET_MESSAGE_FAIL":return Object(ce.a)({},e,{message:null});case"CLEAR_MESSAGES":return Object(ce.a)({},an);case"COUNT_UNSEEN_MESSAGES":return Object(ce.a)({},e,{count:n});default:return e}},profile:rn,mylist:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cn,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"CLEAR_LIKED":return Object(ce.a)({},e,{liked:Object(ce.a)({},cn.liked)});case"CLEAR_PURCHASED":return Object(ce.a)({},e,{purchased:Object(ce.a)({},cn.purchased)});case"CLEAR_SELLINGS":return Object(ce.a)({},e,{sellings:Object(ce.a)({},cn.sellings)});case"GET_LIKED_START":return Object(ce.a)({},e,{liked:Object(ce.a)({},e.liked,{loading:!0})});case"GET_LIKED_SUCCESS":return Object(ce.a)({},e,{liked:{products:[].concat(Object(Za.a)(e.liked.products),Object(Za.a)(n.products)),loading:!1,hasMore:n.hasMore}});case"GET_LIKED_FAIL":return Object(ce.a)({},e,{liked:Object(ce.a)({},e.liked,{loading:!1})});case"GET_PURCHASED_START":return Object(ce.a)({},e,{purchased:Object(ce.a)({},e.purchased,{loading:!0})});case"GET_PURCHASED_SUCCESS":return Object(ce.a)({},e,{purchased:{products:[].concat(Object(Za.a)(e.purchased.products),Object(Za.a)(n.products)),loading:!1,hasMore:n.hasMore}});case"GET_PURCHASED_FAIL":return Object(ce.a)({},e,{purchased:Object(ce.a)({},e.purchased,{loading:!1})});case"GET_SELLINGS_START":return Object(ce.a)({},e,{sellings:Object(ce.a)({},e.sellings,{loading:!0})});case"GET_SELLINGS_SUCCESS":return Object(ce.a)({},e,{sellings:{products:[].concat(Object(Za.a)(e.sellings.products),Object(Za.a)(n.products)),loading:!1,hasMore:n.hasMore}});case"GET_SELLINGS_FAIL":return Object(ce.a)({},e,{sellings:Object(ce.a)({},e.sellings,{loading:!1})});default:return e}},notification:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:on,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"GET_NOTIFICATIONS_START":return Object(ce.a)({},e,{loading:!0});case"GET_NOTIFICATIONS_SUCCESS":return Object(ce.a)({},e,{notifications:[].concat(Object(Za.a)(e.notifications),Object(Za.a)(n.notifications)),hasMore:n.hasMore,loading:!1,count:e.count-n.countUnseenToSeen});case"GET_NOTIFICATIONS_FAIL":return Object(ce.a)({},e,{loading:!1});case"CLEAR_NOTIFICATIONS":return Object(ce.a)({},on);case"COUNT_UNSEEN_NOTIFICATIONS":return Object(ce.a)({},e,{count:n});default:return e}},filter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sn,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"SET_SEARCH":return Object(ce.a)({},e,{search:n});case"SET_CATEGORY":return Object(ce.a)({},e,{category:n});default:return e}}}),dn=Object(Ka.e)(pn,{},ln(Ka.a.apply(void 0,un))),mn=r.a.createElement(g.a,{store:dn},r.a.createElement(Ya,null));o.a.render(mn,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},27:function(e,t,a){e.exports={Product:"Product_Product__Z_Lb-",imageWrapper:"Product_imageWrapper__IYGrF",Image:"Product_Image__GQRK4",soldOut:"Product_soldOut__UKplX",TextBox:"Product_TextBox__2LvQ0",Main:"Product_Main__1VFXs",Sub:"Product_Sub__3O4Mf"}},28:function(e,t,a){e.exports={Link:"Message_Link__3VrXH",Message:"Message_Message__2EobY",Image:"Message_Image__3-1zg",Name:"Message_Name__3Gdt1",Time:"Message_Time__3zU3Z",Text:"Message_Text__vwVPV",unseen:"Message_unseen__17BNs"}},32:function(e,t,a){e.exports={Link:"NavItem_Link__12IAj",Icon:"NavItem_Icon__1GZEM",menuTitle:"NavItem_menuTitle__3chF9",counter:"NavItem_counter__2DtZd"}},33:function(e,t,a){e.exports={Setting:"Setting_Setting__1i593",links:"Setting_links__3mPc7",Link:"Setting_Link__39YOm"}},34:function(e,t,a){e.exports={Link:"Notification_Link__y_-qW",Notification:"Notification_Notification__2szzd",Image:"Notification_Image__3yVt-",rightContainer:"Notification_rightContainer__3gWtb",Text:"Notification_Text__1YX9B",Time:"Notification_Time__2aaKv"}},40:function(e,t,a){e.exports={Main:"Main_Main__3LxFC",Container:"Main_Container__f0szg",subContainer:"Main_subContainer__QsWvS",Image:"Main_Image__1MvjZ"}},44:function(e,t,a){e.exports={onSignupChange:"FormTypeChanger_onSignupChange__30JXm",onLoginChange:"FormTypeChanger_onLoginChange__3UUq0",active:"FormTypeChanger_active__2Ye0C"}},45:function(e,t,a){e.exports={Comments:"Comments_Comments__19-ir",Textarea:"Comments_Textarea__38Jkm"}},46:function(e,t,a){e.exports={Sell:"EditPage_Sell__2jcug",ImageDropAndCrop:"EditPage_ImageDropAndCrop__zeY6h",sellForm:"EditPage_sellForm__jeGFA",btn:"EditPage_btn__3JLER"}},61:function(e,t,a){e.exports={mypage:"MyPage_mypage__3m3qU",hr:"MyPage_hr__2ssgd"}},62:function(e,t,a){e.exports={Switcher:"Switcher_Switcher__2O-qR",button:"Switcher_button__2SrN7",active:"Switcher_active__3q8Rj"}},63:function(e,t,a){e.exports={Input:"Input_Input__3uJvy",Textarea:"Input_Textarea__1RyLW"}},64:function(e,t,a){e.exports={BottomBar:"BottomBar_BottomBar__OkQhW",text:"BottomBar_text__2fpYs",button:"BottomBar_button__AW3jN"}},65:function(e,t,a){e.exports={likeButton:"LikeButton_likeButton__2hA4H",Like:"LikeButton_Like__F3uYy",Unlike:"LikeButton_Unlike__3ua1V"}},66:function(e,t,a){e.exports={Message:"Message_Message__P-CYd",textsContainer:"Message_textsContainer__1J_Id"}},85:function(e,t,a){e.exports={Navigation:"Navigation_Navigation__1nrRq",NavigationItems:"Navigation_NavigationItems__1WELQ",active:"Navigation_active__1aO7i"}},92:function(e,t,a){e.exports={TopBar:"TopBar_TopBar__15alL",GoBack:"TopBar_GoBack__zTm1I"}},93:function(e,t,a){e.exports={Comment:"Comment_Comment__3iocc",User:"Comment_User__1DHJW",UserPicture:"Comment_UserPicture__1JMaZ",Text:"Comment_Text__2__P7"}},94:function(e,t,a){e.exports={User:"UserInfo_User__kVj8R"}},95:function(e,t,a){e.exports={Profile:"Profile_Profile__1WGBg",hr:"Profile_hr__bKF3g"}},96:function(e,t,a){e.exports={profileImage:"User_profileImage__3qETj",icons:"User_icons__27lpR"}}},[[155,1,2]]]);
//# sourceMappingURL=main.0cae960c.chunk.js.map