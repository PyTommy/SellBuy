{"version":3,"sources":["hoc/Layout/Layout.module.scss","components/MyPage/DisplayProfile/DisplayProfile.module.scss","components/UI/Pictures/PictureRadius/PictureRadius.module.scss","components/MyList/MyList.module.scss","components/Auth/Auth.module.scss","components/Auth/AuthForm/AuthForm.module.scss","components/Products/Products.module.scss","components/SingleProduct/TopBar/TopBar.module.scss","components/Profile/Products/Products.module.scss","components/NotificationPage/Notification.module.scss","components/Inbox/Inbox.module.scss","components/MessageBox/MessageBox.module.scss","components/UpdateAvatar/UpdateAvatar.module.scss","components/UpdateProfile/UpdateProfile.module.scss","components/UpdateEmail/UpdateEmail.module.scss","components/UpdatePassword/UpdatePassword.module.scss","components/Products/Search/Search.module.scss","components/UI/ImageDropAndCrop/ImageDropAndCrop.module.scss","assets/default.png","hoc/Layout/Alerts/Alerts.module.scss","components/UI/Button/Button.module.scss","hoc/PrivateRoute.js","axios.js","store/actions/alert.js","store/actions/actionType.js","store/actions/message.js","store/actions/notification.js","store/actions/auth.js","components/Navigation/NavItem/NavItem.js","components/Navigation/Navigation.js","hoc/Layout/Alerts/Alerts.js","hoc/Layout/Layout.js","components/UI/Spinner/Spinner.js","utils/imageConverter.js","components/UI/Pictures/PictureRadius/PictureRadius.js","components/MyPage/DisplayProfile/DisplayProfile.js","components/UI/Button/Button.js","components/MyPage/Logout/Logout.js","components/MyPage/Setting/Setting.js","components/MyPage/MyPage.js","components/UI/Switcher/Switcher.js","components/UI/Scroller/Scroller.js","utils/textAbstract.js","components/UI/Product/Product.js","components/MyList/MyList.js","store/actions/mylist.js","components/UI/Input/Input.js","components/Auth/AuthForm/AuthForm.js","components/Auth/FormTypeChanger/FormTypeChanger.js","components/Auth/Auth.js","store/actions/product.js","components/Products/Search/Search.js","components/Products/Products.js","components/ScrollToTop.js","components/UI/BottomBar/BottomBar.js","components/UI/TopBar/TopBar.js","components/UI/LikeButton/LikeButton.js","components/SingleProduct/TopBar/TopBar.js","components/UI/TextToJSX/TextToJSX.js","components/UI/UserInfo/UserInfo.js","components/SingleProduct/Comment/Comment.js","components/SingleProduct/Comments/Comments.js","components/SingleProduct/Main/Main.js","components/SingleProduct/SingleProduct.js","components/UI/ImageDropAndCrop/utils/verify.js","components/UI/ImageDropAndCrop/ImageDropAndCrop.js","components/UI/ImageDropAndCrop/utils/base64.js","components/Sell/Sell.js","components/EditPage/EditPage.js","store/actions/profile.js","components/Profile/User/User.js","components/Profile/Products/Products.js","components/Profile/Profile.js","utils/ago.js","components/NotificationPage/Notification/Notification.js","components/NotificationPage/NotificationPage.js","components/Inbox/Message/Message.js","components/Inbox/Inbox.js","components/MessageBox/TopBar/TopBar.js","components/MessageBox/Message/Message.js","components/MessageBox/ReplyForm/ReplyForm.js","components/MessageBox/MessageBox.js","components/MessageForm/MessageForm.js","components/UpdateAvatar/UpdateAvatar.js","components/UpdateProfile/UpdateProfile.js","components/UpdateEmail/UpdateEmail.js","components/UpdatePassword/UpdatePassword.js","App.js","serviceWorker.js","store/reducers/auth.js","store/reducers/alert.js","store/reducers/product.js","store/reducers/message.js","store/reducers/profile.js","store/reducers/mylist.js","store/reducers/notification.js","store/configStore.js","index.js","components/UI/Product/Product.module.scss","components/SingleProduct/Main/Main.module.scss","components/Inbox/Message/Message.module.scss","components/Navigation/NavItem/NavItem.module.scss","components/MyPage/Setting/Setting.module.scss","components/NotificationPage/Notification/Notification.module.scss","components/Navigation/Navigation.module.scss","components/Auth/FormTypeChanger/FormTypeChanger.module.scss","components/SingleProduct/Comments/Comments.module.scss","components/Sell/Sell.module.scss","components/EditPage/EditPage.module.scss","components/MyPage/MyPage.module.scss","components/UI/Switcher/Switcher.module.scss","components/UI/Input/Input.module.scss","components/UI/BottomBar/BottomBar.module.scss","components/UI/LikeButton/LikeButton.module.scss","components/MessageBox/Message/Message.module.scss","components/UI/TopBar/TopBar.module.scss","components/SingleProduct/Comment/Comment.module.scss","components/UI/UserInfo/UserInfo.module.scss","components/Profile/Profile.module.scss","components/Profile/User/User.module.scss"],"names":["module","exports","connect","state","auth","Component","component","isAuthenticated","loading","rest","render","props","to","instance","axios","create","headers","interceptors","request","use","console","log","response","setAuthToken","token","defaults","common","setAlert","message","alertType","timeout","dispatch","Array","forEach","singleMessage","id","uuid","v4","type","payload","msg","setTimeout","countUnseenMessages","a","async","get","res","data","count","sendMessage","recipientId","text","post","countUnseenNotifications","clearNotifications","loadUser","localStorage","name","NavItem","WrapperComponent","linkTo","className","styles","Link","activeClassName","active","join","counter","Icon","menuTitle","children","msgCount","notificationCount","notification","HomeNav","IoMdHome","MyList","IoIosList","SellNav","MdAttachMoney","NotificationNav","IoMdNotifications","InboxNav","IoMdMail","MyPageNav","IoMdContact","AuthNav","navItems","Navigation","search","placeholder","searchInput","searchIcon","NavigationItems","alerts","appliedAlertsClass","length","Alerts","show","map","alert","key","Alert","Success","Danger","Fragment","main","style","size","color","width","textAlign","height","buffer","require","binary","slice","call","Uint8Array","b","String","fromCharCode","window","btoa","PictureRadius","src","alt","onClick","appliedClasses","profilePic","push","user","withRouter","history","avatar","avatarSrc","imageConverter","DisplayProfile","Button","btnType","classes","includes","colorPrimary","colorOrange","colorDanger","borderGray","sizeSmall","sizeLarge","logout","Setting","links","Spinner","mypage","hr","Switcher","items","buttons","item","button","onClickHandler","gridTemplateColumns","Scroller","onRefreshFunc","loadMoreFunc","hasMore","spinnerSize","spinnerMarginTop","invisible","display","activate","position","top","left","transform","paddingBottom","deactivate","getScrollContainer","document","body","onRefresh","indicator","release","finish","distanceToRefresh","damping","pageStart","threshold","loadMore","loader","marginTop","substring","product","_id","price","meetupAt","imageSrc","productImageLow","Product","e","imageWrapper","Image","sold","soldOut","TextBox","Main","toLocaleString","Sub","textAbstract","liked","mylist","purchased","sellings","clearLiked","getLiked","skip","products","clearPurchased","getPurchased","clearSellings","getSellings","match","status","params","productArray","fetchProducts","refresh","productList","Input","value","onChange","required","Textarea","login","email","password","JSON","stringify","register","isSignup","useState","password2","formData","setFormData","useEffect","prevState","preventDefault","persist","target","onSubmit","AuthForm","FormTypeChanger","onChangeFormType","signupButtonClass","onSignupChange","loginButtonClass","onLoginChange","setIsSignup","form","boolean","Auth","margin","getProduct","productId","Search","category","setSearch","setCategory","setShow","React","createRef","onCloseHandler","current","readOnly","blur","onCategoryClick","selectedCategory","getAttribute","onSubmitHandler","categoryList","el","categoryActive","unfocusedSearchInput","topBox","focus","backIcon","searchInputContainer","ref","searchInputClear","categories","backdrop","getProducts","limit","queries","refreshProducts","singleProduct","Products","ScrollToTopOnMount","scrollTo","BottomBar","buttonText","onButtonClick","TopBar","GoBack","goBack","LikeButton","isLiked","likeButton","Like","Unlike","loadingLike","likes","deleteProduct","delete","setLike","put","setUnlike","find","like","onLikeButtonClicked","TextToJSX","line","len","split","i","title","userId","imageSize","imageLeft","fontSize","fontWeight","marginBetween","marginForName","marginLeft","marginRight","picture","UserPicture","nameDiv","User","Comment","comment","Text","comments","addComment","PropTypes","func","isRequired","newComment","setNewComment","Header","Comments","productImage","description","purchaser","Container","subContainer","card","purchaseProduct","cancelProduct","rejectProduct","toString","purchase","files","maxSize","acceptedFileTypes","acceptedFileTypesArray","trim","currentFile","currentFileType","currentFileSize","ImgDropAndCrop","cropping","crop","unit","aspect","croppedImageBase64","isModified","onSelectFile","rejectedFiles","verifyFile","reader","FileReader","addEventListener","setState","result","readAsDataURL","onImageLoaded","image","imageRef","onCropComplete","canvas","createElement","scaleX","naturalWidth","scaleY","naturalHeight","originWidth","originHeight","targetWidth","targetHeight","Math","round","getContext","drawImage","x","y","toDataURL","getCroppedImg","onCropChange","percentCrop","readyToUpload","uploadableFile","base64String","filename","arr","mime","bstr","atob","n","u8arr","charCodeAt","File","base64StringtoFile","setImage","this","defaultImage","ReactCropContainer","ReactCrop","onComplete","edit","remove","onDrop","multiple","accept","getRootProps","getInputProps","Dropzone","DropzoneIcon","PureComponent","createProduct","config","setProductImage","setProduct","Sell","ImageDropAndCrop","sellForm","newFormData","FormData","append","btn","editProduct","imgModified","setImgModified","getProfile","profileImage","icons","facebook","href","profile","getProfileProducts","content","Profile","moment","updateLocale","relativeTime","future","past","s","m","mm","h","hh","d","dd","M","MM","yy","ago","date","fromNow","Notification","trigger","innerHTML","createdAt","rightContainer","parse","Time","getNotifications","notifications","countUnseenToSeen","noMsg","messageId","checkRecieved","partialPath","seen","Message","Name","unseen","clearRecievedMessages","clearSentMessages","getRecieved","messages","getSent","recieved","sent","senderName","sender","recipientName","recipient","getMessages","refreshMessages","counterParty","font-size","toOrFrom","amIRecipient","textsContainer","ReplyForm","setMessage","getMessage","path","MessageBoxMain","updateAvatar","avatarFile","setAvatarFile","updateProfile","obj","updateEmail","curPassword","newPassword","confirmPassword","App","Layout","SingleProduct","exact","EditPage","MyPage","UpdateAvatar","UpdateProfile","UpdateEmail","UpdatePassword","NotificationPage","MessageBox","Inbox","MessageForm","from","Boolean","location","hostname","authReducerDefaultState","authReducer","setItem","removeItem","alertReducerDefaultState","action","filter","initialState","profileReducerDefaultState","profileReducer","middleware","thunk","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","rootReducer","combineReducers","alertReducer","existingProduct","shouldBeLoading","decrease","newMessages","store","createStore","applyMiddleware","app","ReactDOM","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"uFACAA,EAAOC,QAAU,CAAC,KAAO,uB,oBCAzBD,EAAOC,QAAU,CAAC,eAAiB,yC,oBCAnCD,EAAOC,QAAU,CAAC,WAAa,oC,oBCA/BD,EAAOC,QAAU,CAAC,MAAQ,wB,oBCA1BD,EAAOC,QAAU,CAAC,KAAO,qB,oBCAzBD,EAAOC,QAAU,CAAC,SAAW,6B,oBCA7BD,EAAOC,QAAU,CAAC,SAAW,6B,oBCA7BD,EAAOC,QAAU,CAAC,MAAQ,wB,0CCA1BD,EAAOC,QAAU,CAAC,MAAQ,0B,oBCA1BD,EAAOC,QAAU,CAAC,cAAgB,sC,oBCAlCD,EAAOC,QAAU,CAAC,SAAW,0B,oBCA7BD,EAAOC,QAAU,CAAC,eAAiB,qC,oBCAnCD,EAAOC,QAAU,CAAC,KAAO,6B,oBCAzBD,EAAOC,QAAU,CAAC,KAAO,8B,oBCAzBD,EAAOC,QAAU,CAAC,KAAO,4B,oBCAzBD,EAAOC,QAAU,CAAC,KAAO,+B,mBCAzBD,EAAOC,QAAU,CAAC,OAAS,uBAAuB,OAAS,uBAAuB,qBAAuB,qCAAqC,YAAc,4BAA4B,iBAAmB,iCAAiC,WAAa,2BAA2B,SAAW,yBAAyB,WAAa,2BAA2B,SAAW,yBAAyB,eAAiB,+BAA+B,SAAW,2B,+ECA/bD,EAAOC,QAAU,CAAC,SAAW,mCAAmC,aAAe,uCAAuC,mBAAqB,6CAA6C,UAAY,oCAAoC,QAAU,kCAAkC,KAAO,+BAA+B,KAAO,+BAA+B,OAAS,mC,kBCDzWD,EAAOC,QAAU,04I,mBCCjBD,EAAOC,QAAU,CAAC,OAAS,uBAAuB,MAAQ,sBAAsB,QAAU,wBAAwB,OAAS,yB,mBCA3HD,EAAOC,QAAU,CAAC,OAAS,uBAAuB,aAAe,6BAA6B,YAAc,4BAA4B,YAAc,4BAA4B,WAAa,2BAA2B,UAAY,0BAA0B,UAAY,4B,6JC0B7PC,eAJS,SAACC,GAAD,MAAY,CAChCC,KAAMD,EAAMC,QAGDF,EAtBM,SAAC,GAAD,IACNG,EADM,EACjBC,UADiB,IAEjBF,KAAOG,EAFU,EAEVA,gBAAiBC,EAFP,EAEOA,QACrBC,EAHc,2CAKjB,kBAAC,IAAD,iBACQA,EADR,CAEIC,OAAS,SAACC,GAAD,OAAYJ,GAAoBC,EAElC,kBAACH,EAAcM,GADf,kBAAC,IAAD,CAAUC,GAAG,kB,yBCXtBC,E,OAAWC,EAAMC,OAAO,CAE1BC,QAAS,CACL,eAAgB,sBAIxBH,EAASI,aAAaC,QAAQC,KAAI,SAAAD,GAE9B,OADAE,QAAQC,IAAI,qBAAsBH,GAC3BA,KAEXL,EAASI,aAAaK,SAASH,KAAI,SAAAG,GAE/B,OADAF,QAAQC,IAAI,aAAcC,GACnBA,KAIXT,EAASU,aAAe,SAAAC,GAChBA,EACAX,EAASY,SAAST,QAAQU,OAA1B,+BAA8DF,UAEvDX,EAASY,SAAST,QAAQU,OAA1B,eAIAb,Q,iBCxBFc,EAAW,SAACC,EAASC,GAAV,IAAqBC,EAArB,uDAA+B,IAA/B,OAAwC,SAAAC,GAC5D,GAAKH,aAAmBI,MACpBJ,EAAQK,SAAQ,SAACC,GACb,IAAMC,EAAKC,IAAKC,KAChBN,EAAS,CACLO,KCuBS,YDtBTC,QAAS,CACLJ,KACAK,IAAKN,EAAcM,IACnBX,eAGRY,YAAW,WACPV,EAAS,CACLO,KCeQ,eDdRC,QAASJ,MAEdL,UAEJ,CACH,IAAMK,EAAKC,IAAKC,KAChBN,EAAS,CACDO,KCMS,YDLTC,QAAS,CACLJ,KACAK,IAAKZ,EACLC,eAGZY,YAAW,WACPV,EAAS,CACLO,KCFY,eDGZC,QAASJ,MAEdL,MEfEY,EAAsB,kBAAM,SAAMX,GAAN,eAAAY,EAAAC,OAAA,2EAAAD,EAAA,MAEf7B,EAAM+B,IAAN,wBAFe,OAE3BC,EAF2B,OAGjCf,EAAS,CACLO,KD2FyB,wBC1FzBC,QAASO,EAAIC,KAAKC,QALW,gDAQjCjB,EAASJ,EAAS,KAAIL,SAASyB,KAAKnB,QAAS,WARZ,0DAwF5BqB,EAAc,SAACC,EAAaC,GAAd,OAAuB,SAAMpB,GAAN,SAAAY,EAAAC,OAAA,uDAC9Cb,EAAS,CACLO,KDD0B,uBCDgB,oBAAAK,EAAA,MAMpC7B,EAAMsC,KAAN,wBAA4BF,GAAe,CAAEC,UANT,OAQ1CpB,EAAS,CACLO,KDPwB,yBCFc,gDAY1CP,EAASJ,EAAS,KAAIL,SAASyB,KAAKnB,QAAS,WAC7CG,EAAS,CACLO,KDXqB,sBCHiB,0DClGrCe,EAA2B,kBAAM,SAAMtB,GAAN,eAAAY,EAAAC,OAAA,2EAAAD,EAAA,MAEpB7B,EAAM+B,IAAN,6BAFoB,OAEhCC,EAFgC,OAGtCf,EAAS,CACLO,KFuI8B,6BEtI9BC,QAASO,EAAIC,KAAKC,QALgB,gDAQtCjB,EAASJ,EAAS,KAAIL,SAASyB,KAAKnB,QAAS,WARP,0DAYjC0B,EAAqB,kBAAM,SAAMvB,GAAN,SAAAY,EAAAC,OAAA,gDACpCb,EAAS,CACLO,KF8H2B,wBE5H/BP,EAASsB,KAJ2B,uCCK3BE,EAAW,kBAAM,SAAMxB,GAAN,eAAAY,EAAAC,OAAA,oDACtBY,aAAahC,MADS,gBAEtBV,EAAMS,aAAaiC,aAAahC,OAFV,6BAItBO,EAAS,CACLO,KH3BkB,mBGsBA,kBAOf,MAPe,cAU1BP,EAAS,CACLO,KHnCuB,oBGwBD,qBAAAK,EAAA,MAeJ7B,EAAM+B,IAAI,cAfN,QAehBC,EAfgB,OAiBtBf,EAASJ,EAAS,YAAD,OAAamB,EAAIC,KAAKU,MAAQ,YAC/C1B,EAAS,CACLO,KH1CqB,oBG2CrBC,QAASO,EAAIC,OAEjBhB,EAASW,KACTX,EAASsB,KAvBa,kDA0BtBtB,EAAS,CACLO,KHjDkB,mBGsBA,2D,iCCbfoB,EAZC,SAACC,GAAoC,IAAlBX,EAAiB,uDAAT,KACvC,OAAO,SAACrC,GAAD,OACH,4BACI,kBAAC,IAAD,CAASC,GAAID,EAAMiD,OAAQC,UAAWC,IAAOC,KAAMC,gBAAiB,CAACF,IAAOC,KAAMD,IAAOG,QAAQC,KAAK,MACjGlB,EAAQ,0BAAMa,UAAWC,IAAOK,SAAWnB,EAAQ,GAAK,GAAKA,GAAgB,KAC9E,kBAACW,EAAD,CAAkBE,UAAWC,IAAOM,OACpC,0BAAMP,UAAWC,IAAOO,WAAY1D,EAAM2D,c,iBCgD3CpE,eARS,SAACC,GACrB,MAAO,CACHC,KAAMD,EAAMC,KACZmE,SAAUpE,EAAMyB,QAAQoB,MACxBwB,kBAAmBrE,EAAMsE,aAAazB,SAI/B9C,EAjDI,SAAC,GAA2C,IAAzCE,EAAwC,EAAxCA,KAAMmE,EAAkC,EAAlCA,SAAUC,EAAwB,EAAxBA,kBAC5BE,EAAUhB,EAAQiB,KAClBC,EAASlB,EAAQmB,KACjBC,EAAUpB,EAAQqB,KAClBC,EAAkBtB,EAAQuB,IAAmBT,GAC7CU,EAAWxB,EAAQyB,IAAUZ,GAC7Ba,EAAY1B,EAAQ2B,KACpBC,EAAU5B,EAAQ2B,KAKlBE,EAAWnF,EAAKG,gBAClB,kBAAC,WAAD,KACI,kBAACmE,EAAD,CAASd,OAAO,aAAhB,QACA,kBAACgB,EAAD,CAAQhB,OAAO,iBAAf,WACA,kBAACkB,EAAD,CAASlB,OAAO,SAAhB,QACA,kBAACoB,EAAD,CAAiBpB,OAAO,iBAAxB,gBACA,kBAACsB,EAAD,CAAUtB,OAAO,mBAAjB,SACA,kBAACwB,EAAD,CAAWxB,OAAO,WAAlB,YAIJ,kBAAC,WAAD,KACI,kBAACc,EAAD,CAASd,OAAO,aAAhB,QACA,kBAAC0B,EAAD,CAAS1B,OAAO,SAAhB,SAGR,OACI,4BAAQC,UAAWC,IAAO0B,YACtB,yBAAK3B,UAAWC,IAAO2B,QACnB,2BAAOC,YAAY,SAAS7B,UAAWC,IAAO6B,cAC9C,gCAAQ,kBAAC,IAAD,CAAa9B,UAAWC,IAAO8B,eAE3C,wBAAI/B,UAAWC,IAAO+B,iBACjBN,O,mCCPFrF,eANS,SAACC,GACrB,MAAO,CACH2F,OAAQ3F,EAAM2F,UAIP5F,EAhCA,SAAC,GAAgB,IAAd4F,EAAa,EAAbA,OACRC,EAAqBD,EAAOE,OAAS,EACrC,CAAClC,IAAOmC,QAAQ/B,KAAK,KACrB,CAACJ,IAAOmC,OAAQnC,IAAOoC,MAAMhC,KAAK,KAGxC,OACI,yBAAKL,UAAWkC,GACA,OAAXD,GAAmBA,EAAOE,OAAS,GAAKF,EAAOK,KAAI,SAAAC,GAAK,OACrD,yBACIC,IAAKD,EAAMjE,GACX0B,UAA+B,YAApBuC,EAAMvE,UACb,CAACiC,IAAOwC,MAAOxC,IAAOyC,SAASrC,KAAK,KACpC,CAACJ,IAAOwC,MAAOxC,IAAO0C,QAAQtC,KAAK,MACzCkC,EAAM5D,YCYTtC,eAPS,SAACC,GACrB,MAAO,CACH2F,OAAQ3F,EAAM2F,UAKP5F,EAzBA,SAACS,GAOZ,OACI,kBAAC,IAAM8F,SAAP,KACI,kBAAC,EAAD,MACA,kBAAC,EAAD,MACA,0BAAM5C,UAAWC,IAAO4C,MACnB/F,EAAM2D,c,0CCdR,sBAAEqC,aAAF,MAAU,GAAV,MAAcrE,YAAd,MAAqB,WAArB,MAAiCsE,YAAjC,MAAwC,GAAxC,MAA4CC,aAA5C,MAAoD,UAApD,MAA+D/E,eAA/D,MAAyE,EAAzE,SACX,yBACI6E,MAAK,eACEA,EADF,CAEDG,MAAO,OACPC,UAAW,YAGf,kBAAC,IAAD,CACIzE,KAAMA,EACNuE,MAAOA,EACPG,OAAQJ,EACRE,MAAOF,EACP9E,QAASA,M,kBCjBN,WAACmF,GACZ,IAAKA,EACD,OAAOC,EAAQ,KAEnB,IAAIC,EAAS,GAGb,MAFc,GAAGC,MAAMC,KAAK,IAAIC,WAAWL,IACrChF,SAAQ,SAACsF,GAAD,OAAOJ,GAAUK,OAAOC,aAAaF,MAC7C,0BAAN,OAAiCG,OAAOC,KAAKR,K,mBCyBlCS,GAnBO,SAAC,GAAkE,IAAD,IAA/DjB,aAA+D,MAAvD,GAAuD,EAAnD9C,EAAmD,EAAnDA,UAAmD,IAAxC+C,YAAwC,MAAjC,SAAiC,EAAvBiB,EAAuB,EAAvBA,IAAKC,EAAkB,EAAlBA,IAAKC,EAAa,EAAbA,QACnEC,EAAiB,CAAClE,KAAOmE,YAK7B,OAJIpE,GACAmE,EAAeE,KAAKrE,GAIpB,kBAAC,WAAD,KACI,yBACIkE,QAASA,EACTlE,UAAWmE,EAAe9D,KAAK,KAC/ByC,MAAK,aAAGG,MAAOF,EAAMI,OAAQJ,GAASD,GACtCkB,IAAKA,EACLC,IAAKA,MCgBN5H,gBAJS,SAAAC,GAAK,MAAK,CAC9BgI,KAAMhI,EAAMC,KAAK+H,QAGNjI,CAAyBkI,aAhCjB,SAAC,GAMjB,IALHC,EAKE,EALFA,QAKE,IAJFF,KACIG,EAGF,EAHEA,OACA7E,EAEF,EAFEA,KAGE8E,EACAC,EADYF,EACGA,EAAOvF,KACP,MAIrB,OACI,yBAAKc,UAAWC,IAAO2E,gBACnB,6BAAMhF,GACN,kBAAC,GAAD,CACIsE,QANkB,kBAAMM,EAAQH,KAAK,yBAOrCL,IAAKU,EACL3B,KAAK,c,oBCKN8B,GA/BA,SAAC,GAMT,IALHpE,EAKE,EALFA,SACAT,EAIE,EAJFA,UACA8C,EAGE,EAHFA,MACAoB,EAEE,EAFFA,QAEE,IADFY,eACE,MADQ,GACR,EACEX,EAAiB,CAACY,KAAQF,QAa9B,OAZA7E,GAAamE,EAAeE,KAAKrE,GAGjC8E,EAAQE,SAAS,kBAAoBb,EAAeE,KAAKU,KAAQE,cACjEH,EAAQE,SAAS,iBAAmBb,EAAeE,KAAKU,KAAQG,aAChEJ,EAAQE,SAAS,iBAAmBb,EAAeE,KAAKU,KAAQI,aAChEL,EAAQE,SAAS,gBAAkBb,EAAeE,KAAKU,KAAQK,YAG/DN,EAAQE,SAAS,YAAcb,EAAeE,KAAKU,KAAQM,WAC3DP,EAAQE,SAAS,YAAcb,EAAeE,KAAKU,KAAQO,WAGvD,4BACIpB,QAASA,EACTpB,MAAOA,EACP9C,UAAWmE,EAAe9D,KAAK,MAE9BI,ICCEpE,eAAQ,KAAM,CAAEkJ,OViFT,kBAAM,SAAArH,GACxBA,EAAS,CAAEO,KH5FO,WG6FlBP,GFgB+B,SAAAA,GAC/BA,EAAS,CACLO,KDhBsB,sBGD1BP,EAASuB,QUpFEpD,CAA0BkI,aAtB1B,SAAC,GAGT,IAFHgB,EAEE,EAFFA,OACAf,EACE,EADFA,QAOA,OACI,kBAAC,GAAD,CACIM,QAAQ,sBACRZ,QARc,WAClBqB,IACAf,EAAQH,KAAK,OAIb,c,oBCAOmB,GAdC,WACZ,OACI,yBAAKxF,UAAWC,KAAOuF,SACnB,uCACA,wBAAIxF,UAAWC,KAAOwF,OAClB,kBAAC,IAAD,CAAMzF,UAAWC,KAAOC,KAAMnD,GAAG,0BAAjC,kBACA,kBAAC,IAAD,CAAMiD,UAAWC,KAAOC,KAAMnD,GAAG,yBAAjC,wBACA,kBAAC,IAAD,CAAMiD,UAAWC,KAAOC,KAAMnD,GAAG,wBAAjC,gBACA,kBAAC,IAAD,CAAMiD,UAAWC,KAAOC,KAAMnD,GAAG,2BAAjC,sBC0BDV,gBAJS,SAAAC,GAAK,MAAK,CAC9BC,KAAMD,EAAMC,QAGwB,KAAzBF,EA1BA,SAAC,GAGZ,OADE,EADFE,KAESI,QACE,kBAAC+I,EAAD,CAAS3C,KAAM,MAItB,yBAAK/C,UAAWC,IAAO0F,QACnB,kBAAC,GAAD,MACA,yBAAK3F,UAAWC,IAAO2F,KACvB,kBAAC,GAAD,MACA,yBAAK5F,UAAWC,IAAO2F,KACvB,kBAAC,GAAD,U,yCCKGC,GA1BE,SAAC,GAAe,IAAbC,EAAY,EAAZA,MACVC,EAAUD,EAAMxD,KAAI,SAAC0D,GACvB,IAAI7B,EAAiB,CAAClE,KAAOgG,QAG7B,OAFID,EAAK5F,QAAQ+D,EAAeE,KAAKpE,KAAOG,QAGxC,4BACIoC,IAAKwD,EAAK1G,KACV4E,QAAS8B,EAAKE,eACdlG,UAAWmE,EAAe9D,KAAK,MACjC2F,EAAK1G,SAKf,OACI,yBAAKU,UAAWC,KAAO4F,SAAU/C,MAAO,CAAEqD,oBAAoB,UAAD,OAAYL,EAAM3D,OAAlB,YACxD4D,I,8BC0CEK,GAzDE,SAAC,GAOX,IANHC,EAME,EANFA,cACAC,EAKE,EALFA,aACAC,EAIE,EAJFA,QACA9F,EAGE,EAHFA,SAGE,IAFF+F,mBAEE,MAFY,GAEZ,MADFC,wBACE,MADiB,OACjB,EAEIC,EAAY,0BAAM5D,MAAO,CAAE6D,QAAS,UACpCC,EAAW,uBAAG9D,MAAO,CACvB+D,SAAU,WACVC,IAAK,EACLC,KAAM,MACNC,UAAW,yBACXC,cAAe,SALF,sBAOXC,EAAa,uBAAGpE,MAAO,CACzB+D,SAAU,WACVC,IAAK,EACLC,KAAM,MACNC,UAAW,yBACXC,cAAe,SALA,mBAQnB,OACI,kBAAC,KAAD,eACIzE,KAnBgB,GAoBO,CAAE2E,mBAAoB,kBAAMC,SAASC,OAFhE,CAGIvE,MAAO,CAAEG,MAAO,OAAQ4D,SAAU,YAClCS,UAAWjB,EACXkB,UAAW,CAAEX,WAAUM,aAAYM,QAASd,EAAWe,OAAQf,GAE/DgB,kBAAmB,GACnBC,QAAS,MAET,kBAAC,KAAD,CACIC,UAAW,EACXC,UAAW,IACXC,SAAUxB,EACVC,QAASA,EACTwB,OAAQ,kBAACrC,EAAD,CAASlD,IAAK,MAAOO,KAAMyD,EAAa1D,MAAO,CAAEkF,UAAWvB,MAEnEhG,KCjDF,YAACnB,EAAM6C,GAClB,OAAY,MAAR7C,EACO,GAEPA,EAAK6C,QAAUA,EACR7C,GAEXA,EAAOA,EAAK2I,UAAU,EAAG9F,IACX,O,oBCsBHoC,gBAtBC,YAA2B,IAAxBC,EAAuB,EAAvBA,QAAS0D,EAAc,EAAdA,QAChBC,EAAyBD,EAAzBC,IAAKC,EAAoBF,EAApBE,MAAOC,EAAaH,EAAbG,SAEdC,EAAW3D,EAAeuD,EAAQK,gBAAgBrJ,MAGxD,OACI,yBAAKc,UAAWC,KAAOuI,QAAStE,QAAS,SAACuE,GAAQjE,EAAQH,KAAR,oBAA0B8D,MACxE,yBAAKnI,UAAWC,KAAOyI,cACnB,yBAAKzE,IAAI,MAAMjE,UAAWC,KAAO0I,MAAO3E,IAAKsE,IAC5CJ,EAAQU,MACL,yBAAK5I,UAAWC,KAAO4I,SAAvB,aAGR,yBAAK7I,UAAWC,KAAO6I,SACnB,yBAAK9I,UAAWC,KAAO8I,MAAvB,QAAgCX,EAAMY,kBACtC,yBAAKhJ,UAAWC,KAAOgJ,KAAMC,GAAab,EAAU,SCwGrDhM,gBAPS,SAAAC,GAAK,MAAK,CAC9B6M,MAAO7M,EAAM8M,OAAOD,MACpBE,UAAW/M,EAAM8M,OAAOC,UACxBC,SAAUhN,EAAM8M,OAAOE,SACvB/M,KAAMD,EAAMC,QAGwB,CAAEgN,WCtChB,kBAAM,SAAMrL,GAAN,SAAAY,EAAAC,OAAA,gDAC5Bb,EAAS,CACLO,KrBuCmB,gBqBzCK,uCDsCsB+K,SC5G9B,eAACC,EAAD,uDAAQ,EAAR,OAAc,SAAMvL,GAAN,iBAAAY,EAAAC,OAAA,uDAClCb,EAAS,CACLO,KrBoGuB,oBqBtGO,oBAAAK,EAAA,MAMZ7B,EAAM+B,IAAN,8BARZ,GAQY,iBAA+CyK,EAA/C,iBANY,OAMxBxK,EANwB,OAOxBsH,EAAUtH,EAAIC,KAAKiD,QATnB,GAWNjE,EAAS,CACLO,KrB6FqB,oBqB5FrBC,QAAS,CACLgL,SAAUzK,EAAIC,KACdqH,aAbsB,gDAiB9BrI,EAASJ,EAAS,KAAIL,SAASyB,KAAKnB,QAAS,WAC7CG,EAAS,CACLO,KrBqFkB,mBqBxGQ,0DD4G0BkL,eCjClC,kBAAM,SAAMzL,GAAN,SAAAY,EAAAC,OAAA,gDAChCb,EAAS,CACLO,KrBmCuB,oBqBrCK,uCDiC4CmL,aCrFpD,eAACH,EAAD,uDAAQ,EAAR,OAAc,SAAMvL,GAAN,iBAAAY,EAAAC,OAAA,uDACtCb,EAAS,CACLO,KrBgF2B,wBqBlFO,oBAAAK,EAAA,MAMhB7B,EAAM+B,IAAN,8BA/BZ,GA+BY,iBAA+CyK,EAA/C,qBANgB,OAM5BxK,EAN4B,OAO5BsH,EAAUtH,EAAIC,KAAKiD,QAhCnB,GAkCNjE,EAAS,CACLO,KrByEyB,wBqBxEzBC,QAAS,CACLgL,SAAUzK,EAAIC,KACdqH,aAb0B,gDAiBlCrI,EAASJ,EAAS,KAAIL,SAASyB,KAAKnB,QAAS,WAC7CG,EAAS,CACLO,KrBiEsB,uBqBpFQ,0DDqFoDoL,cC5BjE,kBAAM,SAAM3L,GAAN,SAAAY,EAAAC,OAAA,gDAC/Bb,EAAS,CACLO,KrB+BsB,mBqBjCK,uCD4B0EqL,YC9DlF,eAACL,EAAD,uDAAQ,EAAR,OAAc,SAAMvL,GAAN,iBAAAY,EAAAC,OAAA,uDACrCb,EAAS,CACLO,KrB4D0B,uBqB9DO,oBAAAK,EAAA,MAMf7B,EAAM+B,IAAN,8BAtDZ,GAsDY,iBAA+CyK,EAA/C,oBANe,OAM3BxK,EAN2B,OAO3BsH,EAAUtH,EAAIC,KAAKiD,QAvDnB,GAyDNjE,EAAS,CACLO,KrBqDwB,uBqBpDxBC,QAAS,CACLgL,SAAUzK,EAAIC,KACdqH,aAbyB,gDAiBjCrI,EAASJ,EAAS,KAAIL,SAASyB,KAAKnB,QAAS,WAC7CG,EAAS,CACLO,KrB6CqB,sBqBhEQ,2DD8D1BpC,EArHA,SAAC,GAeT,IAdH0N,EAcE,EAdFA,MACAvF,EAaE,EAbFA,QAEAjI,EAWE,EAXFA,KACA4M,EAUE,EAVFA,MACAE,EASE,EATFA,UACAC,EAQE,EARFA,SAEAC,EAME,EANFA,WACAC,EAKE,EALFA,SACAG,EAIE,EAJFA,eACAC,EAGE,EAHFA,aACAC,EAEE,EAFFA,cACAC,EACE,EADFA,YAGME,EAASD,EAAME,OAAOD,OAEtBjE,EAAU,CACZ,CACIzG,KAAM,QACNc,OAAmB,UAAX4J,EACR9D,eAAgB,iBAAiB,UAAX8D,GAAsBxF,EAAQH,KAAK,mBAE7D,CACI/E,KAAM,YACNc,OAAmB,cAAX4J,EACR9D,eAAgB,iBAAiB,cAAX8D,GAA0BxF,EAAQH,KAAK,uBAEjE,CACI/E,KAAM,WACNc,OAAmB,aAAX4J,EACR9D,eAAgB,iBAAiB,aAAX8D,GAAyBxF,EAAQH,KAAK,uBAMhEkC,GAAU,EACV2D,EAAe,GACfC,EAAgB,kBAAM,MACtBC,EAAU,kBAAM,MACpB,OAAQJ,GACJ,IAAK,QACDE,EAAef,EAAMO,SACrBnD,EAAU4C,EAAM5C,QACZhK,EAAKG,kBAAoByM,EAAMxM,UAC/BwN,EAAgB,kBAAMX,EAASL,EAAMO,SAASvH,SAC9CiI,EAAU,kBAAMb,MAEpB,MACJ,IAAK,YACDW,EAAeb,EAAUK,SACzBnD,EAAU8C,EAAU9C,QAChBhK,EAAKG,kBAAoB2M,EAAU1M,UACnCwN,EAAgB,kBAAMP,EAAaP,EAAUK,SAASvH,SACtDiI,EAAU,kBAAMT,MAEpB,MACJ,IAAK,WACDO,EAAeZ,EAASI,SACxBnD,EAAU+C,EAAS/C,QACfhK,EAAKG,kBAAoB4M,EAAS3M,UAClCwN,EAAgB,kBAAML,EAAYR,EAASI,SAASvH,SACpDiI,EAAU,kBAAMP,MAEpB,MACJ,QACI,OAAO,kBAAC,IAAD,CAAU9M,GAAG,QAG5B,IAAMsN,EAAcH,EAAa5H,KAAI,SAAC4F,GAClC,OAAO,kBAAC,GAAD,CAAS1F,IAAK0F,EAAQC,IAAKD,QAASA,OAG/C,OACI,kBAAC,WAAD,KACI,kBAAC,GAAD,CAAUpC,MAAOC,IACjB,yBAAKjD,MAAO,CAAEkF,UAAW,WACrB,kBAAC,GAAD,CACI3B,cAAe+D,EACf9D,aAAc6D,EACd5D,QAASA,GAGJA,GAAkC,IAAvB8D,EAAYlI,OAIpB,yBAAKnC,UAAWC,KAAO6F,OAClBuE,GAHL,uBAAGvH,MAAO,CAAEK,OAAQ,SAApB,0B,+EE/CbmH,GAjDD,SAAC,GAWT,EAVFhM,GAUG,IATHG,EASE,EATFA,KACAoD,EAQE,EARFA,YAQE,IAPF0I,aAOE,MAPM,GAON,EANFC,EAME,EANFA,SACA5K,EAKE,EALFA,KAKE,IAJF6K,gBAIE,SAHFzK,EAGE,EAHFA,UACA8C,EAEE,EAFFA,MACArC,EACE,EADFA,SAoCA,MAjCa,aAAThC,EACS,8BACLoD,YAAaA,EACb0I,MAAOA,EACPC,SAAUA,EACV5K,KAAMA,EACN6K,SAAUA,EACVzK,UAAW,CAAC+E,KAAQ2F,SAAU1K,GAAWK,KAAK,KAC9CyC,MAAOA,IAGK,WAATrE,EACE,4BACL8L,MAAOA,EACPC,SAAUA,EACV5K,KAAMA,EACN6K,SAAUA,EACVzK,UAAW,CAAC+E,KAAQuF,MAAOtK,GAAWK,KAAK,KAC3CyC,MAAOA,GACTrC,GAEO,2BACLhC,KAAMA,EACNoD,YAAaA,EACb0I,MAAOA,EACPC,SAAUA,EACV5K,KAAMA,EACN6K,SAAUA,EACVzK,UAAW,CAAC+E,KAAQuF,MAAOtK,GAAWK,KAAK,KAC3CyC,MAAOA,KCqEJzG,eAAQ,KAAM,CAACyB,WAAU6M,MpBpDnB,SAAC,GAAD,IAAGC,EAAH,EAAGA,MAAOC,EAAV,EAAUA,SAAV,OAAyB,SAAM3M,GAAN,iBAAAY,EAAAC,OAAA,uDAC1Cb,EAAS,CACLO,KHjDmB,gBGoDjB4I,EAAOyD,KAAKC,UAAU,CAAEH,QAAOC,aALK,oBAAA/L,EAAA,MAQpB7B,EAAMsC,KAAK,kBAAmB8H,IARV,OAQhCpI,EARgC,OAWtCf,EAAS,CACLO,KH1DiB,gBG2DjBC,QAASO,EAAIC,OAEjBhB,EAASwB,EAASC,aAAahC,QAfO,kDAiBtCO,EAASJ,EAAS,KAAIL,SAASyB,KAAKnB,QAAS,WAC7CG,EAAS,CACLO,KHhEc,eG6CoB,2DoBoDCuM,SpB1BvB,SAAC,GAAD,IAAGpL,EAAH,EAAGA,KAAMgL,EAAT,EAASA,MAAOC,EAAhB,EAAgBA,SAAhB,OAA+B,SAAM3M,GAAN,iBAAAY,EAAAC,OAAA,uDACnDb,EAAS,CACLO,KHhFsB,mBGmFpB4I,EAAOyD,KAAKC,UAAU,CAAEnL,OAAMgL,QAAOC,aALQ,oBAAA/L,EAAA,MAQ7B7B,EAAMsC,KAAK,mBAAoB8H,IARF,OAQzCpI,EARyC,OAU/Cf,EAAS,CACLO,KHxFoB,mBGyFpBC,QAASO,EAAIC,OAEjBhB,EAASwB,EAASC,aAAahC,QAdgB,kDAgB/CO,EAASJ,EAAS,KAAIL,SAASyB,KAAKnB,QAAS,WAC7CG,EAAS,CACLO,KH9FiB,kBG4E0B,4DoB0BxCpC,EApGE,SAAC,GAMX,IALH4O,EAKE,EALFA,SAEAnN,EAGE,EAHFA,SACAkN,EAEE,EAFFA,SACAL,EACE,EADFA,MACE,EAE8BO,mBAAS,CACrCtL,KAAM,GACNgL,MAAO,GACPC,SAAU,GACVM,UAAW,KANb,oBAEKC,EAFL,KAEeC,EAFf,KASFC,qBAAU,SAACC,GACPF,GAAY,iBAAO,CACfzL,KAAM,GACNgL,MAAO,GACPC,SAAU,GACVM,UAAW,SAEhB,CAACF,IAGJ,IAAMT,EAAW,SAAC/B,GACdA,EAAE+C,iBACF/C,EAAEgD,UAEFJ,GAAY,SAACE,GAAD,sBACLA,EADK,gBAEP9C,EAAEiD,OAAO9L,KAAO6I,EAAEiD,OAAOnB,YAoBlC,OACI,0BAAMoB,SAhBO,SAAClD,GACdA,EAAE+C,iBADkB,IAEZ5L,EAAqCwL,EAArCxL,KAAMgL,EAA+BQ,EAA/BR,MAAOC,EAAwBO,EAAxBP,SAAUM,EAAcC,EAAdD,UAE3BF,EACIJ,IAAaM,EACbrN,EAAS,uBAAwB,UAEjCkN,EAAS,CAAEpL,OAAMgL,QAAOC,aAG5BF,EAAM,CAAEC,QAAOC,cAKO7K,UAAWC,KAAO2L,UACvCX,GACG,kBAAC,GAAD,CACIxM,KAAK,OACLoD,YAAY,WACZ0I,MAAOa,EAASxL,KAChB4K,SAAU,SAAA/B,GAAC,OAAI+B,EAAS/B,IACxB7I,KAAK,OACL6K,UAAQ,IAGhB,kBAAC,GAAD,CACIhM,KAAK,QACLoD,YAAY,QACZ0I,MAAOa,EAASR,MAChBJ,SAAUA,EACV5K,KAAK,QACL6K,UAAQ,IAEZ,kBAAC,GAAD,CACIhM,KAAK,WACLoD,YAAY,WACZ0I,MAAOa,EAASP,SAChBL,SAAUA,EACV5K,KAAK,WACL6K,UAAQ,IAEXQ,GACG,kBAAC,GAAD,CACIxM,KAAK,WACLoD,YAAY,mBACZ0I,MAAOa,EAASD,UAChBX,SAAUA,EACV5K,KAAK,YACL6K,UAAQ,IAGhB,kBAAC,GAAD,CAAQ3F,QAAQ,iBAAiBmG,EAAW,SAAW,a,oBClEpDY,GAjCS,SAAC,GAAkC,IAAjCZ,EAAgC,EAAhCA,SAAUa,EAAsB,EAAtBA,iBAG1BC,EAAoB,CAAC9L,KAAO+L,gBAC5BC,EAAmB,CAAChM,KAAOiM,eASjC,OANIjB,EACAc,EAAkB1H,KAAKpE,KAAOG,QAE9B6L,EAAiB5H,KAAKpE,KAAOG,QAI7B,6BACI,4BACIJ,UAAW+L,EAAkB1L,KAAK,KAClC6D,QAAS,kBAAM4H,GAAiB,KAFpC,UAKA,4BACI9L,UAAWiM,EAAiB5L,KAAK,KACjC6D,QAAS,kBAAM4H,GAAiB,KAFpC,WCsBGzP,gBAJS,SAACC,GAAD,MAAY,CAChCC,KAAMD,EAAMC,QAGwB,KAAzBF,EAlCF,SAAC,GAAwC,IAAD,IAAtCE,KAAOG,EAA+B,EAA/BA,gBAAiBC,EAAc,EAAdA,QAAc,EACjBuO,oBAAS,GADQ,oBAC1CD,EAD0C,KAChCkB,EADgC,KAQjD,GAAIzP,EACA,OAAO,kBAAC,IAAD,CAAUK,GAAG,MAGxB,IAAMqP,EACF,kBAAC,WAAD,KACI,kBAAC,GAAD,CAAiBnB,SAAUA,EAAUa,iBAXpB,SAACO,GACtBA,IAAYpB,GAAYkB,EAAYE,MAWhC,kBAAC,GAAD,CAAUpB,SAAUA,KAI5B,OACI,yBAAKjL,UAAWC,KAAOqM,MACjB3P,EAAU,kBAAC+I,EAAD,CAAS5C,MAAO,CAACyJ,OAAQ,UAAcH,MC8GlDI,GAAa,SAACC,GAAD,OAAe,SAAMvO,GAAN,eAAAY,EAAAC,OAAA,uDACrCb,EAAS,CACLO,K1B1FyB,oB0B2FzBC,QAAS+N,IAHwB,oBAAA3N,EAAA,MAOf7B,EAAM+B,IAAN,wBAA2ByN,KAPZ,OAO3BxN,EAP2B,OASjCf,EAAS,CACLO,K1BjGuB,sB0BkGvBC,QAASO,EAAIC,OAXgB,gDAcjChB,EAASJ,EAAS,KAAIL,SAASyB,KAAKnB,QAAS,WAC7CG,EAAS,CACLO,K1BtGoB,qB0BsFS,0D,8BCtB1BiO,GAnHA,SAAC,GAA4D,IAA1D9K,EAAyD,EAAzDA,OAAQ+K,EAAiD,EAAjDA,SAAUC,EAAuC,EAAvCA,UAAWC,EAA4B,EAA5BA,YAAalB,EAAe,EAAfA,SAAe,EAC/CT,oBAAS,GADsC,oBAChE7I,EADgE,KAC1DyK,EAD0D,KAEnEhL,EAAciL,IAAMC,YAYlBC,EAAiB,WACnBH,GAAQ,GACRhL,EAAYoL,QAAQC,UAAW,EAC/BrL,EAAYoL,QAAQE,QAQlBC,EAAkB,SAAC5E,GACrB,IAAM6E,EAAmB7E,EAAEiD,OAAO6B,aAAa,YAC/CV,GAAY,kBAAMS,KAClBR,GAAQ,GACRnB,KAGE6B,EAAkB,SAAC/E,GACrBA,EAAE+C,iBACFyB,IACAtB,KAcE8B,EAXa,CACf,CAAElD,MAAO,GAAIjL,KAAM,OACnB,CAAEiL,MAAO,OAAQjL,KAAM,QACvB,CAAEiL,MAAO,WAAYjL,KAAM,YAC3B,CAAEiL,MAAO,SAAUjL,KAAM,UACzB,CAAEiL,MAAO,cAAejL,KAAM,eAC9B,CAAEiL,MAAO,QAASjL,KAAM,SACxB,CAAEiL,MAAO,MAAOjL,KAAM,OACtB,CAAEiL,MAAO,QAASjL,KAAM,UAGIgD,KAAI,SAACoL,GAAD,OAChC,wBACIlL,IAAKkL,EAAGpO,KACR4E,QAASmJ,EACTrN,UACI2M,IAAae,EAAGnD,MACV,CAACtK,KAAO0M,SAAU1M,KAAO0N,gBAAgBtN,KAAK,KAC9CJ,KAAO0M,SAEjBA,SAAUe,EAAGnD,OACZmD,EAAGpO,SAIRsO,EAAuB,GAM3B,OALIjB,GAAY/K,EAAQgM,EAAuB,CAACjB,EAAU/K,GAAQvB,KAAK,YAC9DsM,EAAUiB,EAAuBjB,EACjC/K,IAAQgM,EAAuBhM,GAIpC,yBAAK5B,UAAWC,KAAOyM,QACnB,yBAAK1M,UAAWC,KAAO4N,OAAQ3J,QAAU7B,EAAuB,aAnElD,WAClByK,GAAQ,GACRhL,EAAYoL,QAAQC,UAAW,EAC/BrL,EAAYoL,QAAQY,UAiEXzL,GACG,kBAAC,IAAD,CACIrC,UAAWC,KAAO8N,SAClB7J,QAAS+I,IAEjB,0BAAMtB,SAAU6B,EAAiBxN,UAAWC,KAAO+N,sBAC/C,2BACIhO,UAAWC,KAAO6B,YAClBrD,KAAK,OACLoD,YAAY,SACZ0I,MAAOlI,EACDT,EACAgM,EAENpD,SAlEG,SAAC/B,GACpBA,EAAEgD,UACFmB,GAAU,kBAAMnE,EAAEiD,OAAOnB,UAiET0D,IAAKnM,EACLqL,UAAQ,IAEX9K,GAAQ,kBAAC,IAAD,CAAYrC,UAAWC,KAAOiO,iBAAkBhK,QAhFtD,WACf0I,GAAU,iBAAM,UAiFR,kBAAC,KAAD,CAAU5M,UAAWC,KAAO8B,WAAYmC,QAASsJ,KAEpDnL,GACG,kBAAC,WAAD,KACI,wBAAIrC,UAAWC,KAAOkO,YACjBV,GAEL,yBAAKzN,UAAWC,KAAOmO,SAAUlK,QAAS+I,O,qBCrC/C5Q,gBAJS,SAACC,GAAD,MAAY,CAChC4L,QAAS5L,EAAM4L,WAGqB,CAAEmG,YFwCf,SAAC,GAAD,QAAG5E,YAAH,MAAU,EAAV,MAAa6E,aAAb,MAAqB,GAArB,MAAyB1M,cAAzB,MAAkC,KAAlC,MAAwC+K,gBAAxC,MAAmD,KAAnD,SAA8D,SAAMzO,GAAN,mBAAAY,EAAAC,OAAA,uDACrFb,EAAS,CACLO,K1B7D0B,wB0B+D1B8P,EAAU,IACNlK,KAAR,gBAAsBiK,IACtBC,EAAQlK,KAAR,eAAqBoF,IACjB7H,GAAQ2M,EAAQlK,KAAR,iBAAuBzC,IAC/B+K,GAAU4B,EAAQlK,KAAR,mBAAyBsI,IAR8C,oBAAA7N,EAAA,MAW/D7B,EAAM+B,IAAN,wBAA2BuP,EAAQlO,KAAK,QAXuB,OAW3EpB,EAX2E,OAY3EsH,EAAUtH,EAAIC,KAAKiD,SAAWmM,EACpCpQ,EAAS,CACLO,K1BxEwB,uB0ByExBC,QAAS,CACLgL,SAAUzK,EAAIC,KACdqH,aAjByE,kDAqBjFrI,EAASJ,EAAS,KAAIL,SAASyB,KAAKnB,QAAS,WAC7CG,EAAS,CACLO,K1BhFqB,sB0ByDwD,2DExClC+P,gBFoExB,kBAAM,SAAMtQ,GAAN,SAAAY,EAAAC,OAAA,gDACjCb,EAAS,CACLO,K1BrFwB,qB0BmFK,wCEpEtBpC,EAxDE,SAAC,GAA+E,IAA7EgS,EAA4E,EAA5EA,YAAaG,EAA+D,EAA/DA,gBAA+D,IAA9CtG,QAAWwB,EAAmC,EAAnCA,SAAUnD,EAAyB,EAAzBA,QAAS5J,EAAgB,EAAhBA,QAAgB,EAChEuO,mBAAS,IADuD,oBACrFtJ,EADqF,KAC7EgL,EAD6E,OAE5D1B,mBAAS,IAFmD,oBAErFyB,EAFqF,KAE3EE,EAF2E,KAkBtFzC,EAAU,kBAAOzN,EAAQ0R,aAAeG,KAExCnE,EAAcX,EAASpH,KAAI,SAACmM,GAC9B,OAAO,kBAAC,GAAD,CAASjM,IAAKiM,EAActG,IAAKD,QAASuG,OAGrD,OACI,6BACI,kBAAC,GAAD,CACI7M,OAAQA,EACR+K,SAAUA,EACVC,UAAWA,EACXC,YAAaA,EACblB,SA3BK,WACbvB,OA4BI,kBAAC,GAAD,CACI/D,cAAe+D,EACf9D,aA3BK,WACR3J,EAAQ0R,aACTA,EAAY,CACR5E,KAAMC,EAASvH,OACfmM,MAAO,GACP1M,OAAQA,EACR+K,SAAUA,KAsBVpG,QAASA,GAET,yBAAKvG,UAAWC,KAAOyO,UAClBrE,QCjDN,SAASsE,KAKpB,OAJArD,qBAAU,WACNzH,OAAO+K,SAAS,EAAG,KACpB,IAEI,K,wBCeIC,GAlBG,SAAC,GAAyC,IAAvCvP,EAAsC,EAAtCA,KAAMwP,EAAgC,EAAhCA,WAAYC,EAAoB,EAApBA,cACnC,OACI,yBAAK/O,UAAWC,KAAO4O,WACnB,yBAAK7O,UAAWC,KAAOX,MAAOA,GAC9B,4BACIU,UAAWC,KAAOgG,OAClB/B,QAAS6K,GACXD,K,yCCQCvK,gBAdA,SAAC,GAA2B,IAAzB9D,EAAwB,EAAxBA,SAAU+D,EAAc,EAAdA,QACxB,OACI,yBAAKxE,UAAWC,KAAO+O,QACnB,yBACIhP,UAAWC,KAAOgP,OAClB/K,QAAS,SAAAuE,GAAC,OAAIjE,EAAQ0K,WAEtB,kBAAC,IAAD,OAEHzO,M,oBCgBE0O,GAxBI,SAAC,GAKb,IAAD,IAJF3I,mBAIE,MAJY,GAIZ,EAHFtC,EAGE,EAHFA,QACAkL,EAEE,EAFFA,QAEE,IADFzS,QAEA,YADE,SACkB,kBAAC+I,EAAD,CAAS5C,MAAO,CAAEyJ,OAAQ,GAAKxJ,KAAMyD,EAAaxD,MAAM,SAGxE,4BAAQhD,UAAWC,KAAOoP,WAAYnL,QAAS,SAACuE,GAAD,OAAOvE,MAChDkL,EACI,kBAAC,IAAD,CAAYpP,UAAWC,KAAOqP,OAC9B,kBAAC,IAAD,CAAiBtP,UAAWC,KAAOsP,WCqEtClT,gBANS,SAAAC,GAAK,MAAK,CAC9B4L,QAAS5L,EAAM4L,QAAQA,QACvBsH,YAAalT,EAAM4L,QAAQvL,QAAQ8S,MACnClT,KAAMD,EAAMC,QAGwB,CAAEmT,cP6Eb,SAACjD,GAAD,OAAe,SAAMvO,GAAN,SAAAY,EAAAC,OAAA,uDACxCb,EAAS,CACLO,K1B1G4B,yB0BwGQ,oBAAAK,EAAA,MAM9B7B,EAAM0S,OAAN,wBAA8BlD,KANA,OAQpCvO,EAAS,CACLO,K1BhH0B,yB0BiH1BC,QAAS+N,IAEbvO,EAASJ,EAAS,kBAAmB,YAZD,gDAcpCI,EAASJ,EAAS,KAAIL,SAASyB,KAAKnB,QAAS,WAC7CG,EAAS,CACLO,K1BtHuB,wB0BsGS,0DO7EamR,QPuHlC,SAACnD,GAAD,OAAe,SAAMvO,GAAN,eAAAY,EAAAC,OAAA,uDAClCb,EAAS,CACLO,K1BzIsB,mB0BuIQ,oBAAAK,EAAA,MAMZ7B,EAAM4S,IAAN,6BAAgCpD,KANpB,OAMxBxN,EANwB,OAO9Bf,EAAS,CACLO,K1B9IoB,mB0B+IpBC,QAASO,EAAIC,OATa,gDAY9BhB,EAASJ,EAAS,KAAIL,SAASyB,KAAKnB,QAAS,WAC7CG,EAAS,CACLO,K1BnJiB,kB0BqIS,0DOvH4BqR,UPyIzC,SAACrD,GAAD,OAAe,SAAMvO,GAAN,eAAAY,EAAAC,OAAA,uDACpCb,EAAS,CACLO,K1BvJwB,qB0BqJQ,oBAAAK,EAAA,MAMd7B,EAAM4S,IAAN,+BAAkCpD,KANpB,OAM1BxN,EAN0B,OAOhCf,EAAS,CACLO,K1B5JsB,qB0B6JtBC,QAASO,EAAIC,OATe,gDAYhChB,EAASJ,EAAS,KAAIL,SAASyB,KAAKnB,QAAS,WAC7CG,EAAS,CACLO,K1BjKmB,oB0BmJS,2DOzIzBpC,CAAgEkI,aA5EhE,SAAC,GAWT,IAVHC,EAUE,EAVFA,QACAuF,EASE,EATFA,MAEAxN,EAOE,EAPFA,KACA2L,EAME,EANFA,QACAsH,EAKE,EALFA,YAEAE,EAGE,EAHFA,cACAE,EAEE,EAFFA,QACAE,EACE,EADFA,UAEIV,GAAU,EACV7S,EAAKG,iBAAmBwL,IACxBkH,IAAYlH,EAAQuH,MAAMM,MAAK,SAACC,GAC5B,OAAOA,IAASzT,EAAK+H,KAAK6D,QAmBlC,OACI,kBAAC,GAAD,KACI,yBAAKnI,UAAWC,KAAO6F,OAClBvJ,EAAKG,iBAAmBH,EAAK+H,KAAK6D,MAAQD,EAAQ5D,OAAyB,IAAjB4D,EAAQU,MAC/D,kBAAC,WAAD,KACI,kBAAC,GAAD,CACI9D,QAAQ,uBACRZ,QAhBI,WACxBM,EAAQH,KAAR,gBAAsB6D,EAAQC,QAad,QAKA,kBAAC,GAAD,CACIrD,QAAQ,uBACRZ,QAjBM,WAC1BwL,EAAc3F,EAAME,OAAO3L,IAC3BkG,EAAQH,KAAK,eAaG,WAOR,kBAAC,GAAD,CACI1H,QAAS6S,EACTtL,QAAS,kBAnCG,WACxB,IAAK3H,EAAKG,gBACN,OAAO8H,EAAQH,KAAK,SAExB+K,EAAUU,EAAU/F,EAAME,OAAO3L,IAAMsR,EAAQ7F,EAAME,OAAO3L,IA+BjC2R,IACfb,QAASA,U,oGClCdc,GA1BG,SAAC,GAIZ,IAHHzP,EAGE,EAHFA,SACAqC,EAEE,EAFFA,MACA9C,EACE,EADFA,UAEMmE,EAAiB,CAAClE,KAAOkQ,KAAMnQ,GAAWK,KAAK,KAE/C+P,EADiB3P,EAAS4P,MAAM,MACXD,IAY3B,OAXsB3P,EAAS4P,MAAM,MAAM/N,KAAI,SAAC6N,EAAMG,GAAP,OAC3C,kBAAC,WAAD,CAAU9N,IAAK8N,GACX,0BACIxN,MAAOA,EACP9C,UAAWmE,GACbgM,GAEDG,IAAMF,EAAM,GAAK,kC,oBCmDf7L,gBA9DE,SAAC,GAeX,IAAD,IAdFgM,aAcE,MAdM,KAcN,EAbF3Q,EAaE,EAbFA,KACA6E,EAYE,EAZFA,OACA+L,EAWE,EAXFA,OACAhM,EAUE,EAVFA,QAUE,IAPFiM,iBAOE,MAPU,OAOV,MANFC,iBAME,aALFC,gBAKE,MALS,SAKT,MAJF3N,aAIE,MAJM,UAIN,MAHF4N,kBAGE,MAHW,OAGX,MAFFC,qBAEE,MAFc,SAEd,EADF/N,EACE,EADFA,MAEM4B,EACAC,EADYF,EACGA,EAAOvF,KACP,MAEf4R,EAAgBJ,EAAY,CAAEK,WAAYF,GAAkB,CAAEG,YAAaH,GAC3EI,EAAU,kBAAC,GAAD,CACZhN,IAAI,kBACJD,IAAKU,EACL3B,KAAM0N,EACNzQ,UAAWC,KAAOiR,cAEhBC,EACF,yBACIrO,MAAK,eACEgO,EADF,CAEDH,WACAC,aACA5N,WAENuN,GAAS,0BAAMzN,MAAO,CAAE8N,WAAY,WAA3B,UAA2CL,EAA3C,MAA6D3Q,GAG5E,OACI,yBAAKI,UAAW,CAACC,KAAOmR,KAAMtO,GAAOzC,KAAK,KAAM6D,QAASsM,EAAS,kBAAMhM,EAAQH,KAAR,mBAAyBmM,KAAY,kBAAM,OAE3GE,EACM,kBAAC,WAAD,KAAWO,EAASE,GACpB,kBAAC,WAAD,KAAWA,EAASF,OCpC3BI,GAXC,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QACf,OACI,yBAAKtR,UAAWC,KAAOoR,SACnB,kBAAC,GAAD,CAAUzR,KAAM0R,EAAQ1R,KAAM6E,OAAQ6M,EAAQ7M,OAAQ+L,OAAQc,EAAQhN,OACtE,yBAAKtE,UAAWC,KAAOsR,MACnB,kBAAC,GAAD,KAAYD,EAAQhS,SCyDrBjD,gBAPS,SAAAC,GAAK,MAAK,CAC9BkV,SAAUlV,EAAM4L,QAAQA,QAAQsJ,SAChC7U,QAASL,EAAM4L,QAAQvL,QAAQ6U,SAC/BjV,KAAMD,EAAMC,KACZkV,WAAYC,KAAUC,KAAKC,cAGS,CAAEH,WXsHhB,SAAChF,EAAWnN,GAAZ,OAAqB,SAAMpB,GAAN,eAAAY,EAAAC,OAAA,uDAC3Cb,EAAS,CACLO,K1BzHyB,sB0BuHc,oBAAAK,EAAA,MAMrB7B,EAAMsC,KAAN,gCAAoCkN,GAAa,CAAEnN,UAN9B,OAMjCL,EANiC,OAQvCf,EAASJ,EAAS,gBAAiB,YACnCI,EAAS,CACLO,K1BhIuB,sB0BiIvBC,QAASO,EAAIC,OAXsB,gDAcvChB,EAASJ,EAAS,KAAIL,SAASyB,KAAKnB,QAAS,WAC7CG,EAAS,CACLO,K1BrIoB,qB0BqHe,2DWtHhCpC,CAAyCkI,aAxDvC,SAAC,GAA6D,IAA3DkN,EAA0D,EAA1DA,WAAYlV,EAA8C,EAA9CA,KAAMiV,EAAwC,EAAxCA,SAAUhN,EAA8B,EAA9BA,QAASuF,EAAqB,EAArBA,MAAOpN,EAAc,EAAdA,QAAc,EACtCuO,mBAAS,IAD6B,oBACnE2G,EADmE,KACvDC,EADuD,KAO1E,OAJAxG,qBAAU,WACNwG,GAAc,iBAAM,QACrB,CAACN,IAGA,kBAAC,WAAD,KACI,wBAAIxR,UAAWC,KAAO8R,QAAtB,YACA,yBAAK/R,UAAWC,KAAO+R,UACE,IAApBR,EAASrP,QAAgB,6CACzBqP,EAASlP,KAAI,SAAAgP,GAAO,OAAI,kBAAC,GAAD,CAAS9O,IAAK8O,EAAQnJ,IAAKmJ,QAASA,OAC7D,8BACItR,UAAWC,KAAOyK,SAClB7I,YAAY,mBACZ0I,MAAOsH,EACPrH,SAAU,SAAC/B,GACPA,EAAEgD,UACFqG,GAAc,kBAAMrJ,EAAEiD,OAAOnB,YAGrC,kBAAC,GAAD,CACIzF,QAAQ,gBACR9E,UAAWC,KAAOgG,OAClB/B,QAAS,SAAAuE,GACAlM,EAAKG,gBAGc,KAAfmV,EACLtU,QAAQC,IAAI,kBAEZiU,EAAW1H,EAAME,OAAO3L,GAAIuT,GAL5BrN,EAAQH,KAAK,WAQvB1H,EACI,kBAAC+I,EAAD,CAAS3C,KAAM,GAAID,MAAO,CAAEyJ,OAAQ,GAAKvJ,MAAM,UAC/C,cC+BP3G,gBAJS,SAAAC,GAAK,MAAK,CAC9B4L,QAAS5L,EAAM4L,QAAQA,WAGa,KAAzB7L,CAA+BkI,aApEjC,SAAC,GAaP,IAZHC,EAYE,EAZFA,QAYE,IAXF0D,QACI+J,EAUF,EAVEA,aACA1J,EASF,EATEA,gBACA9D,EAQF,EAREA,OACA7E,EAOF,EAPEA,KACAsS,EAMF,EANEA,YACA7J,EAKF,EALEA,SACAkI,EAIF,EAJEA,MACAjM,EAGF,EAHEA,KACA6N,EAEF,EAFEA,UAGE7J,EACA3D,EADWsN,EACIA,EAAa/S,KACbqJ,EAAgBrJ,MAErC,OACI,yBAAKc,UAAWC,KAAO8I,MACnB,yBAAK9E,IAAI,MAAMjE,UAAWC,KAAO0I,MAAO3E,IAAKsE,IAC7C,yBAAKtI,UAAWC,KAAOmS,WACnB,4BAAM7B,GACN,yBAAKvQ,UAAWC,KAAOoS,cAAgBH,GACvC,4CACA,yBAAKlS,UAAWC,KAAOoS,cACnB,2BAAIhK,IAER,sCACA,yBAAKrI,UAAWC,KAAOqS,KAAMpO,QAAS,kBAAMM,EAAQH,KAAR,mBAAyBC,MACjE,kBAAC,GAAD,CACI1E,KAAMA,EACN6E,OAAQA,EACRiM,WAAW,EACXC,SAAS,SACTF,UAAU,SAEd,kBAAC,IAAD,OAEH0B,GAAaA,EAAUvS,MACpB,kBAAC,WAAD,KACI,0CACA,yBAAKI,UAAWC,KAAOqS,KAAMpO,QAAS,kBAAMM,EAAQH,KAAR,mBAAyB8N,EAAUhK,QAC3E,kBAAC,GAAD,CACIvI,KAAMuS,EAAUvS,KAChB6E,OAAQ0N,EAAU1N,OAClBiM,WAAW,EACXC,SAAS,SACTF,UAAU,SAEd,kBAAC,IAAD,QAIZ,kBAAC,GAAD,YC2BDpU,gBANS,SAAAC,GAAK,MAAK,CAC9B4L,QAAS5L,EAAM4L,QAAQA,QACvBvL,QAASL,EAAM4L,QAAQvL,QACvBJ,KAAMD,EAAMC,QAGwB,CAAEiQ,cAAY+F,gBbuJvB,SAAC9F,GAAD,OAAe,SAAMvO,GAAN,eAAAY,EAAAC,OAAA,uDAC1Cb,EAAS,CACLO,K1BrKsB,mB0BmKgB,oBAAAK,EAAA,MAMpB7B,EAAM4S,IAAN,iCAAoCpD,KANhB,OAMhCxN,EANgC,OAOtCf,EAAS,CACLO,K1B1KoB,mB0B2KpBC,QAASO,EAAIC,OATqB,gDAYtChB,EAASJ,EAAS,KAAIL,SAASyB,KAAKnB,QAAS,WAC7CG,EAAS,CACLO,K1B/KiB,kB0BiKiB,0DavJyB+T,cb0K1C,SAAC/F,GAAD,OAAe,SAAMvO,GAAN,eAAAY,EAAAC,OAAA,uDACxCb,EAAS,CACLO,K1BpLoB,iB0BkLgB,oBAAAK,EAAA,MAMlB7B,EAAM4S,IAAN,+BAAkCpD,KANhB,OAM9BxN,EAN8B,OAOpCf,EAAS,CACLO,K1BzLkB,iB0B0LlBC,QAASO,EAAIC,OATmB,gDAYpChB,EAASJ,EAAS,KAAIL,SAASyB,KAAKnB,QAAS,WAC7CG,EAAS,CACLO,K1B9Le,gB0BgLiB,0Da1K0CgU,cb6LzD,SAAChG,GAAD,OAAe,SAAMvO,GAAN,eAAAY,EAAAC,OAAA,uDACxCb,EAAS,CACLO,K1BnMoB,iB0BiMgB,oBAAAK,EAAA,MAMlB7B,EAAM4S,IAAN,+BAAkCpD,KANhB,OAM9BxN,EAN8B,OAOpCf,EAAS,CACLO,K1BxMkB,iB0ByMlBC,QAASO,EAAIC,OATmB,gDAYpChB,EAASJ,EAAS,KAAIL,SAASyB,KAAKnB,QAAS,WAC7CG,EAAS,CACLO,K1B7Me,gB0B+LiB,2Da7L7BpC,EA/EC,SAAC,GAUV,IATHM,EASE,EATFA,QACAuL,EAQE,EARFA,QACA3L,EAOE,EAPFA,KACAiQ,EAME,EANFA,WACAhI,EAKE,EALFA,QACAuF,EAIE,EAJFA,MACAwI,EAGE,EAHFA,gBACAC,EAEE,EAFFA,cACAC,EACE,EADFA,cAMA,GAJAnH,qBAAU,WACNkB,EAAWzC,EAAME,OAAO3L,MACzB,CAACkO,EAAYzC,EAAME,OAAO3L,KAEzB3B,EAAQ6P,WAAY,OAAO,kBAAC9G,EAAD,MAE/B,IAAKwC,EAAS,OAAO,yCAErB,IAKQiK,EAAcjK,EAAdiK,UACJrD,EAAa,WACb5I,EAPsB,kBAAMqM,EAAgBxI,EAAME,OAAO3L,KA8B7D,OAtBK4J,EAAQU,MAAQrM,EAAKG,iBAAmBwL,EAAQ5D,KAAKoO,aAAenW,EAAK+H,KAAK6D,IAAIuK,YACnF5D,EAAa,OACb5I,EAAiB,kBAAM1B,EAAQH,KAAR,gBAAsB0F,EAAME,OAAO3L,OACnD4J,EAAQU,MAAQrM,EAAKG,iBAAmBwL,EAAQ5D,KAAKoO,aAAenW,EAAK+H,KAAK6D,IAAIuK,YACzF5D,EAAa,SACb5I,EAXoB,kBAAMuM,EAAc1I,EAAME,OAAO3L,MAY9C4J,EAAQU,MAAQrM,EAAKG,iBAAmByV,EAAUhK,KAAOgK,EAAUhK,IAAIuK,aAAenW,EAAK+H,KAAK6D,IAAIuK,YAC3G5D,EAAa,SACb5I,EAfoB,kBAAMsM,EAAczI,EAAME,OAAO3L,MAgB9C4J,EAAQU,OACfkG,EAAa,WACb5I,EAAiB,kBAAM,OAEtB3J,EAAKG,kBACNwJ,EAnB0B,kBAAM1B,EAAQH,KAAK,WAqB7C1H,EAAQgW,WACR7D,EAAa,kBAACpJ,EAAD,CAAS3C,KAAM,GAAID,MAAO,CAAEyJ,OAAQ,GAAKvJ,MAAM,UAC5DkD,EAAiB,kBAAM,OAKvB,6BACI,kBAAC,GAAD,MACA,kBAAC,GAAD,MACA,kBAAC,GAAD,MACA,kBAAC,GAAD,CACI5G,KAAI,eAAO4I,EAAQE,MAAMY,kBACzB8F,WAAYA,EACZC,cAAe7I,Q,0DCtEhB,gBACX0M,GAGE,IAFFC,EAEC,uDAFS,IACVC,EACC,uDADmB,mCAEdC,EAAyBD,EAC1BzC,MAAM,KACN/N,KAAI,SAAA0D,GAAI,OAAIA,EAAKgN,UAEtB,GAAIJ,GAASA,EAAMzQ,OAAS,EAAG,CAC3B,IAAM8Q,EAAcL,EAAM,GACpBM,EAAkBD,EAAYxU,KAC9B0U,EAAkBF,EAAYlQ,KACpC,OAAIoQ,EAAkBN,GAClBtQ,MAAM,qCACC,KAENwQ,EAAuB/N,SAASkO,KACjC3Q,MACI,kEAEG,K,oBC8JJ6Q,G,2MAlKX9W,MAAQ,CACJ+W,UAAU,EACVrP,IAAK,KACLsP,KAAM,CACFC,KAAM,IACNtQ,MAAO,GACPuQ,OAAQ,EAAI,GAEhBC,mBAAoB,KACpBC,YAAY,G,EAYhBC,aAAe,SAACf,EAAOgB,GAMnB,IALIA,GAAiBA,EAAczR,OAAS,IACxC5E,QAAQC,IAAI,iBACZqW,GAAWD,EAAe,EAAK9W,MAAM+V,UAGrCD,GAASA,EAAMzQ,OAAS,IACL0R,GAAWjB,EAAO,EAAK9V,MAAM+V,SAChC,CAEZ,IAAMI,EAAcL,EAAM,GACpBkB,EAAS,IAAIC,WAEnBD,EAAOE,iBACH,QACA,WACI,EAAKC,SAAS,CAAEjQ,IAAK8P,EAAOI,OAAQb,UAAU,OAElD,GAGJS,EAAOK,cAAclB,K,EAKjCmB,cAAgB,SAAAC,GACZ,EAAKC,SAAWD,G,EAEpBE,eAAiB,SAAAjB,GACb,GAAI,EAAKgB,UAAYhB,EAAKrQ,OAASqQ,EAAKnQ,OAAQ,CAC5C,IAAMsQ,EClBlB,SAAuBY,EAAOf,GAC1B,IAAMkB,EAASpN,SAASqN,cAAc,UAChCC,EAASL,EAAMM,aAAeN,EAAMpR,MACpC2R,EAASP,EAAMQ,cAAgBR,EAAMlR,OACvC2R,EAAcxB,EAAKrQ,MAAQyR,EAC3BK,EAAezB,EAAKnQ,OAASyR,EAG7BI,EAAcF,EAChBG,EAAeF,EA0BjB,OAzBID,EAHW,MAGeC,EAHG,OAI3BD,EAAcC,EAJL,KAAkB,KAK7BC,EALW,KAMXC,EAAeC,KAAKC,MAAkBJ,EAAeD,EAN1C,QAQXG,EAR6B,IAS7BD,EAAcE,KAAKC,MAAmBL,EAAcC,EATvB,OAajCP,EAAOvR,MAAQ+R,EACfR,EAAOrR,OAAS8R,EACJT,EAAOY,WAAW,MAE1BC,UACFhB,EACAf,EAAKgC,EAAIZ,EACTpB,EAAKiC,EAAIX,EACTtB,EAAKrQ,MAAQyR,EACbpB,EAAKnQ,OAASyR,EACd,EACA,EACAI,EACAC,GAEKT,EAAOgB,UAAU,aAAc,IDjBHC,CACvB,EAAKnB,SACLhB,GAGJ,EAAKW,SAAS,CACVR,qBACAC,YAAY,M,EAIxBgC,aAAe,SAACpC,EAAMqC,GAClB,EAAK1B,SAAS,CAAEX,U,EAGpBsC,cAAgB,WACZ,IAAMC,EC3Ed,SAA4BC,EAAcC,GAMtC,IALA,IAAIC,EAAMF,EAAazF,MAAM,KACzB4F,EAAOD,EAAI,GAAGjM,MAAM,WAAW,GAC/BmM,EAAOC,KAAKH,EAAI,IAChBI,EAAIF,EAAK/T,OACTkU,EAAQ,IAAI5S,WAAW2S,GACpBA,KACHC,EAAMD,GAAKF,EAAKI,WAAWF,GAE/B,OAAO,IAAIG,KAAK,CAACF,GAAQN,EAAU,CAAEtX,KAAMwX,IDkEhBO,CAAmB,EAAKla,MAAMmX,mBAAoB,WACzE,EAAKQ,SAAS,CAAEZ,UAAU,IAC1B,EAAKvW,MAAM2Z,SAASZ,I,mFAzDH,IAAD,OAChBa,KAAKzC,UAAS,iBAAO,CACjBR,mBAAoB,EAAK3W,MAAM6Z,cAAgB,KAC/CjD,YAAY,EAAK5W,MAAM6Z,aACvB3S,MAAK,EAAKlH,MAAM6Z,cAAsB,W,+BAwDpC,IAAD,SAE+CD,KAAKpa,MAAjD+W,EAFH,EAEGA,SAAUrP,EAFb,EAEaA,IAAKsP,EAFlB,EAEkBA,KAAMG,EAFxB,EAEwBA,mBACvBZ,EAAU6D,KAAK5Z,MAAM+V,SAAW,IAGtC,OACI,6BACI,yBAAK7S,UAAWC,KAAO2W,oBAClB5S,GAAOqP,GACJ,yBAAKrT,UAAWC,KAAO4W,WACnB,kBAAC,KAAD,CACI7S,IAAKA,EACLsP,KAAMA,EACNc,cAAesC,KAAKtC,cACpB0C,WAAYJ,KAAKnC,eACjB/J,SAAUkM,KAAKhB,gBAI1B1R,IAAQqP,GACL,yBACIpP,IAAI,OACJnB,MAAO,CAAEG,MAAO,QAChBe,IAAKyP,IAGb,yBAAKzT,UAAWC,KAAO8F,SAClB/B,GAAOqP,GACJ,4BACIrT,UAAWC,KAAOqT,KAClBpP,QAASwS,KAAKd,eAFlB,QAOH5R,IAAQqP,GAAYqD,KAAKpa,MAAMoX,YAC5B,4BACI1T,UAAWC,KAAO8W,KAClB7S,QAAS,WACL,EAAK+P,SAAS,CAAEZ,UAAU,MAHlC,QASHrP,GACG,4BACIhE,UAAWC,KAAO+W,OAClB9S,QAAS,WACL,EAAK+P,SAAS,CACVjQ,IAAK,KACLyP,mBAAoB,OAExB,EAAK3W,MAAM2Z,SAAS,QAP5B,aAgBVzS,GACE,kBAAC,KAAD,CACIiT,OAAQP,KAAK/C,aACbd,QAASA,EACTqE,UAAU,EACVC,OAhEU,qCAkET,gBAAGC,EAAH,EAAGA,aAAcC,EAAjB,EAAiBA,cAAjB,OACG,6BAASrX,UAAWC,KAAOqX,UACvB,wBAASF,IACL,0BAAWC,KACX,kBAAC,IAAD,CACItU,KAAK,QACLC,MAAM,OACNhD,UAAWC,KAAOsX,yB,GAvJ7BC,iBEiIdnb,gBALS,SAAAC,GAAK,MAAK,CAC9BK,QAASL,EAAM4L,QAAQvL,WAIa,CAAE8a,cjB9Fb,SAACrM,GAAD,OAAc,SAAMlN,GAAN,iBAAAY,EAAAC,OAAA,uDACvCb,EAAS,CACLO,K1BdyB,sB0BiBvBiZ,EAAS,CACXva,QAAS,CACL,eAAgB,wBAPe,oBAAA2B,EAAA,MAajB7B,EAAMsC,KAAK,gBAAiB6L,EAAUsM,IAbrB,OAa7BzY,EAb6B,OAenCf,EAASJ,EAAS,gBAAiB,YACnCI,EAAS,CACLO,K1B5BuB,sB0B6BvBC,QAASO,EAAIC,OAlBkB,kDAqBnChB,EAASJ,EAAS,KAAIL,SAASyB,KAAKnB,QAAS,WAC7CG,EAAS,CACLO,K1BjCoB,qB0BUW,4DiB8F5BpC,EAnIF,SAAC,GAAyC,IAAvCob,EAAsC,EAAtCA,cAAe9a,EAAuB,EAAvBA,QAAS6H,EAAc,EAAdA,QAAc,EAClB0G,mBAAS,CACrCqF,MAAO,GACPnI,MAAO,GACPuE,SAAU,OACVtE,SAAU,GACV6J,YAAa,KANiC,oBAC3C9G,EAD2C,KACjCC,EADiC,OASVH,mBAAS,IATC,oBAS3C+G,EAT2C,KAS7B0F,EAT6B,KAY9CpH,EAKAnF,EALAmF,MACAnI,EAIAgD,EAJAhD,MACAuE,EAGAvB,EAHAuB,SACAtE,EAEA+C,EAFA/C,SACA6J,EACA9G,EADA8G,YAGE1H,EAAW,SAAC/B,GACdA,EAAE+C,iBACF/C,EAAEgD,UACFJ,GAAY,iCACLD,EADK,gBAEP3C,EAAEiD,OAAO9L,KAAO6I,EAAEiD,OAAOnB,YAuBlC,OAAI5N,EAAQib,WAAmB,kBAAClS,EAAD,MAG3B,yBAAK1F,UAAWC,KAAO4X,MACnB,kBAAC,GAAD,MACA,yBAAK7X,UAAWC,KAAO6X,kBACnB,kBAACA,GAAD,CACIjF,QAAS,IACT4D,SAAU,SAACZ,GAAD,OA3BT,SAACA,GACd8B,GAAgB,kBAAM9B,KA0BoBY,CAASZ,OAG/C,0BAAM7V,UAAWC,KAAO8X,SAAUpM,SAAU,SAAAlD,GAAC,OAzBpC,SAACA,GAEd,GADAA,EAAE+C,kBACGyG,EAAc,OAAO1P,MAAM,oBAChC,IAAMyV,EAAc,IAAIC,SACxBD,EAAYE,OAAO,QAAS3H,GAC5ByH,EAAYE,OAAO,QAAS9P,GAC5B4P,EAAYE,OAAO,WAAYvL,GAC/BqL,EAAYE,OAAO,WAAY7P,GAC/B2P,EAAYE,OAAO,cAAehG,GAClC8F,EAAYE,OAAO,eAAgBjG,GACnCwF,EAAcO,GACdxT,EAAQH,KAAK,aAcwCsH,CAASlD,KACtD,0CACA,kBAAC,GAAD,CACIhK,KAAK,OACLoD,YAAY,kCACZjC,KAAK,QACL2K,MAAOgG,EACP/F,SAAU,SAAA/B,GAAC,OAAI+B,EAAS/B,IACxBgC,UAAQ,IAGZ,wCACA,kBAAC,GAAD,CACIhM,KAAK,SACLoD,YAAY,eACZjC,KAAK,QACL2K,MAAOnC,EACPoC,SAAU,SAAA/B,GAAC,OAAI+B,EAAS/B,IACxBgC,UAAQ,IAGZ,2CACA,kBAAC,GAAD,CACIhM,KAAK,SACLmB,KAAK,WACL2K,MAAOoC,EACPnC,SAAU,SAAA/B,GAAO+B,EAAS/B,KAC1B,4BAAQ8B,MAAM,QAAd,QACA,4BAAQA,MAAM,YAAd,YACA,4BAAQA,MAAM,eAAd,eACA,4BAAQA,MAAM,UAAd,UACA,4BAAQA,MAAM,SAAd,SACA,4BAAQA,MAAM,OAAd,OACA,4BAAQA,MAAM,SAAd,UAGJ,+CACA,kBAAC,GAAD,CACI9L,KAAK,OACLoD,YAAY,eACZjC,KAAK,WACL2K,MAAOlC,EACPmC,SAAU,SAAA/B,GAAC,OAAI+B,EAAS/B,IACxBgC,UAAQ,IAGZ,8CACA,kBAAC,GAAD,CACIhM,KAAK,WACLoD,YAAY,mBACZjC,KAAK,cACL2K,MAAO2H,EACP1H,SAAU,SAAA/B,GAAC,OAAI+B,EAAS/B,IACxBgC,UAAQ,IAEZ,kBAAC,GAAD,CAAQzK,UAAWC,KAAOkY,IAAKrT,QAAQ,yBAAvC,sB,oBC6CDzI,gBANS,SAAAC,GAAK,MAAK,CAC9BK,QAASL,EAAM4L,QAAQvL,QACvBuL,QAAS5L,EAAM4L,QAAQA,WAIa,CAAEsE,cAAY4L,YlB5F3B,SAAC3L,EAAWrB,GAAZ,OAAyB,SAAMlN,GAAN,iBAAAY,EAAAC,OAAA,uDAChDb,EAAS,CACLO,K1BtC0B,uB0ByCxBiZ,EAAS,CACXva,QAAS,CACL,eAAgB,wBAPwB,oBAAA2B,EAAA,MAY1B7B,EAAM4S,IAAN,wBAA2BpD,GAAarB,EAAUsM,IAZxB,OAYtCzY,EAZsC,OAc5Cf,EAASJ,EAAS,iBAAkB,YACpCI,EAAS,CACLO,K1BnDwB,uB0BoDxBC,QAASO,EAAIC,OAjB2B,kDAoB5ChB,EAASJ,EAAS,KAAIL,SAASyB,KAAKnB,QAAS,WAC7CG,EAAS,CACLO,K1BxDqB,sB0BkCmB,4DkB4FrCpC,EA9JE,SAAC,GAAmE,IAAjE6L,EAAgE,EAAhEA,QAASsE,EAAuD,EAAvDA,WAAY4L,EAA2C,EAA3CA,YAAarO,EAA8B,EAA9BA,MAAOvF,EAAuB,EAAvBA,QAAS7H,EAAc,EAAdA,QAAc,EAChDuO,mBAAS,CACrCqF,MAAO,GACPnI,MAAO,GACPuE,SAAU,GACVtE,SAAU,GACV6J,YAAa,KAN+D,oBACzE9G,EADyE,KAC/DC,EAD+D,OAQ1CH,oBAAS,GARiC,oBAQzEmN,EARyE,KAQ5DC,EAR4D,OASxCpN,mBAAS,MAT+B,oBASzE+G,EATyE,KAS3D0F,EAT2D,KAYhFrM,qBAAU,aACA3O,EAAQ6P,aAAetE,GAAaA,GAAW6B,EAAME,OAAO3L,KAAO4J,EAAQC,IAAIuK,aACjFlG,EAAWzC,EAAME,OAAO3L,IAE5B+M,GAAY,iBAAO,CACfkF,MAAO5T,EAAQ6P,aAAetE,EAAU,GAAKA,EAAQqI,MACrDnI,MAAOzL,EAAQ6P,aAAetE,EAAU,GAAKA,EAAQE,MACrDuE,SAAUhQ,EAAQ6P,aAAetE,EAAU,GAAKA,EAAQyE,SACxDtE,SAAU1L,EAAQ6P,aAAetE,EAAU,GAAKA,EAAQG,SACxD6J,YAAavV,EAAQ6P,aAAetE,EAAU,GAAKA,EAAQgK,gBAE/DyF,EACIhb,EAAQ6P,aAAetE,EACjB,GACAvD,EAAeuD,EAAQ+J,aAAa/S,SAE/C,CAACsN,EAAYnB,EAAa1O,EAAQ6P,WAAYzC,EAAME,OAAO3L,GAAI4J,IA5Bc,IA+B5EqI,EAKAnF,EALAmF,MACAnI,EAIAgD,EAJAhD,MACAuE,EAGAvB,EAHAuB,SACAtE,EAEA+C,EAFA/C,SACA6J,EACA9G,EADA8G,YAGE1H,EAAW,SAAC/B,GACdA,EAAE+C,iBACF/C,EAAEgD,UACFJ,GAAY,iCACLD,EADK,gBAEP3C,EAAEiD,OAAO9L,KAAO6I,EAAEiD,OAAOnB,YAyBlC,OAAI5N,EAAQ6P,WAAmB,kBAAC9G,EAAD,MAG3B,kBAAC,WAAD,KACI,kBAAC,GAAD,MACA,yBAAK1F,UAAWC,KAAO4X,MACnB,yBAAK7X,UAAWC,KAAO6X,mBACjB7F,GAAgBoG,IACd,kBAACP,GAAD,CACIjF,QAAS,IACT4D,SAAU,SAACZ,GAAD,OA/BjB,SAACA,GACd8B,EAAgB9B,GAChByC,GAAe,GA6BmC7B,CAASZ,IACvCc,aAAc1E,KAI1B,0BAAMjS,UAAWC,KAAO8X,SAAUpM,SAAU,SAAAlD,GAAC,OA/BxC,SAACA,GACdA,EAAE+C,iBACF,IAAMwM,EAAc,IAAIC,SAOxB,GANAD,EAAYE,OAAO,QAAS3H,GAC5ByH,EAAYE,OAAO,QAAS9P,GAC5B4P,EAAYE,OAAO,WAAYvL,GAC/BqL,EAAYE,OAAO,WAAY7P,GAC/B2P,EAAYE,OAAO,cAAehG,IAE7BD,EAAc,OAAO1P,MAAM,oBAChC8V,GAAeL,EAAYE,OAAO,eAAgBjG,GAElDmG,EAAYrO,EAAME,OAAO3L,GAAI0Z,GAC7BxT,EAAQH,KAAK,aAkB4CsH,CAASlD,KACtD,0CACA,kBAAC,GAAD,CACIhK,KAAK,OACLoD,YAAY,kCACZjC,KAAK,QACL2K,MAAOgG,EACP/F,SAAU,SAAA/B,GAAC,OAAI+B,EAAS/B,IACxBgC,UAAQ,IAGZ,wCACA,kBAAC,GAAD,CACIhM,KAAK,SACLoD,YAAY,eACZjC,KAAK,QACL2K,MAAOnC,EACPoC,SAAU,SAAA/B,GAAC,OAAI+B,EAAS/B,IACxBgC,UAAQ,IAGZ,2CACA,kBAAC,GAAD,CACIhM,KAAK,SACLmB,KAAK,WACL2K,MAAOoC,EACPnC,SAAU,SAAA/B,GAAO+B,EAAS/B,KAC1B,4BAAQ8B,MAAM,QAAd,QACA,4BAAQA,MAAM,YAAd,YACA,4BAAQA,MAAM,eAAd,eACA,4BAAQA,MAAM,UAAd,UACA,4BAAQA,MAAM,SAAd,SACA,4BAAQA,MAAM,OAAd,OACA,4BAAQA,MAAM,SAAd,UAGJ,+CACA,kBAAC,GAAD,CACI9L,KAAK,OACLoD,YAAY,eACZjC,KAAK,WACL2K,MAAOlC,EACPmC,SAAU,SAAA/B,GAAC,OAAI+B,EAAS/B,IACxBgC,UAAQ,IAGZ,8CACA,kBAAC,GAAD,CACIhM,KAAK,WACLoD,YAAY,mBACZjC,KAAK,cACL2K,MAAO2H,EACP1H,SAAU,SAAA/B,GAAC,OAAI+B,EAAS/B,IACxBgC,UAAQ,IAEZ,kBAAC,GAAD,CAAQzK,UAAWC,KAAOkY,IAAKrT,QAAQ,yBAAvC,uB,oBC7IPyT,GAAa,SAAC/H,GAAD,OAAY,SAAMtS,GAAN,eAAAY,EAAAC,OAAA,uDAClCb,EAAS,CACLO,K7C6HyB,sB6C/HK,oBAAAK,EAAA,MAMZ7B,EAAM+B,IAAN,oBAAuBwR,KANX,OAMxBvR,EANwB,OAQ9Bf,EAAS,CACLO,K7CuHuB,sB6CtHvBC,QAASO,EAAIC,OAVa,gDAa9BhB,EAASJ,EAAS,KAAIL,SAASyB,KAAKnB,QAAS,WAC7CG,EAAS,CACLO,K7CkHoB,qB6CjIM,0D,8BCqCvB8F,gBAxCF,SAAC,GAAqB,IAE3BG,EAFQJ,EAAkB,EAAlBA,KAAMyF,EAAY,EAAZA,MASlB,OANIzF,IACAI,EAAYJ,EAAKG,OACXE,EAAeL,EAAKG,OAAOvF,MAC3ByF,EAAe,OAIrB,kBAAC,WAAD,KAEI,yBACIX,IAAKU,EACLT,IAAI,UACJjE,UAAWC,KAAOuY,eACtB,4BAAKlU,EAAK1E,MACV,yBAAKI,UAAWC,KAAOwY,OACnB,kBAAC,IAAD,CAAM1b,GAAE,oBAAegN,EAAME,OAAO3L,KAChC,kBAAC,KAAD,CACIyE,KAAM,UAGbuB,EAAKoU,UACF,uBAAGhN,OAAO,SAAS5I,MAAO,CAAEiO,WAAY,QAAU4H,KAAMrU,EAAKoU,UACzD,kBAAC,IAAD,CACI3V,KAAM,OACNC,MAAO,kB,qBCmBpB3G,gBANS,SAAAC,GAAK,MAAK,CAC9BoN,SAAUpN,EAAMsc,QAAQlP,SAASA,SACjCnD,QAASjK,EAAMsc,QAAQlP,SAASnD,QAChC5J,QAASL,EAAMsc,QAAQjc,QAAQ+M,YAGK,CAAEmP,mBFvBR,SAACrI,GAAD,IAAS/G,EAAT,uDAAgB,EAAG6E,EAAnB,uDAA2B,GAA3B,OAAkC,SAAMpQ,GAAN,iBAAAY,EAAAC,OAAA,uDAChEb,EAAS,CACLO,K7C4GkC,+B6C9G0B,oBAAAK,EAAA,MAM1C7B,EAAM+B,IAAN,iCAAoCwR,EAApC,iBAAmD/G,EAAnD,kBAAiE6E,KANvB,OAMtDrP,EANsD,OAOtDsH,EAAUtH,EAAIC,KAAKiD,SAAWmM,EAEpCpQ,EAAS,CACLO,K7CqGgC,+B6CpGhCC,QAAS,CAAEgL,SAAUzK,EAAIC,KAAMqH,aAXyB,gDAc5DrI,EAASJ,EAAS,KAAIL,SAASyB,KAAKnB,QAAS,WAC7CG,EAAS,CACLO,K7CgG6B,8B6ChH2B,2DEuBrDpC,CAAiDkI,aAxC/C,SAAC,GAA+D,IAA7DwF,EAA4D,EAA5DA,MAAOL,EAAqD,EAArDA,SAAUnD,EAA2C,EAA3CA,QAAS5J,EAAkC,EAAlCA,QAASkc,EAAyB,EAAzBA,mBAC7C/Q,EAAWnL,EACX,kBAAM,MACN,kBAAMkc,EAAmB9O,EAAME,OAAO3L,GAAIoL,EAASvH,SAErDkI,EAAc,KAMlB,OALK1N,GAA+B,IAApB+M,EAASvH,SAAckI,EAAc,mDACjDX,EAASvH,OAAS,IAClBkI,EAAcX,EAASpH,KAAI,SAAC4F,GAAD,OAAa,kBAAC,GAAD,CAAS1F,IAAK0F,EAAQC,IAAKD,QAASA,QAI5E,yBAAKpF,MAAO,CAAEG,MAAO,SACjB,kBAAC,KAAD,CACI2E,UAAW,EACXC,UAAW,IACXC,SAAUA,EACVvB,QAASA,EACTwB,OAAQ,kBAACrC,EAAD,CAASlD,IAAK,MAAOO,KAAM,GAAID,MAAO,CAAEkF,UAAW,WAE3D,yBAAKhI,UAAWC,KAAO6F,OAClBuE,SCwBNhO,gBALS,SAAAC,GAAK,MAAK,CAC9BgI,KAAMhI,EAAMsc,QAAQtU,KACpB3H,QAASL,EAAMsc,QAAQjc,QAAQ2H,QAGK,CAAEiU,eAA3Blc,EA/CC,SAAC,GAQV,IAPHmI,EAOE,EAPFA,QACAuF,EAME,EANFA,MAEAzF,EAIE,EAJFA,KACA3H,EAGE,EAHFA,QAEA4b,EACE,EADFA,WAEAjN,qBAAU,WACDhH,GAAQA,EAAK6D,IAAIuK,aAAe3I,EAAME,OAAO3L,IAC9Cia,EAAWxO,EAAME,OAAO3L,MAE7B,CAACia,EAAYjU,EAAMyF,EAAME,OAAO3L,KAEnC,IAAIwa,EAAU,6CAWd,OAVInc,IAASmc,EAAU,kBAACpT,EAAD,CAAS5C,MAAO,CAAEkF,UAAW,YAC/CrL,GAAW2H,IACZwU,EACI,kBAAC,WAAD,KACI,kBAAC,GAAD,CAAMxU,KAAMA,IACZ,yBAAKtE,UAAWC,KAAO2F,KACvB,kBAAC,GAAD,QAKR,kBAAC,WAAD,KACI,kBAAC,GAAD,CAAQsJ,OAAQ,kBAAM1K,EAAQ0K,YAC9B,yBAAKlP,UAAWC,KAAO8Y,SAClBD,O,8DCxCjBE,KAAOC,aAAa,KAAM,CACtBC,aAAc,CACVC,OAAQ,QACRC,KAAM,MACNC,EAAG,MACHC,EAAG,MACHC,GAAI,MACJC,EAAG,MACHC,GAAI,MACJC,EAAG,MACHC,GAAI,MACJC,EAAG,QACHC,GAAI,SACJtE,EAAG,MACHuE,GAAI,UAIZ,IAIeC,GAJH,SAACC,GACT,OAAOhB,KAAOgB,GAAMC,W,oBCWTC,GAxBM,SAAC,GAOf,IAAD,IANFtZ,aACIuZ,EAKF,EALEA,QACAC,EAIF,EAJEA,UACAlS,EAGF,EAHEA,QACAmS,EAEF,EAFEA,UAGA3V,EAAYyV,EAAQ1V,OAClBE,EAAewV,EAAQ1V,OAAOvF,MAC9ByF,EAAe,MACrB,OACI,kBAAC,IAAD,CAAM3E,UAAW+E,KAAQ7E,KAAMnD,GAAE,oBAAemL,IAC5C,yBAAKlI,UAAW+E,KAAQmV,cACpB,yBAAKla,UAAW+E,KAAQ4D,MAAO3E,IAAKU,EAAWT,IAAI,oBACnD,yBAAKjE,UAAW+E,KAAQuV,gBACpB,uBAAGta,UAAW+E,KAAQwM,MAAOgJ,KAAMH,IACnC,uBAAGpa,UAAW+E,KAAQyV,MAAtB,UAAgCT,GAAIM,GAApC,aC4CLhe,gBALS,SAAAC,GAAK,MAAK,CAC9BsE,aAActE,EAAMsE,aACpBrE,KAAMD,EAAMC,QAGwB,CAAEke,iBjDtCV,eAAChR,EAAD,uDAAQ,EAAG6E,EAAX,uDAAmB,GAAnB,OAA0B,SAAMpQ,GAAN,iBAAAY,EAAAC,OAAA,uDACtDb,EAAS,CACLO,KFmH+B,4BErHmB,oBAAAK,EAAA,MAMhC7B,EAAM+B,IAAN,kCAAqCyK,EAArC,kBAAmD6E,KANnB,OAM5CrP,EAN4C,OAO5CsH,IAAUtH,EAAIC,KAAKwb,cAAcvY,OAASmM,GAEhDpQ,EAAS,CACLO,KF4G6B,4BE3G7BC,QAAS,CACLgc,cAAezb,EAAIC,KAAKwb,cACxBC,kBAAmB1b,EAAIC,KAAKyb,kBAC5BpU,aAd0C,gDAkBlDrI,EAASJ,EAAS,KAAIL,SAASyB,KAAKnB,QAAS,WAC7CG,EAAS,CACLO,KFmG0B,2BEvHoB,0DiDsCEgB,sBAA7CpD,EA3DT,SAAC,GAWG,EAVFmI,QAUE,EATFuF,MASG,IAECjE,EAVJvJ,EAQE,EARFA,KAQE,IAPFqE,aACI8Z,EAMF,EANEA,cACAnU,EAKF,EALEA,QACA5J,EAIF,EAJEA,QAEJ8d,EAEE,EAFFA,iBACAhb,EACE,EADFA,mBAIAqG,EAAQ4U,EAAcpY,KAAI,SAAC1B,GACvB,OACI,kBAAC,GAAD,CACI4B,IAAK5B,EAAauH,IAClBvH,aAAcA,OAK1B,IAAMga,EAAQ,uBAAG9X,MAAO,CAAEK,OAAQ,SAApB,uBAEV2E,EAAW,kBAAM,MACjBsC,EAAU,kBAAM,MAMpB,OALI7N,EAAKG,kBAAoBC,IACzBmL,EAAW,kBAAM2S,EAAiBC,EAAcvY,SAChDiI,EAAU,kBAAM3K,MAIhB,6BACI,kBAAC,GAAD,CACI4G,cAAe+D,EACf9D,aAAcwB,EACdvB,QAASA,GAET,wBAAIvG,UAAWC,KAAOya,eAChBnU,GAA4B,IAAjBT,EAAM3D,OAAuB2D,EAAR8U,Q,yCCR3C7c,GAlCC,SAAC,GASV,IARH8c,EAQE,EARFA,UACAjb,EAOE,EAPFA,KACAya,EAME,EANFA,UACA/a,EAKE,EALFA,KACAwb,EAIE,EAJFA,cACAC,EAGE,EAHFA,YACAtW,EAEE,EAFFA,OAEE,IADFuW,YACE,SACEtW,EACEC,EADUF,EACKA,EAAOvF,KACP,MACrB,OACI,kBAAC,IAAD,CAAMc,UAAW+E,KAAQ7E,KAAMnD,GAAE,iBAAYge,EAAZ,YAA2BF,IACxD,yBAAK7a,UAAW+E,KAAQkW,SACpB,yBAAKjb,UAAW+E,KAAQ4D,MAAO3E,IAAKU,EAAWT,IAAI,oBACnD,uBAAGjE,UAAW+E,KAAQmW,MAClB,0BAAMpY,MAAO,CAAE8N,WAAY,WACtBkK,EACK,QACA,OAGTlb,GAEL,uBAAGI,UAAW+E,KAAQyV,MAAtB,UAAgCT,GAAIM,GAApC,SACA,uBAAGra,UAAW+E,KAAQwM,MAAOrI,GAAa5J,EAAM,MAC9C0b,GAAQ,0BAAMhb,UAAW+E,KAAQoW,YCoFpC9e,gBALS,SAAAC,GAAK,MAAK,CAC9ByB,QAASzB,EAAMyB,QACfxB,KAAMD,EAAMC,QAGwB,CAAE6e,sBpDtFL,kBAAM,SAAMld,GAAN,SAAAY,EAAAC,OAAA,gDACvCb,EAAS,CACLO,KD4D+B,4BC1DnCP,EAASW,KAJ8B,uCoDsFsBwc,kBpDhFhC,kBAAM,SAAMnd,GAAN,SAAAY,EAAAC,OAAA,gDACnCb,EAAS,CACLO,KDuD2B,wBCzDI,uCoDgF6C6c,YpD1EzD,eAAC7R,EAAD,uDAAQ,EAAG6E,EAAX,uDAAmB,GAAnB,OAA0B,SAAMpQ,GAAN,iBAAAY,EAAAC,OAAA,uDACjDb,EAAS,CACLO,KDmD0B,uBCrDmB,oBAAAK,EAAA,MAM3B7B,EAAM+B,IAAN,sCAAyCyK,EAAzC,kBAAuD6E,KAN5B,OAMvCrP,EANuC,OAOvCsH,IAAUtH,EAAIC,KAAKiD,OAASmM,GAElCpQ,EAAS,CACLO,KD4CwB,uBC3CxBC,QAAS,CAAE6c,SAAUtc,EAAIC,KAAMqH,aAXU,gDAc7CrI,EAASJ,EAAS,KAAIL,SAASyB,KAAKnB,QAAS,WAC7CG,EAAS,CACLO,KDuCqB,sBCvDoB,0DoD0E4C+c,QpDrD1E,eAAC/R,EAAD,uDAAQ,EAAG6E,EAAX,uDAAmB,GAAnB,OAA0B,SAAMpQ,GAAN,iBAAAY,EAAAC,OAAA,uDAC7Cb,EAAS,CACLO,KDkCsB,mBCpCmB,oBAAAK,EAAA,MAMvB7B,EAAM+B,IAAN,kCAAqCyK,EAArC,kBAAmD6E,KAN5B,OAMnCrP,EANmC,OAOnCsH,IAAUtH,EAAIC,KAAKiD,OAASmM,GAElCpQ,EAAS,CACLO,KD2BoB,mBC1BpBC,QAAS,CAAE6c,SAAUtc,EAAIC,KAAMqH,aAXM,gDAczCrI,EAASJ,EAAS,KAAIL,SAASyB,KAAKnB,QAAS,WAC7CG,EAAS,CACLO,KDsBiB,kBCtCoB,2DoDqDlCpC,EA7GT,SAAC,GAYI,IAgBCyJ,EA3BJtB,EAWE,EAXFA,QACAuF,EAUE,EAVFA,MACAxN,EASE,EATFA,KASE,IARFwB,QACI0d,EAOF,EAPEA,SACAC,EAMF,EANEA,KAEJN,EAIE,EAJFA,sBACAC,EAGE,EAHFA,kBACAC,EAEE,EAFFA,YACAE,EACE,EADFA,QAEMV,EAAwC,aAAxB/Q,EAAME,OAAOD,OAE7BjE,EAAU,CACZ,CACIzG,KAAM,WACNc,OAAQ0a,EACR5U,eAAgB,kBAAO4U,GAAiBtW,EAAQH,KAAK,qBAEzD,CACI/E,KAAM,OACNc,QAAS0a,EACT5U,eAAgB,kBAAM4U,GAAiBtW,EAAQH,KAAK,kBAMxDyB,EADAgV,EACQW,EAASF,SAASjZ,KAAI,SAAC3D,GAC3B,OACI,kBAAC,GAAD,CACI6D,IAAK7D,EAAIwJ,IACTvI,KAAMjB,EAAIgd,WACVd,UAAWlc,EAAIwJ,IACf7I,KAAMX,EAAIW,KACV+a,UAAW1b,EAAI0b,UACf5V,OAAQ9F,EAAIid,OAAOnX,OACnBsW,YAAY,WACZD,cAAeA,EACfE,KAAMrc,EAAIqc,UAKdU,EAAKH,SAASjZ,KAAI,SAAC3D,GACvB,OACI,kBAAC,GAAD,CACI6D,IAAK7D,EAAIwJ,IACTvI,KAAMjB,EAAIkd,cACVhB,UAAWlc,EAAIwJ,IACf7I,KAAMX,EAAIW,KACVmF,OAAQ9F,EAAImd,UAAUrX,OACtB4V,UAAW1b,EAAI0b,UACfU,YAAY,OACZD,cAAeA,OAM/B,IAAMF,EAAQ,uBAAG9X,MAAO,CAAEK,OAAQ,SAApB,2BAEV4Y,EAAc,kBAAM,MACpBC,EAAkB,kBAAM,MACxBzf,EAAKG,iBAAmBoe,IAAkBW,EAAS9e,UACnDof,EAAc,kBAAMT,EAAYG,EAASF,SAASpZ,SAClD6Z,EAAkB,kBAAMZ,OAExB7e,EAAKG,iBAAoBoe,GAAkBY,EAAK/e,UAChDof,EAAc,kBAAMP,EAAQE,EAAKH,SAASpZ,SAC1C6Z,EAAkB,kBAAMX,MAG5B,IAAM9U,EAAUuU,EAAgBW,EAASlV,QAAUmV,EAAKnV,QAExD,OACI,6BACI,kBAAC,GAAD,CACIT,MAAOC,IAEX,kBAAC,GAAD,CACIM,cAAe2V,EACf1V,aAAcyV,EACdxV,QAASA,GAET,wBAAIvG,UAAWC,KAAOsb,UAChBhV,GAA4B,IAAjBT,EAAM3D,OAAuB2D,EAAR8U,Q,qBC7E3C5L,GAjBA,SAAC,GAET,IADHiN,EACE,EADFA,aAEA,OACI,kBAAC,GAAD,KACKA,GACG,kBAAC,GAAD,CACIrc,KAAMqc,EAAarc,KACnB6E,OAAQwX,EAAaxX,OACrB+L,OAAQyL,EAAa9T,IACrB+T,YAAU,a,oBCgBfjB,GAzBC,SAAC,GAA6C,IAA3Cld,EAA0C,EAA1CA,QAASke,EAAiC,EAAjCA,aAElBE,EAFmD,EAAnBC,aAGhC,OACA,KAGN,OACI,yBAAKpc,UAAWC,KAAOgb,SACnB,yBAAKjb,UAAWC,KAAOgb,SACnB,wCAAckB,EAAd,IAAyBF,EAAarc,MACtC,yBAAKI,UAAWC,KAAOoc,gBACnB,kBAAC,GAAD,KAAYte,EAAQuB,UCoBzBgd,GA/BG,SAACxf,GAAW,IAAD,EACKoO,mBAAS,IADd,oBAClBnN,EADkB,KACTwe,EADS,KAQzB,OACI,0BAAM5Q,SAAU,SAAClD,GAAD,OANI,SAACA,GACrBA,EAAE+C,iBACF1O,EAAM0Q,gBAAgBzP,GAICyP,CAAgB/E,KACnC,kBAAC,GAAD,CACIhK,KAAK,WACLoD,YAAY,wBACZ0I,MAAOxM,EACPyM,SAAU,SAAC/B,GAAD,OAAO8T,EAAW9T,EAAEiD,OAAOnB,QACrCE,UAAU,IAEd,kBAAC,GAAD,CACI3F,QAAQ,iBACVhI,EAAMH,QACF,kBAAC+I,EAAD,CAAS3C,KAAM,GAAID,MAAO,CAAEyJ,OAAQ,GAAKvJ,MAAM,UAC/C,WCuDH3G,gBALS,SAAAC,GAAK,MAAK,CAC9ByB,QAASzB,EAAMyB,QAAQA,QACvBpB,QAASL,EAAMyB,QAAQpB,WAGa,CAAE6f,WxDKhB,SAAC3B,GAAD,OAAe,SAAM3c,GAAN,eAAAY,EAAAC,OAAA,uDACrCb,EAAS,CACLO,KDiByB,oBChBzBC,QAASmc,IAHwB,oBAAA/b,EAAA,MAOf7B,EAAM+B,IAAN,wBAA2B6b,KAPZ,OAO3B5b,EAP2B,OASjCf,EAAS,CACLO,KDUuB,sBCTvBC,QAASO,EAAIC,OAXgB,gDAcjC3B,QAAQC,IAAR,MACAU,EAASJ,EAAS,KAAIL,SAASyB,KAAKnB,QAAS,WAC7CG,EAAS,CACLO,KDIoB,qBCrBS,0DwDLaW,eAAvC/C,EAxEI,SAAC,GAMb,IALH0N,EAKE,EALFA,MACAhM,EAIE,EAJFA,QACApB,EAGE,EAHFA,QACA6f,EAEE,EAFFA,WACApd,EACE,EADFA,YAEAkM,qBAAU,WACNkR,EAAWzS,EAAME,OAAO3L,MACzB,CAACke,EAAYzS,EAAME,OAAO3L,KAE7B,IAIM8d,EAA8B,wBAAfrS,EAAM0S,KAIvBR,EAAe,KACfle,IACIqe,GACAH,EAAele,EAAQ6d,QACVhc,KAAO7B,EAAQ4d,YAE5BM,EAAele,EAAQ+d,WACVlc,KAAO7B,EAAQ8d,eAIpC,IAAI/C,EAAU,wCAkBd,OAjBK/a,GAAWpB,EAAQ6f,aACpB1D,EAAU,kBAACpT,EAAD,CAAS5C,MAAO,CAAEkF,UAAW,WAEvCjK,IACA+a,EACI,kBAAC,WAAD,KACI,kBAAC,GAAD,CAAS/a,QAASA,EAASke,aAAcA,EAAcG,aAAcA,IACpEA,GACG,kBAAC,GAAD,CACI5O,gBA7BI,SAAClO,GACrBF,EAAYrB,EAAQ6d,OAAOzT,IAAK7I,IA6BhB3C,QAASA,EAAQyC,gBAQjC,6BACI,kBAAC,GAAD,CACI6c,aAAcA,IAElB,yBAAKjc,UAAWC,KAAOyc,gBAClB5D,OCRFzc,gBAJS,SAAAC,GAAK,MAAK,CAC9Bsc,QAAStc,EAAMsc,WAGqB,CAAExZ,cAAamZ,eAAxClc,EAhDK,SAAC,GAAiD,IAA/Cuc,EAA8C,EAA9CA,QAAS7O,EAAqC,EAArCA,MAAO3K,EAA8B,EAA9BA,YAAamZ,EAAiB,EAAjBA,WAAiB,EACnCrN,mBAAS,IAD0B,oBAC1DnN,EAD0D,KACjDwe,EADiD,KAGjEjR,qBAAU,WACDsN,EAAQtU,MAAQsU,EAAQtU,KAAK6D,IAAIuK,aAAe3I,EAAME,OAAO3L,IAC9Dia,EAAWxO,EAAME,OAAO3L,MAE7B,CAACsa,EAAQtU,KAAMyF,EAAME,OAAO3L,GAAIia,IAOnC,OACI,kBAAC,WAAD,KACI,kBAAC,GAAD,KACMK,EAAQtU,MAAQsU,EAAQtU,KAAK6D,IAAIuK,aAAe3I,EAAME,OAAO3L,IAC3D,kBAAC,GAAD,CACIsB,KAAMgZ,EAAQtU,KAAK1E,KACnB6E,OAAQmU,EAAQtU,KAAKG,OACrB+L,OAAQoI,EAAQtU,KAAK6D,IACrB+T,YAAU,YAItB,0BAAMvQ,SAjBU,SAAClD,GACrBA,EAAE+C,iBACFpM,EAAY2K,EAAME,OAAO3L,GAAIP,IAeQ+E,MAAO,CAAEkF,UAAW,WACjD,kBAAC,GAAD,CACIvJ,KAAK,WACLoD,YAAY,kBACZ0I,MAAOxM,EACPyM,SAAU,SAAC/B,GAAD,OAAO8T,EAAW9T,EAAEiD,OAAOnB,QACrCE,UAAU,IAEd,6C,qBCGDpO,gBAJS,SAAAC,GAAK,MAAK,CAC9BC,KAAMD,EAAMC,QAGwB,CAAEogB,axDwEd,SAAClY,GAAD,OAAY,SAAMvG,GAAN,mBAAAY,EAAAC,OAAA,uDAC9B2Y,EAAS,CACXva,QAAS,CACL,eAAgB,yBAIlBiO,EAAW,IAAI6M,UACZC,OAAO,SAAUzT,GARU,oBAAA3F,EAAA,MAWd7B,EAAM4S,IAAI,mBAAoBzE,EAAUsM,IAX1B,OAW1BzY,EAX0B,OAahCf,EAASJ,EAAS,yBAA0B,YAC5CI,EAAS,CACLO,KH9GyB,wBG+GzBC,QAASO,EAAIC,OAhBe,kDAmBhChB,EAASJ,EAAS,KAAIL,SAASyB,KAAKnB,QAAS,WAnBb,4DwDxEzB1B,EApCA,SAAC,GAA+B,IAA7BsgB,EAA4B,EAA5BA,aAAcnY,EAAc,EAAdA,QAAc,EACN0G,mBAAS,MADH,oBACnC0R,EADmC,KACvBC,EADuB,KAS1C,OACI,kBAAC,WAAD,KACI,kBAAC,GAAD,MACA,0BAAMlR,SAAU,SAAAlD,GAAC,OATR,SAACA,GACdA,EAAE+C,iBACFmR,EAAaC,GACbpY,EAAQH,KAAK,WAMYsH,CAASlD,IAAIzI,UAAWC,KAAOmM,MAChD,gDACA,2BACI3N,KAAK,OACL+L,SAAU,SAAA/B,GAAC,OAAIoU,GAAc,kBAAMpU,EAAEiD,OAAOkH,MAAM,OAClDnI,UAAQ,IAEZ,kBAAC,GAAD,CAAQ3F,QAAQ,yBAAhB,e,qBCqDDzI,gBAJS,SAAAC,GAAK,MAAK,CAC9BC,KAAMD,EAAMC,QAGwB,CAAEugB,czD2Db,SAACC,GAAD,OAAS,SAAM7e,GAAN,eAAAY,EAAAC,OAAA,2EAAAD,EAAA,MAEZ7B,EAAM4S,IAAI,oBAAqBkN,IAFnB,OAExB9d,EAFwB,OAI9Bf,EAASJ,EAAS,kBAAmB,YACrCI,EAAS,CACLO,KH3H0B,yBG4H1BC,QAASO,EAAIC,OAPa,gDAU9BhB,EAASJ,EAAS,KAAIL,SAASyB,KAAKnB,QAAS,WAVf,2DyD3DvB1B,EArEO,SAAC,GAAsC,IAApCE,EAAmC,EAAnCA,KAAMugB,EAA6B,EAA7BA,cAAetY,EAAc,EAAdA,QAAc,EACxB0G,mBAAS,CACrCtL,KAAM,GACN8Y,SAAU,KAH0C,oBACjDtN,EADiD,KACvCC,EADuC,KAaxD,GAPAC,qBAAU,WACND,GAAY,iBAAO,CACfzL,KAAMrD,EAAK+H,KAAO/H,EAAK+H,KAAK1E,KAAO,GACnC8Y,SAAUnc,EAAK+H,MAAQ/H,EAAK+H,KAAKoU,SAAWnc,EAAK+H,KAAKoU,SAAW,SAEtE,CAACnc,EAAK+H,KAAM+G,KAEV9O,EAAKG,gBAAiB,OAAO,kBAACgJ,EAAD,MAElC,IAAM8E,EAAW,SAAC/B,GACdA,EAAE+C,iBACF/C,EAAEgD,UACFJ,GAAY,iCACLD,EADK,gBAEP3C,EAAEiD,OAAO9L,KAAO6I,EAAEiD,OAAOnB,YAWlC,OACI,kBAAC,WAAD,KACI,kBAAC,GAAD,MACA,0BAAMoB,SAAU,SAAAlD,GAAC,OAVR,SAACA,GACdA,EAAE+C,iBACFsR,EAAc1R,GACd5G,EAAQH,KAAK,WAOYsH,CAASlD,IAAIzI,UAAWC,KAAOmM,MAChD,2CACA,kBAAC,GAAD,CACI3N,KAAK,OACLoD,YAAY,YACZjC,KAAK,OACL2K,MAAOa,EAASxL,KAChB4K,SAAU,SAAA/B,GAAC,OAAI+B,EAAS/B,IACxBgC,UAAQ,IAEZ,0DACA,kBAAC,GAAD,CACIhM,KAAK,WACLoD,YAAY,0BACZjC,KAAK,WACL2K,MAAOa,EAASsN,SAChBlO,SAAU,SAAA/B,GAAC,OAAI+B,EAAS/B,MAE5B,kBAAC,GAAD,CAAQ3D,QAAQ,yBAAhB,e,qBCkBDzI,gBAJS,SAAAC,GAAK,MAAK,CAC9BC,KAAMD,EAAMC,QAGwB,CAAEygB,Y1DwEf,SAACD,GAAD,OAAS,SAAM7e,GAAN,eAAAY,EAAAC,OAAA,2EAAAD,EAAA,MAEV7B,EAAM4S,IAAI,kBAAmBkN,IAFnB,OAEtB9d,EAFsB,OAI5Bf,EAASJ,EAAS,gBAAiB,YACnCI,EAAS,CACLO,KHxIwB,uBGyIxBC,QAASO,EAAIC,OAPW,gDAU5BhB,EAASJ,EAAS,KAAIL,SAASyB,KAAKnB,QAAS,WAVjB,2D0DxErB1B,EAtEO,SAAC,GAAoC,IAAlCE,EAAiC,EAAjCA,KAAMygB,EAA2B,EAA3BA,YAAaxY,EAAc,EAAdA,QAAc,EACtB0G,mBAAS,CACrCN,MAAO,GACPC,SAAU,KAHwC,oBAC/CO,EAD+C,KACrCC,EADqC,KAatD,GAPAC,qBAAU,WACND,GAAY,SAACE,GAAD,sBACLA,EADK,CAERX,MAAOrO,EAAK+H,KAAO/H,EAAK+H,KAAKsG,MAAQ,UAE1C,CAACrO,EAAK+H,KAAM+G,KAEV9O,EAAKG,gBAAiB,OAAO,kBAACgJ,EAAD,MAElC,IAAM8E,EAAW,SAAC/B,GACdA,EAAE+C,iBACF/C,EAAEgD,UACFJ,GAAY,iCACLD,EADK,gBAEP3C,EAAEiD,OAAO9L,KAAO6I,EAAEiD,OAAOnB,YAWlC,OACI,kBAAC,WAAD,KACI,kBAAC,GAAD,MACA,0BAAMoB,SAAU,SAAAlD,GAAC,OAVR,SAACA,GACdA,EAAE+C,iBACFwR,EAAY5R,GACZ5G,EAAQH,KAAK,WAOYsH,CAASlD,IAAIzI,UAAWC,KAAOmM,MAChD,wCACA,kBAAC,GAAD,CACI3N,KAAK,QACLoD,YAAY,aACZjC,KAAK,QACL2K,MAAOa,EAASR,MAChBJ,SAAU,SAAA/B,GAAC,OAAI+B,EAAS/B,IACxBgC,UAAQ,IAEZ,mDACA,kBAAC,GAAD,CACIhM,KAAK,WACLoD,YAAY,mBACZjC,KAAK,WACL2K,MAAOa,EAASP,SAChBL,SAAU,SAAA/B,GAAC,OAAI+B,EAAS/B,IACxBgC,UAAQ,IAEZ,kBAAC,GAAD,CAAQ3F,QAAQ,yBAAhB,e,qBCkCDzI,gBAJS,SAAAC,GAAK,MAAK,CAC9BC,KAAMD,EAAMC,QAGwB,CAAEuB,YAA3BzB,EAtFO,SAAC,GAAiC,IAA/BE,EAA8B,EAA9BA,KAAMuB,EAAwB,EAAxBA,SAAU0G,EAAc,EAAdA,QAAc,EACnB0G,mBAAS,CACrC+R,YAAa,GACbC,YAAa,GACbC,gBAAiB,KAJ8B,oBAC5C/R,EAD4C,KAClCC,EADkC,KAM3C4R,EAA8C7R,EAA9C6R,YAAaC,EAAiC9R,EAAjC8R,YAAaC,EAAoB/R,EAApB+R,gBAElC,IAAK5gB,EAAKG,gBAAiB,OAAO,kBAACgJ,EAAD,MAElC,IAAM8E,EAAW,SAAC/B,GACdA,EAAE+C,iBACF/C,EAAEgD,UACFJ,GAAY,iCACLD,EADK,gBAEP3C,EAAEiD,OAAO9L,KAAO6I,EAAEiD,OAAOnB,YAsBlC,OACI,kBAAC,WAAD,KACI,kBAAC,GAAD,MACA,0BAAMoB,SAAU,SAAAlD,GAAC,OArBR,SAAOA,GAAP,SAAA3J,EAAAC,OAAA,mDACb0J,EAAE+C,iBACE0R,IAAgBC,EAFP,yCAGFrf,EAAS,iDAHP,kCAAAgB,EAAA,MAMH7B,EAAM4S,IAAI,qBAAsB,CAAEoN,cAAaC,iBAN5C,OAOTpf,EAAS,mBAAoB,WAC7B0G,EAAQH,KAAK,WARJ,kDAUTvG,EAAS,KAAIL,SAASyB,KAAKnB,QAAS,UAV3B,yDAqBY4N,CAASlD,IAAIzI,UAAWC,KAAOmM,MAEhD,mDACA,kBAAC,GAAD,CACI3N,KAAK,WACLoD,YAAY,mBACZjC,KAAK,cACL2K,MAAO0S,EACPzS,SAAU,SAAA/B,GAAC,OAAI+B,EAAS/B,IACxBgC,UAAQ,IAEZ,+CACA,kBAAC,GAAD,CACIhM,KAAK,WACLoD,YAAY,eACZjC,KAAK,cACL2K,MAAO2S,EACP1S,SAAU,SAAA/B,GAAC,OAAI+B,EAAS/B,IACxBgC,UAAQ,IAEZ,uDACA,kBAAC,GAAD,CACIhM,KAAK,WACLoD,YAAY,uBACZjC,KAAK,kBACL2K,MAAO4S,EACP3S,SAAU,SAAA/B,GAAC,OAAI+B,EAAS/B,IACxBgC,UAAQ,IAEZ,kBAAC,GAAD,CAAQ3F,QAAQ,yBAAhB,eCvDVsY,G,4LAEF1G,KAAK5Z,MAAM4C,a,+BAQX,OACE,kBAAC,IAAD,KACE,kBAAC2d,EAAD,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOZ,KAAK,gBAAgBhgB,UAAW6gB,KACvC,kBAAC,IAAD,CAAOb,KAAK,YAAYc,OAAK,EAAC9gB,UAAWiS,KACzC,kBAAC,EAAD,CAAc+N,KAAK,kBAAkBhgB,UAAWsE,KAChD,kBAAC,EAAD,CAAc0b,KAAK,QAAQc,OAAK,EAAC9gB,UAAWob,KAC5C,kBAAC,EAAD,CAAc4E,KAAK,YAAYc,OAAK,EAAC9gB,UAAW+gB,KAChD,kBAAC,EAAD,CAAcf,KAAK,UAAUc,OAAK,EAAC9gB,UAAWghB,KAC9C,kBAAC,EAAD,CAAchB,KAAK,wBAAwBc,OAAK,EAAC9gB,UAAWihB,KAC5D,kBAAC,EAAD,CAAcjB,KAAK,yBAAyBc,OAAK,EAAC9gB,UAAWkhB,KAC7D,kBAAC,EAAD,CAAclB,KAAK,uBAAuBc,OAAK,EAAC9gB,UAAWmhB,KAC3D,kBAAC,EAAD,CAAcnB,KAAK,0BAA0Bc,OAAK,EAAC9gB,UAAWohB,KAC9D,kBAAC,EAAD,CAAcpB,KAAK,gBAAgBc,OAAK,EAAC9gB,UAAWqhB,KACpD,kBAAC,EAAD,CAAcrB,KAAK,sBAAsBhgB,UAAWshB,KACpD,kBAAC,EAAD,CAActB,KAAK,kBAAkBhgB,UAAWshB,KAChD,kBAAC,EAAD,CAActB,KAAK,iBAAiBhgB,UAAWuhB,KAC/C,kBAAC,EAAD,CAAcvB,KAAK,gBAAgBhgB,UAAWwhB,KAC9C,kBAAC,IAAD,CAAOxB,KAAK,eAAehgB,UAAWsc,KACtC,kBAAC,IAAD,CAAO0D,KAAK,QAAQhgB,UAAW6P,KAC/B,kBAAC,IAAD,CAAU4R,KAAK,IAAIX,OAAK,EAACxgB,GAAG,cAC5B,kBAAC,IAAD,CAAON,UA1BM,kBACnB,4C,GAPYD,aAkDHH,gBAVS,SAACC,GACvB,MAAO,CACLC,KAAMD,EAAMC,QAQwB,CAAEmD,YAA3BrD,CAAuC+gB,IClElCe,QACW,cAA7Bta,OAAOua,SAASC,UAEe,UAA7Bxa,OAAOua,SAASC,UAEhBxa,OAAOua,SAASC,SAAStU,MACvB,2D,uBCUAuU,GAA0B,CAC5B3gB,MAAOgC,aAAahC,MACpBjB,iBAAiB,EACjBC,SAAS,EACT2H,KAAM,MAiEKia,GA/DK,WAAyD,IAAxDjiB,EAAuD,uDAA/CgiB,GAA+C,yCAApB7f,EAAoB,EAApBA,KAAMC,EAAc,EAAdA,QAC1D,OAAQD,GACJ,IjE1BsB,iBiE2BtB,IjEtBmB,ciEuBnB,IjEjCuB,kBiEkCnB,OAAO,eACAnC,EADP,CAEIK,SAAS,IAEjB,IjErCyB,oBiEsCrB,OAAO,eACAL,EADP,CAEII,iBAAiB,EACjBC,SAAS,EACT2H,KAAK,eAAM5F,KAEnB,IjEvCwB,mBiEwCxB,IjEnCqB,gBiEqCjB,OADAiB,aAAa6e,QAAQ,QAAS9f,EAAQf,OAC/B,eACArB,EADP,GAEOoC,EAFP,CAGIhC,iBAAiB,EACjBC,SAAS,IAEjB,IjEpC6B,wBiEqCzB,OAAO,eACAL,EADP,CAEIgI,KAAK,eACEhI,EAAMgI,KADT,CAEAG,OAAQ/F,EAAQ+F,WAG5B,IjE3C8B,yBiE4C1B,OAAO,eACAnI,EADP,CAEIgI,KAAM5F,IAEd,IjE/C4B,uBiEgDxB,OAAO,eACApC,EADP,CAEIgI,KAAK,eACEhI,EAAMgI,KADT,CAEAsG,MAAOlM,MAGnB,IjEpEqB,gBiEqErB,IjEhEkB,aiEiElB,IjE3EsB,iBiE4EtB,IjE/Dc,SiEkEV,OAFAiB,aAAa8e,WAAW,SACxBxhB,EAAMS,aAAa,MACZ,CACHC,MAAO,KACPjB,iBAAiB,EACjBC,SAAS,EACT2H,KAAM,MAEd,QACI,OAAOhI,I,SC1FboiB,GAA2B,GAkBlBH,GAbK,WAA+C,IAA9CjiB,EAA6C,uDAArCoiB,GAA0BC,EAAW,uCACtDlgB,EAAkBkgB,EAAlBlgB,KAAMC,EAAYigB,EAAZjgB,QAEd,OAAQD,GACJ,IlEmBiB,YkElBb,MAAM,GAAN,oBAAWnC,GAAX,CAAkBoC,IACtB,IlEkBoB,ekEjBhB,OAAOpC,EAAMsiB,QAAO,SAAArc,GAAK,OAAIA,EAAMjE,KAAOI,KAC9C,QACI,OAAOpC,ICoBbuiB,GAAe,CACjBnV,SAAU,GACVnD,SAAS,EACT2B,QAAS,KACTvL,QAAS,CACLib,YAAY,EACZpL,YAAY,EACZ6B,aAAa,EACbqB,eAAe,EACf8B,UAAU,EACV/B,OAAO,EACPkD,UAAU,GAEdvJ,OAAQ,CACJD,MAAO,CACH5C,SAAS,EACTmD,SAAU,IAEdL,UAAW,CACP9C,SAAS,EACTmD,SAAU,IAEdJ,SAAU,CACN/C,SAAS,EACTmD,SAAU,MC1ChBmV,GAAe,CACjBpD,SAAU,CACNF,SAAU,GACVhV,SAAS,EACT5J,SAAS,GAEb+e,KAAM,CACFH,SAAU,GACVhV,SAAS,EACT5J,SAAS,GAEboB,QAAS,KACTpB,QAAS,CACL6f,YAAY,EACZpd,aAAa,GAEjBD,MAAO,MCzBL2f,GAA6B,CAC/Bxa,KAAM,KACN3H,QAAS,CACL2H,MAAM,EACNoF,UAAU,GAEdA,SAAU,CACNA,SAAU,GACVnD,SAAS,IAuEFwY,GAnEQ,WAA4D,IAA3DziB,EAA0D,uDAAlDwiB,GAAkD,yCAApBrgB,EAAoB,EAApBA,KAAMC,EAAc,EAAdA,QAChE,OAAQD,GAIJ,IrE+GyB,oBqE9GrB,OAAO,eACAnC,EADP,CAEIoN,SAAS,eACFoV,GAA2BpV,UAElC/M,QAAQ,eACDL,EAAMK,QADN,CAEH2H,MAAM,MAGlB,IrEqG2B,sBqEpGvB,OAAO,eACAhI,EADP,CAEIgI,KAAM5F,EACN/B,QAAQ,eACDL,EAAMK,QADN,CAEH2H,MAAM,MAGlB,IrE6FwB,mBqE5FpB,OAAOwa,GAIX,IrEyFkC,6BqExF9B,OAAO,eACAxiB,EADP,CAEIK,QAAQ,eACDL,EAAMK,QADN,CAEH+M,UAAU,MAGtB,IrEkFoC,+BqEjFhC,OAAO,eACApN,EADP,CAEIoN,SAAU,CACNA,SAAS,GAAD,oBAAMpN,EAAMoN,SAASA,UAArB,aAAkChL,EAAQgL,WAClDnD,QAAS7H,EAAQ6H,SAErB5J,QAAQ,eACDL,EAAMK,QADN,CAEH+M,UAAU,MAGtB,IrEuEiC,4BqEtE7B,OAAO,eACApN,EADP,CAEIoN,SAAU,CACNA,SAAU,GACVnD,SAAS,GAEb5J,QAAQ,eACDL,EAAMK,QADN,CAEH+M,UAAU,MAGtB,QACI,OAAOpN,ICtEbuiB,GAAe,CACjB1V,MAAO,CACHO,SAAU,GACVnD,SAAS,EACT5J,SAAS,GAEb0M,UAAW,CACPK,SAAU,GACVnD,SAAS,EACT5J,SAAS,GAEb2M,SAAU,CACNI,SAAU,GACVnD,SAAS,EACT5J,SAAS,ICnBXkiB,GAAe,CACjBnE,cAAe,GACfnU,SAAS,EACT5J,SAAS,EACTwC,MAAO,MCHL6f,GAAa,CAACC,MACdC,GAAmBrb,OAAOsb,sCAAwCC,KAIlEC,GAAcC,aAAgB,CAChC/iB,KAAMgiB,GACNtc,OAAQsd,GACRrX,QL+CW,WAAmC,IAAlC5L,EAAiC,uDAAzBuiB,GAAcF,EAAW,uCACrClgB,EAAkBkgB,EAAlBlgB,KAAMC,EAAYigB,EAAZjgB,QAEd,OAAQD,GAIJ,InElCyB,oBmEmCzB,InE9B0B,qBmE+BtB,OAAO,eACAnC,EADP,CAEIK,QAAQ,eACDL,EAAMK,QADN,CAEHib,YAAY,MAGxB,InEjC0B,qBmEkCtB,OAAO,eACAtb,EADP,CAEIK,QAAQ,eACDL,EAAMK,QADN,CAEH0R,aAAa,MAGzB,InErCwB,mBmEsCpB,OAAO,eACA/R,EADP,CAEIiK,SAAS,EACTmD,SAAU,KAElB,InEzCyB,oBmE2CrB,IAAI8V,EAAkBljB,EAAMoN,SAASqG,MAAK,SAAC7H,GAAD,OAAaA,EAAQC,IAAIuK,aAAehU,KAC9E+gB,GAAkB,EAKtB,OAJKD,IACDA,EAAkB,KAClBC,GAAkB,GAEf,eACAnjB,EADP,CAEIK,QAAQ,eACDL,EAAMK,QADN,CAEH6P,WAAYiT,IAEhBvX,QAASsX,IAEjB,InEpD4B,uBmEqDxB,OAAO,eACAljB,EADP,CAEIK,QAAQ,eACDL,EAAMK,QADN,CAEH+S,eAAe,MAG3B,InEtDyB,oBmEuDrB,OAAO,eACApT,EADP,CAEIK,QAAQ,eACDL,EAAMK,QADN,CAEH6U,UAAU,MAGtB,InEzDsB,iBmE0DtB,InEtDwB,mBmEuDpB,OAAO,eACAlV,EADP,CAEIK,QAAQ,eACDL,EAAMK,QADN,CAEH8S,OAAO,MAGnB,InEzDsB,iBmE0DtB,InEtDoB,emEuDpB,InEnDoB,emEoDhB,OAAO,eACAnT,EADP,CAEIK,QAAQ,eACDL,EAAMK,QADN,CAEHgW,UAAU,MAMtB,InE9G2B,sBmE+G3B,InE1G4B,uBmE2GxB,OAAO,eACArW,EADP,CAEIK,QAAQ,eACDL,EAAMK,QADN,CAEHib,YAAY,MAGxB,InE7G4B,uBmE8GxB,OAAO,eACAtb,EADP,CAEIK,QAAQ,eACDL,EAAMK,QADN,CAEH0R,aAAa,IAEjB9H,QAAS7H,EAAQ6H,QACjBmD,SAAS,GAAD,oBAAMpN,EAAMoN,UAAZ,aAAyBhL,EAAQgL,aAEjD,InEjH2B,sBmEkHvB,OAAO,eACApN,EADP,CAEI4L,QAASxJ,EACT/B,QAAQ,eACDL,EAAMK,QADN,CAEH6P,YAAY,MAGxB,InE/G2B,sBmEgHvB,OAAO,eACAlQ,EADP,CAEIK,QAAQ,eACDL,EAAMK,QADN,CAEH6U,UAAU,IAEdtJ,QAAQ,eACD5L,EAAM4L,QADN,CAEHsJ,SAAU9S,MAGtB,InEtHwB,mBmEuHxB,InEnH0B,qBmEoHtB,OAAO,eACApC,EADP,CAEIK,QAAQ,eACDL,EAAMK,QADN,CAEH8S,OAAO,IAEXvH,QAAQ,eACD5L,EAAM4L,QADN,CAEHuH,MAAO/Q,MAGnB,InE1HwB,mBmE2HxB,InEvHsB,iBmEwHtB,InEpHsB,iBmEqHlB,OAAO,eACApC,EADP,CAEIK,QAAQ,eACDL,EAAMK,QADN,CAEHgW,UAAU,IAEdzK,QAAQ,eACD5L,EAAM4L,QADN,GAEAxJ,KAGf,InE5J8B,yBmE6J1B,IAAIwJ,EAAU5L,EAAM4L,QAIpB,OAHI5L,EAAM4L,QAAQC,IAAIuK,aAAehU,IACjCwJ,EAAU,MAEP,eACA5L,EADP,CAEIK,QAAQ,eACDL,EAAMK,QADN,CAEH+S,eAAe,IAEnBxH,YAMR,InEjMwB,mBmEkMxB,InE7LyB,oBmE8LrB,OAAO,eACA5L,EADP,CAEIK,QAAQ,eACDL,EAAMK,QADN,CAEHib,YAAY,MAGxB,InEhMyB,oBmEiMrB,OAAO,eACAtb,EADP,CAEIK,QAAQ,eACDL,EAAMK,QADN,CAEH0R,aAAa,MAGzB,InElMwB,mBmEmMpB,OAAO,eACA/R,EADP,CAEIK,QAAQ,eACDL,EAAMK,QADN,CAEH6P,YAAY,MAGxB,InErM2B,sBmEsMvB,OAAO,eACAlQ,EADP,CAEIK,QAAQ,eACDL,EAAMK,QADN,CAEH+S,eAAe,MAG3B,InEvMwB,mBmEwMpB,OAAO,eACApT,EADP,CAEIK,QAAQ,eACDL,EAAMK,QADN,CAEH6U,UAAU,MAGtB,InE1MqB,gBmE2MrB,InEvMuB,kBmEwMnB,OAAO,eACAlV,EADP,CAEIK,QAAQ,eACDL,EAAMK,QADN,CAEH8S,OAAO,MAGnB,InE1MqB,gBmE2MrB,InEvMmB,cmEwMnB,InEpMmB,cmEqMf,OAAO,eACAnT,EADP,CAEIK,QAAQ,eACDL,EAAMK,QADN,CAEHgW,UAAU,MAGtB,QACI,OAAOrW,IKnRfyB,QJkBW,WAAmC,IAAlCzB,EAAiC,uDAAzBuiB,GAAcF,EAAW,uCACrClgB,EAAkBkgB,EAAlBlgB,KAAMC,EAAYigB,EAAZjgB,QAEd,OAAQD,GAIJ,IpEmD+B,0BoElD3B,OAAO,eACAnC,EADP,CAEImf,SAAS,eACFoD,GAAapD,YAG5B,IpE6C2B,sBoE5CvB,OAAO,eACAnf,EADP,CAEIof,KAAK,eACEmD,GAAanD,QAM5B,IpEqC0B,qBoEpCtB,OAAO,eACApf,EADP,CAEImf,SAAS,eACFnf,EAAMmf,SADL,CAEJ9e,SAAS,MAGrB,IpE8B4B,uBoE7BxB,OAAO,eACAL,EADP,CAEImf,SAAU,CACNF,SAAS,GAAD,oBAAMjf,EAAMmf,SAASF,UAArB,aAAkC7c,EAAQ6c,WAClDhV,QAAS7H,EAAQ6H,QACjB5J,SAAS,KAGrB,IpEsByB,oBoErBrB,OAAO,eACAL,EADP,CAEImf,SAAS,eACFnf,EAAMmf,SADL,CAEJ9e,SAAS,MAMrB,IpEasB,iBoEZlB,OAAO,eACAL,EADP,CAEIof,KAAK,eACEpf,EAAMof,KADT,CAEA/e,SAAS,MAGrB,IpEMwB,mBoELpB,OAAO,eACAL,EADP,CAEIof,KAAM,CACFH,SAAS,GAAD,oBAAMjf,EAAMof,KAAKH,UAAjB,aAA8B7c,EAAQ6c,WAC9ChV,QAAS7H,EAAQ6H,QACjB5J,SAAS,KAGrB,IpEFqB,gBoEGjB,OAAO,eACAL,EADP,CAEIof,KAAK,eACEpf,EAAMof,KADT,CAEA/e,SAAS,MAMrB,IpEXyB,oBoEYrB,IAAIoB,EAAUzB,EAAMmf,SAASF,SAASxL,MAAK,SAACpR,GAAD,OAASA,EAAIwJ,IAAIuK,aAAehU,KAM3E,OALKX,IACDA,EAAUzB,EAAMof,KAAKH,SAASxL,MAAK,SAACpR,GAAD,OAASA,EAAIwJ,IAAIuK,aAAehU,MAElEX,IAASA,EAAU,MAEjB,eACAzB,EADP,CAEIK,QAAQ,eACDL,EAAMK,QADN,CAEH6f,YAAY,IAEhBze,YAER,IpEzB2B,sBoE0BvB,IAAI2hB,EAAW,EACTC,EAAcrjB,EAAMmf,SAASF,SAASjZ,KAAI,SAACvE,GAK7C,OAJIW,EAAQyJ,IAAIuK,aAAe3U,EAAQoK,IAAIuK,aAA+B,IAAjB3U,EAAQid,OAC7Djd,EAAQid,MAAO,EACf0E,KAEG3hB,KAGX,OAAO,eACAzB,EADP,CAEIyB,QAASW,EACT/B,QAAQ,eACDL,EAAMK,QADN,CAEH6f,YAAY,IAEhBf,SAAS,eACFnf,EAAMmf,SADL,CAEJF,SAAUoE,IAEdxgB,MAAO7C,EAAM6C,MAAQugB,IAE7B,IpE/CwB,mBoEgDpB,OAAO,eACApjB,EADP,CAEIof,KAAMhd,EACN/B,QAAQ,eACDL,EAAMK,QADN,CAEH6f,YAAY,MAMxB,IpEzD0B,qBoE0DtB,OAAO,eACAlgB,EADP,CAEIK,QAAQ,eACDL,EAAMK,QADN,CAEHyC,aAAa,MAGzB,IpEhE4B,uBoEwE5B,IpEvEyB,oBoEwErB,OAAO,eACA9C,EADP,CAEIK,QAAQ,eACDL,EAAMK,QADN,CAEHyC,aAAa,MAIzB,IpE9EsB,iBoE+ElB,OAAO,eACAyf,IAEX,IpEhF6B,wBoEiFzB,OAAO,eACAviB,EADP,CAEI6C,MAAOT,IAEf,QACI,OAAOpC,IItLfsc,QAASmG,GACT3V,OFWW,WAAmC,IAAlC9M,EAAiC,uDAAzBuiB,GAAcF,EAAW,uCACrClgB,EAAkBkgB,EAAlBlgB,KAAMC,EAAYigB,EAAZjgB,QAEd,OAAQD,GAIJ,ItE2FmB,csE1Ff,OAAO,eACAnC,EADP,CAEI6M,MAAM,eAAM0V,GAAa1V,SAEjC,ItEuFuB,kBsEtFnB,OAAO,eACA7M,EADP,CAEI+M,UAAU,eAAMwV,GAAaxV,aAErC,ItEmFsB,iBsElFlB,OAAO,eACA/M,EADP,CAEIgN,SAAS,eAAMuV,GAAavV,YAMpC,ItE+DuB,kBsE9DnB,OAAO,eACAhN,EADP,CAEI6M,MAAM,eACC7M,EAAM6M,MADR,CAEDxM,SAAS,MAGrB,ItEwDyB,oBsEvDrB,OAAO,eACAL,EADP,CAEI6M,MAAO,CACHO,SAAS,GAAD,oBAAMpN,EAAM6M,MAAMO,UAAlB,aAA+BhL,EAAQgL,WAC/C/M,SAAS,EACT4J,QAAS7H,EAAQ6H,WAG7B,ItEgDsB,iBsE/ClB,OAAO,eACAjK,EADP,CAEI6M,MAAM,eACC7M,EAAM6M,MADR,CAEDxM,SAAS,MAMrB,ItEsC2B,sBsErCvB,OAAO,eACAL,EADP,CAEI+M,UAAU,eACH/M,EAAM+M,UADJ,CAEL1M,SAAS,MAGrB,ItE+B6B,wBsE9BzB,OAAO,eACAL,EADP,CAEI+M,UAAW,CACPK,SAAS,GAAD,oBAAMpN,EAAM+M,UAAUK,UAAtB,aAAmChL,EAAQgL,WACnD/M,SAAS,EACT4J,QAAS7H,EAAQ6H,WAG7B,ItEuB0B,qBsEtBtB,OAAO,eACAjK,EADP,CAEI+M,UAAU,eACH/M,EAAM+M,UADJ,CAEL1M,SAAS,MAMrB,ItEa0B,qBsEZtB,OAAO,eACAL,EADP,CAEIgN,SAAS,eACFhN,EAAMgN,SADL,CAEJ3M,SAAS,MAGrB,ItEM4B,uBsELxB,OAAO,eACAL,EADP,CAEIgN,SAAU,CACNI,SAAS,GAAD,oBAAMpN,EAAMgN,SAASI,UAArB,aAAkChL,EAAQgL,WAClD/M,SAAS,EACT4J,QAAS7H,EAAQ6H,WAG7B,ItEFyB,oBsEGrB,OAAO,eACAjK,EADP,CAEIgN,SAAS,eACFhN,EAAMgN,SADL,CAEJ3M,SAAS,MAGrB,QACI,OAAOL,IEtHfsE,aDNW,WAAmC,IAAlCtE,EAAiC,uDAAzBuiB,GAAcF,EAAW,uCACrClgB,EAAkBkgB,EAAlBlgB,KAAMC,EAAYigB,EAAZjgB,QAEd,OAAQD,GAIJ,IvE4H+B,0BuE3H3B,OAAO,eACAnC,EADP,CAEIK,SAAS,IAEjB,IvEwHiC,4BuEvH7B,OAAO,eACAL,EADP,CAEIoe,cAAc,GAAD,oBAAMpe,EAAMoe,eAAZ,aAA8Bhc,EAAQgc,gBACnDnU,QAAS7H,EAAQ6H,QACjB5J,SAAS,EACTwC,MAAO7C,EAAM6C,MAAQT,EAAQic,oBAErC,IvEiH8B,yBuEhH1B,OAAO,eACAre,EADP,CAEIK,SAAS,IAEjB,IvE8G2B,sBuE7GvB,OAAO,eACAkiB,IAEX,IvEyGkC,6BuExG9B,OAAO,eACAviB,EADP,CAEI6C,MAAOT,IAEf,QACI,OAAOpC,ME5CbsjB,GDoBYC,aACVR,GACA,GACAH,GAAiBY,KAAe,WAAf,EAAmBd,MCrBtCe,GACF,kBAAC,IAAD,CAAUH,MAAOA,IACb,kBAAC,GAAD,OAIRI,IAASnjB,OAAOkjB,GAAK3Y,SAAS6Y,eAAe,STmHvC,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMC,MAAK,SAAAC,GACjCA,EAAaC,iB,mBUpInBpkB,EAAOC,QAAU,CAAC,QAAU,yBAAyB,aAAe,8BAA8B,MAAQ,uBAAuB,QAAU,yBAAyB,QAAU,yBAAyB,KAAO,sBAAsB,IAAM,uB,mBCA1OD,EAAOC,QAAU,CAAC,KAAO,mBAAmB,UAAY,wBAAwB,aAAe,2BAA2B,KAAO,mBAAmB,MAAQ,sB,mBCA5JD,EAAOC,QAAU,CAAC,KAAO,sBAAsB,QAAU,yBAAyB,MAAQ,uBAAuB,KAAO,sBAAsB,KAAO,sBAAsB,KAAO,sBAAsB,OAAS,0B,mBCAjND,EAAOC,QAAU,CAAC,KAAO,sBAAsB,KAAO,sBAAsB,UAAY,2BAA2B,QAAU,2B,mBCA7HD,EAAOC,QAAU,CAAC,QAAU,yBAAyB,MAAQ,uBAAuB,KAAO,wB,mBCA3FD,EAAOC,QAAU,CAAC,KAAO,2BAA2B,aAAe,mCAAmC,MAAQ,4BAA4B,eAAiB,qCAAqC,KAAO,2BAA2B,KAAO,6B,mBCAzOD,EAAOC,QAAU,CAAC,WAAa,+BAA+B,gBAAkB,oCAAoC,OAAS,2BAA2B,OAAS,2BAA2B,YAAc,gCAAgC,WAAa,iC,mBCAvPD,EAAOC,QAAU,CAAC,eAAiB,wCAAwC,cAAgB,uCAAuC,OAAS,kC,mBCA3ID,EAAOC,QAAU,CAAC,SAAW,2BAA2B,SAAW,6B,mBCAnED,EAAOC,QAAU,CAAC,KAAO,mBAAmB,iBAAmB,+BAA+B,SAAW,uBAAuB,IAAM,oB,mBCAtID,EAAOC,QAAU,CAAC,KAAO,uBAAuB,iBAAmB,mCAAmC,SAAW,2BAA2B,IAAM,wB,mBCAlJD,EAAOC,QAAU,CAAC,OAAS,uBAAuB,GAAK,qB,mBCAvDD,EAAOC,QAAU,CAAC,SAAW,2BAA2B,OAAS,yBAAyB,OAAS,2B,mBCAnGD,EAAOC,QAAU,CAAC,MAAQ,qBAAqB,SAAW,0B,mBCA1DD,EAAOC,QAAU,CAAC,UAAY,6BAA6B,KAAO,wBAAwB,OAAS,4B,mBCAnGD,EAAOC,QAAU,CAAC,WAAa,+BAA+B,KAAO,yBAAyB,OAAS,6B,mBCAvGD,EAAOC,QAAU,CAAC,QAAU,yBAAyB,eAAiB,kC,mBCAtED,EAAOC,QAAU,CAAC,OAAS,uBAAuB,OAAS,yB,mBCA3DD,EAAOC,QAAU,CAAC,QAAU,yBAAyB,KAAO,sBAAsB,YAAc,6BAA6B,KAAO,wB,mBCApID,EAAOC,QAAU,CAAC,KAAO,yB,mBCAzBD,EAAOC,QAAU,CAAC,QAAU,yBAAyB,GAAK,sB,mBCA1DD,EAAOC,QAAU,CAAC,aAAe,2BAA2B,MAAQ,uB","file":"static/js/main.81870578.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Layout_main__2dloT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"DisplayProfile\":\"DisplayProfile_DisplayProfile__12H36\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profilePic\":\"PictureRadius_profilePic__2fSaV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"items\":\"MyList_items__EMMVq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Auth\":\"Auth_Auth__1OFxN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"AuthForm\":\"AuthForm_AuthForm__1VWQ-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Products\":\"Products_Products__XXD3D\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"items\":\"TopBar_items__3NgiL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"items\":\"Products_items__106ib\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"notifications\":\"Notification_notifications__3CA5a\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"messages\":\"Inbox_messages__c4YXD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MessageBoxMain\":\"MessageBox_MessageBoxMain__4JQbt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"UpdateAvatar_form__3pVM_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"UpdateProfile_form__2O94o\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"UpdateEmail_form__3jI8y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"UpdatePassword_form__2KgnV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Search\":\"Search_Search__1vdXl\",\"topBox\":\"Search_topBox__2Kd0p\",\"searchInputContainer\":\"Search_searchInputContainer__3vff-\",\"searchInput\":\"Search_searchInput__ZhnTc\",\"searchInputClear\":\"Search_searchInputClear__SkrZH\",\"searchIcon\":\"Search_searchIcon__pNsQ-\",\"backIcon\":\"Search_backIcon__1rzCN\",\"categories\":\"Search_categories__2bvMH\",\"category\":\"Search_category__2PphB\",\"categoryActive\":\"Search_categoryActive__2Yz1c\",\"backdrop\":\"Search_backdrop__3yDze\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Dropzone\":\"ImageDropAndCrop_Dropzone__1vl5_\",\"DropzoneIcon\":\"ImageDropAndCrop_DropzoneIcon__2PCi6\",\"ReactCropContainer\":\"ImageDropAndCrop_ReactCropContainer__1RYiJ\",\"ReactCrop\":\"ImageDropAndCrop_ReactCrop__3jfW8\",\"buttons\":\"ImageDropAndCrop_buttons__1u8Mc\",\"crop\":\"ImageDropAndCrop_crop__1anze\",\"edit\":\"ImageDropAndCrop_edit__jg8r1\",\"remove\":\"ImageDropAndCrop_remove__2Wpyt\"};","module.exports = \"data:image/png;base64,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\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Alerts\":\"Alerts_Alerts__1Jrc6\",\"Alert\":\"Alerts_Alert__2N5hN\",\"Success\":\"Alerts_Success__1lfyC\",\"Danger\":\"Alerts_Danger__19AZT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1HpPN\",\"colorPrimary\":\"Button_colorPrimary__2R2-X\",\"colorOrange\":\"Button_colorOrange__3vJte\",\"colorDanger\":\"Button_colorDanger__3LxcP\",\"borderGray\":\"Button_borderGray__27XZb\",\"sizeSmall\":\"Button_sizeSmall__4xYo6\",\"sizeLarge\":\"Button_sizeLarge__1Qcwy\"};","import React from 'react'\r\nimport {Route, Redirect} from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport {connect} from 'react-redux';\r\n\r\nconst PrivateRoute = ({ \r\n    component: Component, \r\n    auth: {isAuthenticated, loading},\r\n    ...rest\r\n}) => (\r\n    <Route \r\n        {...rest}\r\n        render={ (props) => !isAuthenticated && !loading \r\n            ? (<Redirect to=\"/login\" />)\r\n            : (<Component {...props} />)\r\n        } \r\n    />\r\n);\r\n\r\nPrivateRoute.propTypes = {\r\n    auth: PropTypes.object.isRequired\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n    auth: state.auth\r\n});\r\n\r\nexport default connect(mapStateToProps)(PrivateRoute);\r\n","import axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n    // baseURL: 'http://localhost:5000',\r\n    headers: {\r\n        'Content-Type': 'application/json'\r\n    }\r\n});\r\n\r\ninstance.interceptors.request.use(request => {\r\n    console.log('Starting Request: ', request)\r\n    return request\r\n});\r\ninstance.interceptors.response.use(response => {\r\n    console.log('Response: ', response)\r\n    return response\r\n})\r\n\r\n\r\ninstance.setAuthToken = token => {\r\n    if (token) {\r\n        instance.defaults.headers.common['Authorization'] = `Bearer ${token}`;\r\n    } else {\r\n        delete instance.defaults.headers.common['Authorization'];\r\n    }\r\n}\r\n\r\nexport default instance;\r\n\r\n","import uuid from 'uuid';\r\nimport { SET_ALERT, REMOVE_ALERT } from './actionType'\r\n\r\nexport const setAlert = (message, alertType, timeout = 3000) => dispatch => {\r\n    if ( message instanceof Array) {\r\n        message.forEach((singleMessage) => {\r\n            const id = uuid.v4();\r\n            dispatch({\r\n                type: SET_ALERT,\r\n                payload: {\r\n                    id,\r\n                    msg: singleMessage.msg,\r\n                    alertType\r\n                }\r\n            });\r\n            setTimeout(() => {\r\n                dispatch({\r\n                    type: REMOVE_ALERT,\r\n                    payload: id\r\n                })\r\n            }, timeout);\r\n        })\r\n    } else {\r\n        const id = uuid.v4();\r\n        dispatch({\r\n                type: SET_ALERT,\r\n                payload: {\r\n                    id,\r\n                    msg: message,\r\n                    alertType\r\n                }\r\n            });\r\n        setTimeout(() => {\r\n            dispatch({\r\n                type: REMOVE_ALERT,\r\n                payload: id\r\n            })\r\n        }, timeout);\r\n    }\r\n};","// ==========\r\n// Auth\r\n// ==========\r\n\r\n// Load User\r\nexport const LOAD_USER_START = \"LOAD_USER_START\";\r\nexport const LOAD_USER_SUCCESS = \"LOAD_USER_SUCCESS\";\r\nexport const LOAD_USER_FAIL = \"LOAD_USER_FAIL\";\r\n\r\n// Register\r\nexport const REGISTER_START = \"REGISTER_START\";\r\nexport const REGISTER_SUCCESS = \"REGISTER_SUCCESS\";\r\nexport const REGISTER_FAIL = \"REGISTER_FAIL\";\r\n\r\n// Login\r\nexport const LOGIN_START = \"LOGIN_START\";\r\nexport const LOGIN_SUCCESS = \"LOGIN_SUCCESS\";\r\nexport const LOGIN_FAIL = \"LOGIN_FAIL\";\r\n\r\n// Logout\r\nexport const LOGOUT = \"LOGOUT\";\r\n\r\n// Update Profile\r\nexport const UPDATE_AVATAR_SUCCESS = \"UPDATE_AVATAR_SUCCESS\";\r\nexport const UPDATE_PROFILE_SUCCESS = \"UPDATE_PROFILE_SUCCESS\";\r\nexport const UPDATE_EMAIL_SUCCESS = \"UPDATE_EMAIL_SUCCESS\";\r\n\r\n\r\n// ==========\r\n// Alert\r\n// ==========\r\nexport const SET_ALERT = \"SET_ALERT\";\r\nexport const REMOVE_ALERT = \"REMOVE_ALERT\";\r\n\r\n\r\n// ==========\r\n// Products\r\n// ==========\r\n// Create\r\nexport const SET_PRODUCT_START = \"SET_PRODUCT_START\";\r\nexport const SET_PRODUCT_SUCCESS = \"SET_PRODUCT_SUCCESS\";\r\nexport const SET_PRODUCT_FAIL = \"SET_PRODUCT_FAIL\";\r\n\r\n// Edit product\r\nexport const EDIT_PRODUCT_START = \"EDIT_PRODUCT_START\";\r\nexport const EDIT_PRODUCT_SUCCESS = \"EDIT_PRODUCT_SUCCESS\";\r\nexport const EDIT_PRODUCT_FAIL = \"EDIT_PRODUCT_FAIL\";\r\n\r\n// GET products\r\nexport const GET_PRODUCTS_START = \"GET_PRODUCTS_START\";\r\nexport const GET_PRODUCTS_SUCCESS = \"GET_PRODUCTS_SUCCESS\";\r\nexport const GET_PRODUCTS_FAIL = \"GET_PRODUCTS_FAIL\";\r\n// GET products\r\nexport const REFRESH_PRODUCTS = \"REFRESH_PRODUCTS\";\r\n// GET a product\r\nexport const GET_PRODUCT_START = \"GET_PRODUCT_START\";\r\nexport const GET_PRODUCT_SUCCESS = \"GET_PRODUCT_SUCCESS\";\r\nexport const GET_PRODUCT_FAIL = \"GET_PRODUCT_FAIL\";\r\n\r\n// DELETE a product\r\nexport const DELETE_PRODUCT_START = \"DELETE_PRODUCT_START\";\r\nexport const DELETE_PRODUCT_SUCCESS = \"DELETE_PRODUCT_SUCCESS\";\r\nexport const DELETE_PRODUCT_FAIL = \"DELETE_PRODUCT_FAIL\";\r\n\r\n\r\n// Add Comment\r\nexport const ADD_COMMENT_START = \"ADD_COMMENT_START\";\r\nexport const ADD_COMMENT_SUCCESS = \"ADD_COMMENT_SUCCESS\";\r\nexport const ADD_COMMENT_FAIL = \"ADD_COMMENT_FAIL\";\r\n\r\n// Like \r\nexport const SET_LIKE_START = \"SET_LIKE_START\";\r\nexport const SET_LIKE_SUCCESS = \"SET_LIKE_SUCCESS\";\r\nexport const SET_LIKE_FAIL = \"SET_LIKE_FAIL\";\r\n// Unlike \r\nexport const SET_UNLIKE_START = \"SET_UNLIKE_START\";\r\nexport const SET_UNLIKE_SUCCESS = \"SET_UNLIKE_SUCCESS\";\r\nexport const SET_UNLIKE_FAIL = \"SET_UNLIKE_FAIL\";\r\n\r\n// Buy\r\nexport const PURCHASE_START = \"PURCHASE_START\";\r\nexport const PURCHASE_SUCCESS = \"PURCHASE_SUCCESS\";\r\nexport const PURCHASE_FAIL = \"PURCHASE_FAIL\";\r\n// Cancel\r\nexport const CANCEL_START = \"CANCEL_START\";\r\nexport const CANCEL_SUCCESS = \"CANCEL_SUCCESS\";\r\nexport const CANCEL_FAIL = \"CANCEL_FAIL\";\r\n// Reject\r\nexport const REJECT_START = \"REJECT_START\";\r\nexport const REJECT_SUCCESS = \"REJECT_SUCCESS\";\r\nexport const REJECT_FAIL = \"REJECT_FAIL\";\r\n\r\n\r\n// ==========\r\n// Messages\r\n// ==========\r\nexport const CLEAR_RECIEVED_MESSAGES = \"CLEAR_RECIEVED_MESSAGES\";\r\nexport const CLEAR_SENT_MESSAGES = \"CLEAR_SENT_MESSAGES\";\r\n\r\nexport const GET_RECIEVED_START = \"GET_RECIEVED_START\";\r\nexport const GET_RECIEVED_SUCCESS = \"GET_RECIEVED_SUCCESS\";\r\nexport const GET_RECIEVED_FAIL = \"GET_RECIEVED_FAIL\";\r\n\r\nexport const GET_SENT_START = \"GET_SENT_START\";\r\nexport const GET_SENT_SUCCESS = \"GET_SENT_SUCCESS\";\r\nexport const GET_SENT_FAIL = \"GET_SENT_FAIL\";\r\n\r\nexport const GET_MESSAGE_START = \"GET_MESSAGE_START\";\r\nexport const GET_MESSAGE_SUCCESS = \"GET_MESSAGE_SUCCESS\";\r\nexport const GET_MESSAGE_FAIL = \"GET_MESSAGE_FAIL\";\r\n\r\nexport const SEND_MESSAGE_START = \"SEND_MESSAGE_START\";\r\nexport const SEND_MESSAGE_SUCCESS = \"SEND_MESSAGE_SUCCESS\";\r\nexport const SEND_MESSAGE_FAIL = \"SEND_MESSAGE_FAIL\";\r\n\r\nexport const CLEAR_MESSAGES = \"CLEAR_MESSAGES\";\r\n\r\nexport const COUNT_UNSEEN_MESSAGES = \"COUNT_UNSEEN_MESSAGES\";\r\n\r\n// ==========\r\n// MyList\r\n// ==========\r\nexport const GET_LIKED_START = \"GET_LIKED_START\";\r\nexport const GET_LIKED_SUCCESS = \"GET_LIKED_SUCCESS\";\r\nexport const GET_LIKED_FAIL = \"GET_LIKED_FAIL\";\r\nexport const GET_PURCHASED_START = \"GET_PURCHASED_START\";\r\nexport const GET_PURCHASED_SUCCESS = \"GET_PURCHASED_SUCCESS\";\r\nexport const GET_PURCHASED_FAIL = \"GET_PURCHASED_FAIL\";\r\nexport const GET_SELLINGS_START = \"GET_SELLINGS_START\";\r\nexport const GET_SELLINGS_SUCCESS = \"GET_SELLINGS_SUCCESS\";\r\nexport const GET_SELLINGS_FAIL = \"GET_SELLINGS_FAIL\";\r\nexport const CLEAR_LIKED = \"CLEAR_LIKED\";\r\nexport const CLEAR_PURCHASED = \"CLEAR_PURCHASED\";\r\nexport const CLEAR_SELLINGS = \"CLEAR_SELLINGS\";\r\n\r\n// ==========\r\n// Profile\r\n// ==========\r\nexport const GET_PROFILE_START = \"GET_PROFILE_START\";\r\nexport const GET_PROFILE_SUCCESS = \"GET_PROFILE_SUCCESS\";\r\nexport const GET_PROFILE_FAIL = \"GET_PROFILE_FAIL\";\r\nexport const GET_PROFILE_PRODUCTS_START = \"GET_PROFILE_PRODUCTS_START\";\r\nexport const GET_PROFILE_PRODUCTS_SUCCESS = \"GET_PROFILE_PRODUCTS_SUCCESS\";\r\nexport const GET_PROFILE_PRODUCTS_FAIL = \"GET_PROFILE_PRODUCTS_FAIL\";\r\n\r\n// ==========\r\n// Notification\r\n// ==========\r\nexport const GET_NOTIFICATIONS_START = \"GET_NOTIFICATIONS_START\";\r\nexport const GET_NOTIFICATIONS_SUCCESS = \"GET_NOTIFICATIONS_SUCCESS\";\r\nexport const GET_NOTIFICATIONS_FAIL = \"GET_NOTIFICATIONS_FAIL\";\r\nexport const COUNT_UNSEEN_NOTIFICATIONS = \"COUNT_UNSEEN_NOTIFICATIONS\";\r\nexport const CLEAR_NOTIFICATIONS = \"CLEAR_NOTIFICATIONS\";","import axios from '../../axios';\r\nimport {\r\n    CLEAR_RECIEVED_MESSAGES,\r\n    CLEAR_SENT_MESSAGES,\r\n    // GET\r\n    GET_RECIEVED_START,\r\n    GET_RECIEVED_SUCCESS,\r\n    GET_RECIEVED_FAIL,\r\n    GET_SENT_START,\r\n    GET_SENT_SUCCESS,\r\n    GET_SENT_FAIL,\r\n    GET_MESSAGE_START,\r\n    GET_MESSAGE_SUCCESS,\r\n    GET_MESSAGE_FAIL,\r\n    SEND_MESSAGE_START,\r\n    SEND_MESSAGE_SUCCESS,\r\n    SEND_MESSAGE_FAIL,\r\n    CLEAR_MESSAGES,\r\n    COUNT_UNSEEN_MESSAGES\r\n} from './actionType';\r\nimport { setAlert } from './alert';\r\n\r\nexport const countUnseenMessages = () => async dispatch => {\r\n    try {\r\n        const res = await axios.get(`/api/messages/count`);\r\n        dispatch({\r\n            type: COUNT_UNSEEN_MESSAGES,\r\n            payload: res.data.count\r\n        })\r\n    } catch (err) {\r\n        dispatch(setAlert(err.response.data.message, \"danger\"));\r\n    }\r\n};\r\n\r\nexport const clearRecievedMessages = () => async dispatch => {\r\n    dispatch({\r\n        type: CLEAR_RECIEVED_MESSAGES\r\n    });\r\n    dispatch(countUnseenMessages());\r\n};\r\nexport const clearSentMessages = () => async dispatch => {\r\n    dispatch({\r\n        type: CLEAR_SENT_MESSAGES\r\n    });\r\n};\r\n\r\nexport const getRecieved = (skip = 0, limit = 20) => async dispatch => {\r\n    dispatch({\r\n        type: GET_RECIEVED_START\r\n    });\r\n\r\n    try {\r\n        const res = await axios.get(`/api/messages/recieved?skip=${skip}&limit=${limit}`);\r\n        const hasMore = res.data.length < limit ? false : true;\r\n\r\n        dispatch({\r\n            type: GET_RECIEVED_SUCCESS,\r\n            payload: { messages: res.data, hasMore }\r\n        });\r\n    } catch (err) {\r\n        dispatch(setAlert(err.response.data.message, \"danger\"));\r\n        dispatch({\r\n            type: GET_RECIEVED_FAIL\r\n        });\r\n    }\r\n};\r\n\r\nexport const getSent = (skip = 0, limit = 20) => async dispatch => {\r\n    dispatch({\r\n        type: GET_SENT_START\r\n    });\r\n\r\n    try {\r\n        const res = await axios.get(`/api/messages/sent?skip=${skip}&limit=${limit}`);\r\n        const hasMore = res.data.length < limit ? false : true;\r\n\r\n        dispatch({\r\n            type: GET_SENT_SUCCESS,\r\n            payload: { messages: res.data, hasMore }\r\n        });\r\n    } catch (err) {\r\n        dispatch(setAlert(err.response.data.message, \"danger\"));\r\n        dispatch({\r\n            type: GET_SENT_FAIL\r\n        });\r\n    }\r\n};\r\n\r\nexport const getMessage = (messageId) => async dispatch => {\r\n    dispatch({\r\n        type: GET_MESSAGE_START,\r\n        payload: messageId\r\n    });\r\n\r\n    try {\r\n        const res = await axios.get(`/api/messages/${messageId}`);\r\n\r\n        dispatch({\r\n            type: GET_MESSAGE_SUCCESS,\r\n            payload: res.data\r\n        });\r\n    } catch (err) {\r\n        console.log(err);\r\n        dispatch(setAlert(err.response.data.message, \"danger\"));\r\n        dispatch({\r\n            type: GET_MESSAGE_FAIL\r\n        });\r\n    }\r\n}\r\n    ;\r\nexport const sendMessage = (recipientId, text) => async dispatch => {\r\n    dispatch({\r\n        type: SEND_MESSAGE_START,\r\n    });\r\n\r\n    try {\r\n        await axios.post(`/api/messages/${recipientId}`, { text });\r\n\r\n        dispatch({\r\n            type: SEND_MESSAGE_SUCCESS,\r\n        });\r\n    } catch (err) {\r\n        dispatch(setAlert(err.response.data.message, \"danger\"));\r\n        dispatch({\r\n            type: SEND_MESSAGE_FAIL\r\n        });\r\n    }\r\n};\r\n\r\nexport const clearMessages = () => dispatch => {\r\n    dispatch({\r\n        type: CLEAR_MESSAGES\r\n    })\r\n}\r\n","import axios from '../../axios';\r\nimport {\r\n    CLEAR_NOTIFICATIONS,\r\n    // GET\r\n    GET_NOTIFICATIONS_START,\r\n    GET_NOTIFICATIONS_SUCCESS,\r\n    GET_NOTIFICATIONS_FAIL,\r\n\r\n    COUNT_UNSEEN_NOTIFICATIONS\r\n} from './actionType';\r\nimport { setAlert } from './alert';\r\n\r\nexport const countUnseenNotifications = () => async dispatch => {\r\n    try {\r\n        const res = await axios.get(`/api/notifications/count`);\r\n        dispatch({\r\n            type: COUNT_UNSEEN_NOTIFICATIONS,\r\n            payload: res.data.count\r\n        })\r\n    } catch (err) {\r\n        dispatch(setAlert(err.response.data.message, \"danger\"));\r\n    }\r\n};\r\n\r\nexport const clearNotifications = () => async dispatch => {\r\n    dispatch({\r\n        type: CLEAR_NOTIFICATIONS\r\n    });\r\n    dispatch(countUnseenNotifications());\r\n};\r\n\r\nexport const getNotifications = (skip = 0, limit = 20) => async dispatch => {\r\n    dispatch({\r\n        type: GET_NOTIFICATIONS_START\r\n    });\r\n\r\n    try {\r\n        const res = await axios.get(`/api/notifications?skip=${skip}&limit=${limit}`);\r\n        const hasMore = res.data.notifications.length < limit ? false : true;\r\n\r\n        dispatch({\r\n            type: GET_NOTIFICATIONS_SUCCESS,\r\n            payload: {\r\n                notifications: res.data.notifications,\r\n                countUnseenToSeen: res.data.countUnseenToSeen,\r\n                hasMore\r\n            }\r\n        });\r\n    } catch (err) {\r\n        dispatch(setAlert(err.response.data.message, \"danger\"));\r\n        dispatch({\r\n            type: GET_NOTIFICATIONS_FAIL\r\n        });\r\n    }\r\n};","import axios from '../../axios';\r\nimport {\r\n    // LOAD_USER\r\n    LOAD_USER_START,\r\n    LOAD_USER_SUCCESS,\r\n    LOAD_USER_FAIL,\r\n\r\n    // REGISTER\r\n    REGISTER_START,\r\n    REGISTER_SUCCESS,\r\n    REGISTER_FAIL,\r\n\r\n    // LOGIN\r\n    LOGIN_START,\r\n    LOGIN_SUCCESS,\r\n    LOGIN_FAIL,\r\n\r\n    // LOGOUT\r\n    LOGOUT,\r\n\r\n    // AVATAR\r\n    UPDATE_AVATAR_SUCCESS,\r\n    UPDATE_PROFILE_SUCCESS,\r\n    UPDATE_EMAIL_SUCCESS,\r\n} from './actionType';\r\nimport { setAlert } from './alert';\r\nimport { clearMessages, countUnseenMessages } from './message';\r\nimport { clearNotifications, countUnseenNotifications } from './notification';\r\n\r\nexport const loadUser = () => async dispatch => {\r\n    if (localStorage.token) {\r\n        axios.setAuthToken(localStorage.token);\r\n    } else {\r\n        dispatch({\r\n            type: LOAD_USER_FAIL\r\n        });\r\n        return null;\r\n    }\r\n\r\n    dispatch({\r\n        type: LOAD_USER_START\r\n    });\r\n\r\n    try {\r\n        const res = await axios.get('/api/user');\r\n\r\n        dispatch(setAlert(`Welcome, ${res.data.name}`, \"success\"));\r\n        dispatch({\r\n            type: LOAD_USER_SUCCESS,\r\n            payload: res.data\r\n        });\r\n        dispatch(countUnseenMessages());\r\n        dispatch(countUnseenNotifications());\r\n    } catch (err) {\r\n        // dispatch(setAlert(err.response.data.message, \"danger\")); Doesnt work \r\n        dispatch({\r\n            type: LOAD_USER_FAIL\r\n        });\r\n    }\r\n\r\n};\r\n\r\nexport const login = ({ email, password }) => async dispatch => {\r\n    dispatch({\r\n        type: LOGIN_START\r\n    });\r\n\r\n    const body = JSON.stringify({ email, password });\r\n\r\n    try {\r\n        const res = await axios.post('/api/user/login', body);\r\n\r\n\r\n        dispatch({\r\n            type: LOGIN_SUCCESS,\r\n            payload: res.data\r\n        });\r\n        dispatch(loadUser(localStorage.token));\r\n    } catch (err) {\r\n        dispatch(setAlert(err.response.data.message, \"danger\"));\r\n        dispatch({\r\n            type: LOGIN_FAIL,\r\n        });\r\n    }\r\n\r\n};\r\n\r\n// REGISTER\r\nexport const register = ({ name, email, password }) => async dispatch => {\r\n    dispatch({\r\n        type: REGISTER_START\r\n    });\r\n\r\n    const body = JSON.stringify({ name, email, password });\r\n\r\n    try {\r\n        const res = await axios.post('/api/user/signup', body);\r\n\r\n        dispatch({\r\n            type: REGISTER_SUCCESS,\r\n            payload: res.data\r\n        });\r\n        dispatch(loadUser(localStorage.token));\r\n    } catch (err) {\r\n        dispatch(setAlert(err.response.data.message, \"danger\"));\r\n        dispatch({\r\n            type: REGISTER_FAIL\r\n        });\r\n    }\r\n};\r\n\r\nexport const logout = () => dispatch => {\r\n    dispatch({ type: LOGOUT });\r\n    dispatch(clearMessages());\r\n    dispatch(clearNotifications());\r\n\r\n};\r\n\r\nexport const updateAvatar = (avatar) => async dispatch => {\r\n    const config = {\r\n        headers: {\r\n            'Content-Type': 'multipart/form-data'\r\n        }\r\n    }\r\n\r\n    const formData = new FormData();\r\n    formData.append('avatar', avatar);\r\n\r\n    try {\r\n        const res = await axios.put('/api/user/avatar', formData, config);\r\n\r\n        dispatch(setAlert(`Uploaded profile image`, \"success\"));\r\n        dispatch({\r\n            type: UPDATE_AVATAR_SUCCESS,\r\n            payload: res.data\r\n        });\r\n    } catch (err) {\r\n        dispatch(setAlert(err.response.data.message, \"danger\"));\r\n    }\r\n};\r\n\r\nexport const updateProfile = (obj) => async dispatch => {\r\n    try {\r\n        const res = await axios.put('/api/user/profile', obj);\r\n\r\n        dispatch(setAlert(`Updated Profile`, \"success\"));\r\n        dispatch({\r\n            type: UPDATE_PROFILE_SUCCESS,\r\n            payload: res.data\r\n        });\r\n    } catch (err) {\r\n        dispatch(setAlert(err.response.data.message, \"danger\"));\r\n    }\r\n};\r\n\r\nexport const updateEmail = (obj) => async dispatch => {\r\n    try {\r\n        const res = await axios.put('/api/user/email', obj);\r\n\r\n        dispatch(setAlert(`Updated Email`, \"success\"));\r\n        dispatch({\r\n            type: UPDATE_EMAIL_SUCCESS,\r\n            payload: res.data\r\n        });\r\n    } catch (err) {\r\n        dispatch(setAlert(err.response.data.message, \"danger\"));\r\n    }\r\n};\r\n\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport styles from './NavItem.module.scss';\r\n\r\nconst NavItem = (WrapperComponent, count = null) => {\r\n    return (props) => (\r\n        <li>\r\n            <NavLink to={props.linkTo} className={styles.Link} activeClassName={[styles.Link, styles.active].join(\" \")}>\r\n                {count ? <span className={styles.counter} >{count > 99 ? 99 : count}</span> : null}\r\n                <WrapperComponent className={styles.Icon} />\r\n                <span className={styles.menuTitle}>{props.children}</span>\r\n            </NavLink>\r\n        </li>\r\n    );\r\n};\r\n\r\nexport default NavItem;","import React, { Fragment } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { IoMdHome, IoIosList, IoMdMail, IoMdContact, IoIosSearch, IoMdNotifications } from \"react-icons/io\";\r\nimport { MdAttachMoney } from \"react-icons/md\";\r\nimport NavItem from './NavItem/NavItem';\r\n\r\nimport styles from './Navigation.module.scss';\r\n\r\n\r\nconst Navigation = ({ auth, msgCount, notificationCount }) => {\r\n    const HomeNav = NavItem(IoMdHome);\r\n    const MyList = NavItem(IoIosList);\r\n    const SellNav = NavItem(MdAttachMoney);\r\n    const NotificationNav = NavItem(IoMdNotifications, notificationCount);\r\n    const InboxNav = NavItem(IoMdMail, msgCount);\r\n    const MyPageNav = NavItem(IoMdContact);\r\n    const AuthNav = NavItem(IoMdContact);\r\n\r\n\r\n\r\n    // Changing Navigations depend on isAuthentication\r\n    const navItems = auth.isAuthenticated ? (\r\n        <Fragment>\r\n            <HomeNav linkTo=\"/products\">Home</HomeNav>\r\n            <MyList linkTo=\"/mylist/liked\">My List</MyList>\r\n            <SellNav linkTo=\"/sell\">Sell</SellNav>\r\n            <NotificationNav linkTo=\"/notification\">Notification</NotificationNav>\r\n            <InboxNav linkTo=\"/inbox/recieved\">Inbox</InboxNav>\r\n            <MyPageNav linkTo=\"/mypage\">My Page</MyPageNav>\r\n        </Fragment>\r\n    )\r\n        :\r\n        <Fragment>\r\n            <HomeNav linkTo=\"/products\">Home</HomeNav>\r\n            <AuthNav linkTo=\"/auth\">Auth</AuthNav>\r\n        </Fragment>\r\n\r\n    return (\r\n        <header className={styles.Navigation} >\r\n            <div className={styles.search}>\r\n                <input placeholder=\"Search\" className={styles.searchInput} />\r\n                <button><IoIosSearch className={styles.searchIcon} /></button>\r\n            </div>\r\n            <ul className={styles.NavigationItems}>\r\n                {navItems}\r\n            </ul>\r\n        </header>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        auth: state.auth,\r\n        msgCount: state.message.count,\r\n        notificationCount: state.notification.count,\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps)(Navigation);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport styles from './Alerts.module.scss';\r\n\r\nconst Alerts = ({ alerts }) => {\r\n    const appliedAlertsClass = alerts.length > 0\r\n        ? [styles.Alerts].join(\" \")\r\n        : [styles.Alerts, styles.show].join(\" \");\r\n\r\n\r\n    return (\r\n        <div className={appliedAlertsClass}>\r\n            {alerts !== null && alerts.length > 0 && alerts.map(alert => (\r\n                <div\r\n                    key={alert.id}\r\n                    className={alert.alertType === \"success\" ?\r\n                        [styles.Alert, styles.Success].join(\" \") :\r\n                        [styles.Alert, styles.Danger].join(\" \")}\r\n                >{alert.msg}\r\n                </div>\r\n            ))}\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\nAlerts.propTypes = {\r\n    alerts: PropTypes.array.isRequired\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        alerts: state.alerts\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps)(Alerts);\r\n","import React from 'react';\r\nimport Navigation from '../../components/Navigation/Navigation';\r\nimport styles from './Layout.module.scss';\r\nimport { connect } from 'react-redux';\r\nimport Alerts from './Alerts/Alerts';\r\n\r\nconst layout = (props) => {\r\n\r\n    // let alerts = null;\r\n    // if (props.alerts.length > 0) {\r\n    //     alerts = <Alerts />;\r\n    // }\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <Alerts />\r\n            <Navigation />\r\n            <main className={styles.main}>\r\n                {props.children}\r\n            </main>\r\n        </React.Fragment>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        alerts: state.alerts\r\n    };\r\n};\r\n\r\n\r\nexport default connect(mapStateToProps)(layout);\r\n\r\n","import React from 'react';\r\nimport Loader from 'react-loader-spinner'\r\n\r\n\r\nexport default ({style = {}, type = \"TailSpin\", size = 60, color = \"#0084FF\", timeout = 0}) => (\r\n    <div \r\n        style={{\r\n            ...style,\r\n            width: \"100%\",\r\n            textAlign: \"center\", \r\n        }}\r\n        >\r\n        <Loader\r\n            type={type}\r\n            color={color}\r\n            height={size}\r\n            width={size}\r\n            timeout={timeout} //3 secs\r\n        />\r\n    </div>\r\n);","export default (buffer) => {\r\n    if (!buffer) {\r\n        return require('../assets/default.png');\r\n    }\r\n    let binary = '';\r\n    const bytes = [].slice.call(new Uint8Array(buffer));\r\n    bytes.forEach((b) => binary += String.fromCharCode(b));\r\n    return `data:image/jpeg;base64,${window.btoa(binary)}`;\r\n};","import React, {Fragment} from 'react'\r\nimport styles from './PictureRadius.module.scss';\r\n\r\n// @@@ FORMAT @@@\r\n// <PictureRadius \r\n//    alt=\"Hiroki Tominaga\"\r\n//    src={require(\"../../../assets/profile-pic.JPG\")}\r\n//    size=\"4rem\"\r\n//    className={styles....}\r\n// />\r\n\r\n\r\n\r\nconst PictureRadius = ({ style = {}, className, size = \"3.5rem\", src, alt, onClick}) => {\r\n    let appliedClasses = [styles.profilePic];\r\n    if (className) {\r\n        appliedClasses.push(className);\r\n    }\r\n\r\n    return (\r\n        <Fragment>\r\n            <img \r\n                onClick={onClick}\r\n                className={appliedClasses.join(\" \")} \r\n                style={{width: size, height: size, ...style}}\r\n                src={src} \r\n                alt={alt} \r\n                />\r\n        </Fragment>\r\n    );\r\n};\r\n\r\nexport default PictureRadius\r\n","import React from 'react'\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types'\r\nimport styles from './DisplayProfile.module.scss'\r\nimport imageConverter from '../../../utils/imageConverter';\r\n\r\n// Components\r\nimport PictureRadius from '../../UI/Pictures/PictureRadius/PictureRadius';\r\n\r\nconst DisplayProfile = ({\r\n    history,\r\n    user: {\r\n        avatar,\r\n        name\r\n    }\r\n}) => {\r\n    const avatarSrc = avatar\r\n        ? imageConverter(avatar.data)\r\n        : imageConverter(null);\r\n\r\n    const profileClickedHandler = () => history.push('mypage/update/avatar');\r\n\r\n    return (\r\n        <div className={styles.DisplayProfile}>\r\n            <div>{name}</div>\r\n            <PictureRadius\r\n                onClick={profileClickedHandler}\r\n                src={avatarSrc}\r\n                size=\"5rem\" />\r\n        </div>\r\n    )\r\n}\r\n\r\nDisplayProfile.propTypes = {\r\n    user: PropTypes.object.isRequired,\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    user: state.auth.user\r\n});\r\n\r\nexport default connect(mapStateToProps)(withRouter(DisplayProfile));\r\n","import React from 'react'\r\nimport classes from './Button.module.scss';\r\n\r\nconst Button = ({\r\n    children,\r\n    className,\r\n    style,\r\n    onClick,\r\n    btnType = \"\"\r\n}) => {\r\n    let appliedClasses = [classes.Button];\r\n    className && appliedClasses.push(className);\r\n\r\n    // Colors\r\n    btnType.includes(\"color-primary\") && appliedClasses.push(classes.colorPrimary);\r\n    btnType.includes(\"color-orange\") && appliedClasses.push(classes.colorOrange);\r\n    btnType.includes(\"color-danger\") && appliedClasses.push(classes.colorDanger);\r\n    btnType.includes(\"border-gray\") && appliedClasses.push(classes.borderGray);\r\n\r\n    // Size\r\n    btnType.includes(\"size-sm\") && appliedClasses.push(classes.sizeSmall);\r\n    btnType.includes(\"size-lg\") && appliedClasses.push(classes.sizeLarge);\r\n\r\n    return (\r\n        <button\r\n            onClick={onClick}\r\n            style={style}\r\n            className={appliedClasses.join(\" \")}\r\n            >\r\n            {children}\r\n        </button>\r\n    )\r\n}\r\n\r\nexport default Button\r\n","import React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport {logout} from '../../../store/actions/auth';\r\n\r\nimport Button from '../../UI/Button/Button';\r\n\r\nconst Logout = ({\r\n    logout,\r\n    history\r\n}) => {\r\n    const logoutHandler = () => {\r\n        logout();\r\n        history.push('/');\r\n    };\r\n\r\n    return (\r\n        <Button \r\n            btnType=\"border-gray size-lg\" \r\n            onClick={logoutHandler}\r\n            >Logout\r\n        </Button>\r\n    )\r\n}\r\n\r\nLogout.propTypes = {\r\n    logout: PropTypes.func.isRequired\r\n};\r\n\r\nexport default connect(null, { logout })(withRouter(Logout));","import React from 'react'\r\nimport { Link } from 'react-router-dom';\r\nimport styles from './Setting.module.scss'\r\n\r\nconst Setting = () => {\r\n    return (\r\n        <div className={styles.Setting}>\r\n            <h3>Setting</h3>\r\n            <ul className={styles.links}>\r\n                <Link className={styles.Link} to=\"/mypage/update/profile\">Update Profile</Link>\r\n                <Link className={styles.Link} to=\"/mypage/update/avatar\">Update Profile Image</Link>\r\n                <Link className={styles.Link} to=\"/mypage/update/email\">Change Email</Link>\r\n                <Link className={styles.Link} to=\"/mypage/update/password\">Change Password</Link>\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Setting\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './MyPage.module.scss';\r\n\r\n// components\r\nimport Spinner from '../UI/Spinner/Spinner';\r\nimport DisplayProfile from './DisplayProfile/DisplayProfile';\r\nimport Logout from './Logout/Logout';\r\nimport Setting from './Setting/Setting';\r\n\r\n\r\nconst MyPage = ({\r\n    auth\r\n}) => {\r\n    if (auth.loading) {\r\n        return <Spinner size={100} />;\r\n    }\r\n\r\n    return (\r\n        <div className={styles.mypage}>\r\n            <DisplayProfile />\r\n            <div className={styles.hr}></div>\r\n            <Setting />\r\n            <div className={styles.hr}></div>\r\n            <Logout />\r\n        </div>\r\n    );\r\n};\r\n\r\nMyPage.propTypes = {\r\n    auth: PropTypes.object.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    auth: state.auth\r\n});\r\n\r\nexport default connect(mapStateToProps, null)(MyPage);","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport styles from './Switcher.module.scss';\r\n\r\nconst Switcher = ({ items }) => {\r\n    const buttons = items.map((item) => {\r\n        let appliedClasses = [styles.button];\r\n        if (item.active) appliedClasses.push(styles.active);\r\n\r\n        return (\r\n            <button\r\n                key={item.text}\r\n                onClick={item.onClickHandler}\r\n                className={appliedClasses.join(\" \")}\r\n            >{item.text}\r\n            </button>\r\n        );\r\n    });\r\n\r\n    return (\r\n        <div className={styles.Switcher} style={{ gridTemplateColumns: `repeat(${items.length}, 1fr)` }}>\r\n            {buttons}\r\n        </div>\r\n    )\r\n}\r\n\r\nSwitcher.propTypes = {\r\n    items: PropTypes.array.isRequired,\r\n}\r\n\r\nexport default Switcher\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport InfiniteScroll from 'react-infinite-scroller';\r\nimport PullToRefresh from 'rmc-pull-to-refresh';\r\nimport Spinner from '../Spinner/Spinner';\r\n\r\nconst Scroller = ({\r\n    onRefreshFunc,\r\n    loadMoreFunc,\r\n    hasMore,\r\n    children,\r\n    spinnerSize = 50,\r\n    spinnerMarginTop = \"3rem\",\r\n}) => {\r\n    const switchContainer = true;\r\n    const invisible = <span style={{ display: \"none\" }}></span>;\r\n    const activate = <p style={{\r\n        position: \"absolute\",\r\n        top: 0,\r\n        left: \"50%\",\r\n        transform: \"translate(-50%, -100%)\",\r\n        paddingBottom: \"1rem\"\r\n    }}>Release to Refresh</p>;\r\n    const deactivate = <p style={{\r\n        position: \"absolute\",\r\n        top: 0,\r\n        left: \"50%\",\r\n        transform: \"translate(-50%, -100%)\",\r\n        paddingBottom: \"1rem\"\r\n    }}>Pull to refresh</p>;\r\n\r\n    return (\r\n        <PullToRefresh\r\n            key={switchContainer}\r\n            {...(switchContainer ? { getScrollContainer: () => document.body } : {})}\r\n            style={{ width: \"100%\", position: \"relative\" }}\r\n            onRefresh={onRefreshFunc}\r\n            indicator={{ activate, deactivate, release: invisible, finish: invisible }\r\n            }\r\n            distanceToRefresh={80}\r\n            damping={250}\r\n        >\r\n            <InfiniteScroll\r\n                pageStart={0}\r\n                threshold={250}\r\n                loadMore={loadMoreFunc}\r\n                hasMore={hasMore}\r\n                loader={<Spinner key={\"abc\"} size={spinnerSize} style={{ marginTop: spinnerMarginTop }} />}\r\n            >\r\n                {children}\r\n            </InfiniteScroll>\r\n        </PullToRefresh >\r\n    )\r\n}\r\n\r\nScroller.propTypes = {\r\n    onRefreshFunc: PropTypes.func.isRequired,\r\n    loadMoreFunc: PropTypes.func.isRequired,\r\n    hasMore: PropTypes.bool.isRequired,\r\n    spinnerSize: PropTypes.number,\r\n    spinnerMargin: PropTypes.string,\r\n}\r\n\r\nexport default Scroller;\r\n\r\n// import '../assets/index.less';\r\n// import PullToRefresh from '../src';\r\n// import React from 'react';\r\n// import ReactDOM from 'react-dom';\r\n\r\n// class App extends React.Component {\r\n//     state = {\r\n//         refreshing: false,\r\n//         switchContainer: false,\r\n//     };\r\n//     componentDidMount() {\r\n//         // setTimeout(() => { this.setState({ refreshing: true }); }, 10);\r\n//         // setTimeout(() => { this.setState({ refreshing: true }); }, 100);\r\n//         // setTimeout(() => { this.setState({ refreshing: false }); }, 3000);\r\n//     }\r\n//     render() {\r\n//         return (<div>\r\n//             <button\r\n//                 style={{ display: 'inline-block', marginBottom: 30, border: 1 }}\r\n//                 onClick={() => this.setState({ switchContainer: !this.state.switchContainer })}\r\n//             >\r\n//                 switchContainer: {this.state.switchContainer ? 'true' : 'false'}\r\n//             </button>\r\n\r\n//             {/* todos: 现在如果 getScrollContainer 变化，需要设置新 key 来触发 componentWillUnmount */}\r\n//             <PullToRefresh\r\n//                 key={this.state.switchContainer}\r\n//                 style={{ height: 200, overflow: 'auto', border: '1px solid #ccc' }}\r\n//                 {...(this.state.switchContainer ? { getScrollContainer: () => document.body } : {})}\r\n//                 className=\"forTest\"\r\n//                 direction=\"down\"\r\n//                 refreshing={this.state.refreshing}\r\n//                 onRefresh={() => {\r\n//                     this.setState({ refreshing: true });\r\n//                     setTimeout(() => {\r\n//                         this.setState({ refreshing: false });\r\n//                     }, 1000);\r\n//                 }}\r\n//                 indicator={{ deactivate: '下拉' }}\r\n//                 damping={150}\r\n//             >\r\n//                 {[1, 2, 3, 4, 5, 6, 7].map(i =>\r\n//                     <div key={i} style={{ textAlign: 'center', padding: 20 }} onClick={() => alert(1)}>item {i}</div>)}\r\n//             </PullToRefresh>\r\n\r\n//             <div dangerouslySetInnerHTML={{\r\n//                 __html: navigator.userAgent.match(/Android|iPhone|iPad|iPod/i) ?\r\n//                     '<style>#qrcode, .highlight{ display: none }</style>' : '',\r\n//             }}\r\n//             />\r\n//         </div>);\r\n//     }\r\n// }\r\n\r\n// ReactDOM.render(<App />, document.getElementById('__react-content'));","export default (text, length) => {\r\n    if (text == null) {\r\n        return \"\";\r\n    }\r\n    if (text.length <= length) {\r\n        return text;\r\n    }\r\n    text = text.substring(0, length);\r\n    return text + \"...\";\r\n};","import React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport imageConverter from '../../../utils/imageConverter';\r\nimport textAbstract from '../../../utils/textAbstract';\r\n\r\n\r\nimport styles from './Product.module.scss';\r\n\r\nconst product = ({ history, product }) => {\r\n    const { _id, price, meetupAt } = product;\r\n\r\n    const imageSrc = imageConverter(product.productImageLow.data);\r\n\r\n\r\n    return (\r\n        <div className={styles.Product} onClick={(e) => { history.push(`/products/${_id}`) }}>\r\n            <div className={styles.imageWrapper}>\r\n                <img alt=\"pic\" className={styles.Image} src={imageSrc} />\r\n                {product.sold &&\r\n                    <div className={styles.soldOut}>SOLD-OUT</div>\r\n                }\r\n            </div>\r\n            <div className={styles.TextBox}>\r\n                <div className={styles.Main}>¥ {price.toLocaleString()}</div>\r\n                <div className={styles.Sub}>{textAbstract(meetupAt, 9)}</div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default withRouter(product);","import React, { Fragment } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types'\r\nimport { clearLiked, getLiked, clearPurchased, getPurchased, clearSellings, getSellings } from '../../store/actions/mylist';\r\nimport styles from './MyList.module.scss';\r\n\r\nimport Switcher from '../UI/Switcher/Switcher';\r\nimport Scroller from '../UI/Scroller/Scroller';\r\nimport Product from '../UI/Product/Product';\r\n\r\nconst MyList = ({\r\n    match,\r\n    history,\r\n    // store\r\n    auth,\r\n    liked,\r\n    purchased,\r\n    sellings,\r\n    // actions\r\n    clearLiked,\r\n    getLiked,\r\n    clearPurchased,\r\n    getPurchased,\r\n    clearSellings,\r\n    getSellings\r\n}) => {\r\n    // Assign \"liked\", \"purchased\" or \"sellings\"\r\n    const status = match.params.status;\r\n\r\n    const buttons = [\r\n        {\r\n            text: \"Liked\",\r\n            active: status === 'liked',\r\n            onClickHandler: () => status !== \"liked\" && history.push('/mylist/liked')\r\n        },\r\n        {\r\n            text: \"Purchased\",\r\n            active: status === 'purchased',\r\n            onClickHandler: () => status !== \"purchased\" && history.push('/mylist/purchased')\r\n        },\r\n        {\r\n            text: \"Sellings\",\r\n            active: status === 'sellings',\r\n            onClickHandler: () => status !== \"sellings\" && history.push('/mylist/sellings')\r\n        }\r\n    ];\r\n\r\n\r\n    let\r\n        hasMore = true,\r\n        productArray = [],\r\n        fetchProducts = () => null,\r\n        refresh = () => null;\r\n    switch (status) {\r\n        case \"liked\":\r\n            productArray = liked.products;\r\n            hasMore = liked.hasMore;\r\n            if (auth.isAuthenticated && !liked.loading) {\r\n                fetchProducts = () => getLiked(liked.products.length);\r\n                refresh = () => clearLiked();\r\n            }\r\n            break;\r\n        case \"purchased\":\r\n            productArray = purchased.products;\r\n            hasMore = purchased.hasMore;\r\n            if (auth.isAuthenticated && !purchased.loading) {\r\n                fetchProducts = () => getPurchased(purchased.products.length);\r\n                refresh = () => clearPurchased();\r\n            }\r\n            break;\r\n        case \"sellings\":\r\n            productArray = sellings.products;\r\n            hasMore = sellings.hasMore;\r\n            if (auth.isAuthenticated && !sellings.loading) {\r\n                fetchProducts = () => getSellings(sellings.products.length);\r\n                refresh = () => clearSellings();\r\n            }\r\n            break;\r\n        default:\r\n            return <Redirect to=\"404\" />\r\n    }\r\n\r\n    const productList = productArray.map((product) => {\r\n        return <Product key={product._id} product={product} />;\r\n    });\r\n\r\n    return (\r\n        <Fragment>\r\n            <Switcher items={buttons} />\r\n            <div style={{ marginTop: \"5.5rem\" }}>\r\n                <Scroller\r\n                    onRefreshFunc={refresh}\r\n                    loadMoreFunc={fetchProducts}\r\n                    hasMore={hasMore}\r\n                >\r\n                    {\r\n                        !hasMore && productList.length === 0\r\n                            ?\r\n                            <p style={{ height: \"80vh\" }}>No product found</p>\r\n                            :\r\n                            <div className={styles.items}>\r\n                                {productList}\r\n                            </div>\r\n                    }\r\n                </Scroller>\r\n            </div>\r\n        </Fragment>\r\n    );\r\n}\r\n\r\nMyList.propTypes = {\r\n    liked: PropTypes.object.isRequired,\r\n    clearLiked: PropTypes.func.isRequired,\r\n    getLiked: PropTypes.func.isRequired,\r\n    clearPurchased: PropTypes.func.isRequired,\r\n    getPurchased: PropTypes.func.isRequired,\r\n    clearSellings: PropTypes.func.isRequired,\r\n    getSellings: PropTypes.func.isRequired,\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    liked: state.mylist.liked,\r\n    purchased: state.mylist.purchased,\r\n    sellings: state.mylist.sellings,\r\n    auth: state.auth,\r\n});\r\n\r\nexport default connect(mapStateToProps, { clearLiked, getLiked, clearPurchased, getPurchased, clearSellings, getSellings })(MyList)\r\n","import axios from '../../axios';\r\n\r\nimport {\r\n    GET_LIKED_START,\r\n    GET_LIKED_SUCCESS,\r\n    GET_LIKED_FAIL,\r\n    GET_PURCHASED_START,\r\n    GET_PURCHASED_SUCCESS,\r\n    GET_PURCHASED_FAIL,\r\n    GET_SELLINGS_START,\r\n    GET_SELLINGS_SUCCESS,\r\n    GET_SELLINGS_FAIL,\r\n    CLEAR_LIKED,\r\n    CLEAR_PURCHASED,\r\n    CLEAR_SELLINGS,\r\n} from './actionType.js';\r\nimport { setAlert } from './alert';\r\n\r\nconst limit = 10;\r\n\r\nexport const getLiked = (skip = 0) => async dispatch => {\r\n    dispatch({\r\n        type: GET_LIKED_START,\r\n    });\r\n\r\n    try {\r\n        const res = await axios.get(`/api/products?limit=${limit}&skip=${skip}&liked=true`);\r\n        const hasMore = res.data.length >= limit;\r\n\r\n        dispatch({\r\n            type: GET_LIKED_SUCCESS,\r\n            payload: {\r\n                products: res.data,\r\n                hasMore,\r\n            }\r\n        });\r\n    } catch (err) {\r\n        dispatch(setAlert(err.response.data.message, \"danger\"));\r\n        dispatch({\r\n            type: GET_LIKED_FAIL,\r\n        });\r\n    }\r\n};\r\nexport const getPurchased = (skip = 0) => async dispatch => {\r\n    dispatch({\r\n        type: GET_PURCHASED_START,\r\n    });\r\n\r\n    try {\r\n        const res = await axios.get(`/api/products?limit=${limit}&skip=${skip}&purchased=true`);\r\n        const hasMore = res.data.length >= limit;\r\n\r\n        dispatch({\r\n            type: GET_PURCHASED_SUCCESS,\r\n            payload: {\r\n                products: res.data,\r\n                hasMore,\r\n            }\r\n        });\r\n    } catch (err) {\r\n        dispatch(setAlert(err.response.data.message, \"danger\"));\r\n        dispatch({\r\n            type: GET_PURCHASED_FAIL,\r\n        });\r\n    }\r\n};\r\nexport const getSellings = (skip = 0) => async dispatch => {\r\n    dispatch({\r\n        type: GET_SELLINGS_START,\r\n    });\r\n\r\n    try {\r\n        const res = await axios.get(`/api/products?limit=${limit}&skip=${skip}&sellings=true`);\r\n        const hasMore = res.data.length >= limit;\r\n\r\n        dispatch({\r\n            type: GET_SELLINGS_SUCCESS,\r\n            payload: {\r\n                products: res.data,\r\n                hasMore,\r\n            }\r\n        });\r\n    } catch (err) {\r\n        dispatch(setAlert(err.response.data.message, \"danger\"));\r\n        dispatch({\r\n            type: GET_SELLINGS_FAIL,\r\n        });\r\n    }\r\n};\r\n\r\nexport const clearLiked = () => async dispatch => {\r\n    dispatch({\r\n        type: CLEAR_LIKED,\r\n    });\r\n};\r\nexport const clearPurchased = () => async dispatch => {\r\n    dispatch({\r\n        type: CLEAR_PURCHASED,\r\n    });\r\n};\r\nexport const clearSellings = () => async dispatch => {\r\n    dispatch({\r\n        type: CLEAR_SELLINGS,\r\n    });\r\n};","import React from 'react'\r\nimport classes from './Input.module.scss';\r\n\r\nconst Input = ({\r\n    id,\r\n    type,\r\n    placeholder,\r\n    value = \"\",\r\n    onChange,\r\n    name,\r\n    required = false,\r\n    className,\r\n    style,\r\n    children\r\n}) => {\r\n    let input;\r\n    if (type === \"textarea\") {\r\n        input = (<textarea\r\n            placeholder={placeholder}\r\n            value={value}\r\n            onChange={onChange}\r\n            name={name}\r\n            required={required}\r\n            className={[classes.Textarea, className].join(\" \")}\r\n            style={style}\r\n        />);\r\n\r\n    } else if (type === \"select\") {\r\n        input = (<select\r\n            value={value}\r\n            onChange={onChange}\r\n            name={name}\r\n            required={required}\r\n            className={[classes.Input, className].join(\" \")}\r\n            style={style}\r\n        >{children}</select>);\r\n    } else {\r\n        input = (<input\r\n            type={type}\r\n            placeholder={placeholder}\r\n            value={value}\r\n            onChange={onChange}\r\n            name={name}\r\n            required={required}\r\n            className={[classes.Input, className].join(\" \")}\r\n            style={style}\r\n        />);\r\n    }\r\n\r\n    return input;\r\n}\r\n\r\nexport default Input;\r\n","import React, {useState, useEffect} from 'react'\r\nimport {connect} from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './AuthForm.module.scss';\r\n\r\n// Actions\r\nimport { setAlert } from '../../../store/actions/alert';\r\nimport { register, login } from '../../../store/actions/auth';\r\n\r\n// Components\r\nimport Input from '../../UI/Input/Input';\r\nimport Button from '../../UI/Button/Button';\r\n\r\n\r\nconst AuthForm = ({\r\n    isSignup,\r\n    // Actions\r\n    setAlert,\r\n    register,\r\n    login\r\n}) => {\r\n    // State\r\n    const [formData, setFormData] = useState({\r\n        name: \"\",\r\n        email: \"\",\r\n        password: \"\",\r\n        password2: \"\"\r\n    });\r\n\r\n    useEffect((prevState) => {\r\n        setFormData(() => ({\r\n            name: \"\",\r\n            email: \"\",\r\n            password: \"\",\r\n            password2: \"\",\r\n        }));\r\n    }, [isSignup]);\r\n\r\n\r\n    const onChange = (e) => {\r\n        e.preventDefault();\r\n        e.persist();\r\n\r\n        setFormData((prevState) => ({\r\n            ...prevState,\r\n            [e.target.name]: e.target.value\r\n        }));\r\n    };\r\n\r\n\r\n    const onSubmit = (e) => {\r\n        e.preventDefault();\r\n        const { name, email, password, password2 } = formData;\r\n\r\n        if (isSignup) { // SignUp\r\n            if (password !== password2) {\r\n                setAlert(\"password do not much\", \"danger\");\r\n            } else {\r\n                register({ name, email, password });\r\n            }\r\n        } else { // Login\r\n            login({ email, password });\r\n        }\r\n    }\r\n\r\n    return (\r\n        <form onSubmit={onSubmit} className={styles.AuthForm}>\r\n            {isSignup && (\r\n                <Input\r\n                    type=\"text\"\r\n                    placeholder=\"Username\"\r\n                    value={formData.name}\r\n                    onChange={e => onChange(e)}\r\n                    name=\"name\"\r\n                    required\r\n                />\r\n            )}\r\n            <Input\r\n                type=\"email\"\r\n                placeholder=\"Email\"\r\n                value={formData.email}\r\n                onChange={onChange}\r\n                name=\"email\"\r\n                required\r\n            />\r\n            <Input\r\n                type=\"password\"\r\n                placeholder=\"Password\"\r\n                value={formData.password}\r\n                onChange={onChange}\r\n                name=\"password\"\r\n                required\r\n            />\r\n            {isSignup &&\r\n                <Input\r\n                    type=\"password\"\r\n                    placeholder=\"Comfirm Password\"\r\n                    value={formData.password2}\r\n                    onChange={onChange}\r\n                    name=\"password2\"\r\n                    required\r\n                />\r\n            }\r\n            <Button btnType=\"color-primary\">{isSignup ? \"Signup\" : \"Login\"}</Button>\r\n        </form>\r\n    )\r\n}\r\n\r\nAuthForm.propTypes = {\r\n    setAlert: PropTypes.func.isRequired,\r\n    register: PropTypes.func.isRequired,\r\n    login: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default connect(null, {setAlert, login, register})(AuthForm);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './FormTypeChanger.module.scss';\r\n\r\nconst FormTypeChanger = ({isSignup, onChangeFormType}) => {\r\n\r\n    // Default style\r\n    const signupButtonClass = [styles.onSignupChange];\r\n    const loginButtonClass = [styles.onLoginChange];\r\n    \r\n    // Add active style\r\n    if (isSignup) {\r\n        signupButtonClass.push(styles.active);\r\n    } else {\r\n        loginButtonClass.push(styles.active);\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <button\r\n                className={signupButtonClass.join(\" \")}\r\n                onClick={() => onChangeFormType(true)}\r\n                >Signup\r\n            </button>\r\n            <button\r\n                className={loginButtonClass.join(\" \")}\r\n                onClick={() => onChangeFormType(false)}\r\n                >Login\r\n            </button>\r\n        </div>\r\n    )\r\n}\r\n\r\nFormTypeChanger.propTypes = {\r\n    isSignup: PropTypes.bool.isRequired\r\n};\r\n\r\nexport default FormTypeChanger;\r\n","import React, { useState, Fragment } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport {connect} from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Auth.module.scss';\r\n\r\n// Components\r\nimport Spinner from '../UI/Spinner/Spinner';\r\nimport AuthFrom from './AuthForm/AuthForm';\r\nimport FormTypeChanger from './FormTypeChanger/FormTypeChanger';\r\n\r\n\r\nconst Auth = ({auth: {isAuthenticated, loading}}) => {\r\n    const [isSignup, setIsSignup] = useState(true);\r\n    \r\n    const onChangeFormType = (boolean) => {\r\n        boolean !== isSignup && setIsSignup(boolean)\r\n    }\r\n    \r\n    // Redirect authenticated user\r\n    if (isAuthenticated) {\r\n        return <Redirect to=\"/\" />;\r\n    };\r\n\r\n    const form = (\r\n        <Fragment>\r\n            <FormTypeChanger isSignup={isSignup} onChangeFormType={onChangeFormType} />\r\n            <AuthFrom isSignup={isSignup} />\r\n        </Fragment>\r\n    );\r\n\r\n    return (\r\n        <div className={styles.Auth}>\r\n            { loading ? <Spinner style={{margin: \"2rem\"}} /> : form}\r\n        </div>\r\n    );\r\n};\r\n\r\nAuth.propTypes = {\r\n    auth: PropTypes.object.isRequired\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    auth: state.auth\r\n});\r\n\r\nexport default connect(mapStateToProps, null)(Auth);","import axios from '../../axios';\r\n\r\nimport {\r\n    SET_PRODUCT_START,\r\n    SET_PRODUCT_SUCCESS,\r\n    SET_PRODUCT_FAIL,\r\n\r\n    EDIT_PRODUCT_START,\r\n    EDIT_PRODUCT_SUCCESS,\r\n    EDIT_PRODUCT_FAIL,\r\n\r\n    GET_PRODUCTS_START,\r\n    GET_PRODUCTS_SUCCESS,\r\n    GET_PRODUCTS_FAIL,\r\n\r\n    REFRESH_PRODUCTS,\r\n\r\n    GET_PRODUCT_START,\r\n    GET_PRODUCT_SUCCESS,\r\n    GET_PRODUCT_FAIL,\r\n\r\n    DELETE_PRODUCT_START,\r\n    DELETE_PRODUCT_SUCCESS,\r\n    DELETE_PRODUCT_FAIL,\r\n\r\n    ADD_COMMENT_START,\r\n    ADD_COMMENT_SUCCESS,\r\n    ADD_COMMENT_FAIL,\r\n\r\n    SET_LIKE_START,\r\n    SET_LIKE_SUCCESS,\r\n    SET_LIKE_FAIL,\r\n\r\n    SET_UNLIKE_START,\r\n    SET_UNLIKE_SUCCESS,\r\n    SET_UNLIKE_FAIL,\r\n\r\n    PURCHASE_START,\r\n    PURCHASE_SUCCESS,\r\n    PURCHASE_FAIL,\r\n\r\n    CANCEL_START,\r\n    CANCEL_SUCCESS,\r\n    CANCEL_FAIL,\r\n\r\n    REJECT_START,\r\n    REJECT_SUCCESS,\r\n    REJECT_FAIL,\r\n} from './actionType.js';\r\nimport { setAlert } from './alert';\r\n\r\nexport const createProduct = (formData) => async dispatch => {\r\n    dispatch({\r\n        type: SET_PRODUCT_START\r\n    });\r\n\r\n    const config = {\r\n        headers: {\r\n            'Content-Type': 'multipart/form-data'\r\n        }\r\n    }\r\n\r\n\r\n    try {\r\n        const res = await axios.post('/api/products', formData, config);\r\n\r\n        dispatch(setAlert(\"Added Product\", \"success\"));\r\n        dispatch({\r\n            type: SET_PRODUCT_SUCCESS,\r\n            payload: res.data\r\n        });\r\n    } catch (err) {\r\n        dispatch(setAlert(err.response.data.message, \"danger\"));\r\n        dispatch({\r\n            type: SET_PRODUCT_FAIL\r\n        });\r\n    }\r\n};\r\n\r\n\r\nexport const editProduct = (productId, formData) => async dispatch => {\r\n    dispatch({\r\n        type: EDIT_PRODUCT_START\r\n    });\r\n\r\n    const config = {\r\n        headers: {\r\n            'Content-Type': 'multipart/form-data'\r\n        }\r\n    }\r\n\r\n    try {\r\n        const res = await axios.put(`/api/products/${productId}`, formData, config);\r\n\r\n        dispatch(setAlert(\"Edited Product\", \"success\"));\r\n        dispatch({\r\n            type: EDIT_PRODUCT_SUCCESS,\r\n            payload: res.data\r\n        });\r\n    } catch (err) {\r\n        dispatch(setAlert(err.response.data.message, \"danger\"));\r\n        dispatch({\r\n            type: EDIT_PRODUCT_FAIL\r\n        });\r\n    }\r\n};\r\n\r\n\r\nexport const getProducts = ({ skip = 0, limit = 15, search = null, category = null }) => async dispatch => {\r\n    dispatch({\r\n        type: GET_PRODUCTS_START\r\n    });\r\n    let queries = [];\r\n    queries.push(`limit=${limit}`);\r\n    queries.push(`skip=${skip}`);\r\n    if (search) queries.push(`search=${search}`);\r\n    if (category) queries.push(`category=${category}`);\r\n\r\n    try {\r\n        const res = await axios.get(`/api/products?${queries.join('&')}`);\r\n        const hasMore = res.data.length === limit;\r\n        dispatch({\r\n            type: GET_PRODUCTS_SUCCESS,\r\n            payload: {\r\n                products: res.data,\r\n                hasMore\r\n            }\r\n        });\r\n    } catch (err) {\r\n        dispatch(setAlert(err.response.data.message, \"danger\"));\r\n        dispatch({\r\n            type: GET_PRODUCTS_FAIL\r\n        });\r\n    }\r\n};\r\n\r\nexport const refreshProducts = () => async dispatch => {\r\n    dispatch({\r\n        type: REFRESH_PRODUCTS\r\n    });\r\n};\r\n\r\n\r\nexport const getProduct = (productId) => async dispatch => {\r\n    dispatch({\r\n        type: GET_PRODUCT_START,\r\n        payload: productId\r\n    });\r\n\r\n    try {\r\n        const res = await axios.get(`/api/products/${productId}`);\r\n\r\n        dispatch({\r\n            type: GET_PRODUCT_SUCCESS,\r\n            payload: res.data\r\n        });\r\n    } catch (err) {\r\n        dispatch(setAlert(err.response.data.message, \"danger\"));\r\n        dispatch({\r\n            type: GET_PRODUCT_FAIL\r\n        });\r\n    }\r\n};\r\n\r\nexport const deleteProduct = (productId) => async dispatch => {\r\n    dispatch({\r\n        type: DELETE_PRODUCT_START\r\n    });\r\n\r\n    try {\r\n        await axios.delete(`/api/products/${productId}`);\r\n\r\n        dispatch({\r\n            type: DELETE_PRODUCT_SUCCESS,\r\n            payload: productId\r\n        });\r\n        dispatch(setAlert(\"Product deleted\", \"success\"));\r\n    } catch (err) {\r\n        dispatch(setAlert(err.response.data.message, \"danger\"));\r\n        dispatch({\r\n            type: DELETE_PRODUCT_FAIL\r\n        });\r\n    }\r\n};\r\n\r\nexport const addComment = (productId, text) => async dispatch => {\r\n    dispatch({\r\n        type: ADD_COMMENT_START\r\n    });\r\n\r\n    try {\r\n        const res = await axios.post(`/api/products/comment/${productId}`, { text });\r\n\r\n        dispatch(setAlert(\"Added Comment\", \"success\"));\r\n        dispatch({\r\n            type: ADD_COMMENT_SUCCESS,\r\n            payload: res.data\r\n        });\r\n    } catch (err) {\r\n        dispatch(setAlert(err.response.data.message, \"danger\"));\r\n        dispatch({\r\n            type: ADD_COMMENT_FAIL\r\n        });\r\n    }\r\n};\r\n\r\nexport const setLike = (productId) => async dispatch => {\r\n    dispatch({\r\n        type: SET_LIKE_START\r\n    });\r\n\r\n    try {\r\n        const res = await axios.put(`/api/products/like/${productId}`);\r\n        dispatch({\r\n            type: SET_LIKE_SUCCESS,\r\n            payload: res.data\r\n        });\r\n    } catch (err) {\r\n        dispatch(setAlert(err.response.data.message, \"danger\"));\r\n        dispatch({\r\n            type: SET_LIKE_FAIL\r\n        });\r\n    }\r\n};\r\nexport const setUnlike = (productId) => async dispatch => {\r\n    dispatch({\r\n        type: SET_UNLIKE_START\r\n    });\r\n\r\n    try {\r\n        const res = await axios.put(`/api/products/unlike/${productId}`);\r\n        dispatch({\r\n            type: SET_UNLIKE_SUCCESS,\r\n            payload: res.data\r\n        });\r\n    } catch (err) {\r\n        dispatch(setAlert(err.response.data.message, \"danger\"));\r\n        dispatch({\r\n            type: SET_UNLIKE_FAIL\r\n        });\r\n    }\r\n};\r\n\r\nexport const purchaseProduct = (productId) => async dispatch => {\r\n    dispatch({\r\n        type: PURCHASE_START\r\n    });\r\n\r\n    try {\r\n        const res = await axios.put(`/api/products/purchase/${productId}`);\r\n        dispatch({\r\n            type: PURCHASE_SUCCESS,\r\n            payload: res.data\r\n        });\r\n    } catch (err) {\r\n        dispatch(setAlert(err.response.data.message, \"danger\"));\r\n        dispatch({\r\n            type: PURCHASE_FAIL\r\n        });\r\n    }\r\n};\r\n\r\nexport const cancelProduct = (productId) => async dispatch => {\r\n    dispatch({\r\n        type: CANCEL_START\r\n    });\r\n\r\n    try {\r\n        const res = await axios.put(`/api/products/cancel/${productId}`);\r\n        dispatch({\r\n            type: CANCEL_SUCCESS,\r\n            payload: res.data\r\n        });\r\n    } catch (err) {\r\n        dispatch(setAlert(err.response.data.message, \"danger\"));\r\n        dispatch({\r\n            type: CANCEL_FAIL\r\n        });\r\n    }\r\n};\r\n\r\nexport const rejectProduct = (productId) => async dispatch => {\r\n    dispatch({\r\n        type: REJECT_START\r\n    });\r\n\r\n    try {\r\n        const res = await axios.put(`/api/products/reject/${productId}`);\r\n        dispatch({\r\n            type: REJECT_SUCCESS,\r\n            payload: res.data\r\n        });\r\n    } catch (err) {\r\n        dispatch(setAlert(err.response.data.message, \"danger\"));\r\n        dispatch({\r\n            type: REJECT_FAIL\r\n        });\r\n    }\r\n};","import React, { Fragment, useState } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport styles from './Search.module.scss';\r\nimport { GoSearch } from 'react-icons/go'\r\nimport { IoMdArrowRoundBack, IoIosClose } from 'react-icons/io'\r\n\r\nconst Search = ({ search, category, setSearch, setCategory, onSubmit }) => {\r\n    const [show, setShow] = useState(false);\r\n    let searchInput = React.createRef();\r\n\r\n    const onShowHandler = () => {\r\n        setShow(true);\r\n        searchInput.current.readOnly = false;\r\n        searchInput.current.focus();\r\n    };\r\n\r\n    const clearInput = () => {\r\n        setSearch(() => \"\");\r\n    };\r\n\r\n    const onCloseHandler = () => {\r\n        setShow(false);\r\n        searchInput.current.readOnly = true;\r\n        searchInput.current.blur();\r\n    };\r\n\r\n    const onSearchChange = (e) => {\r\n        e.persist();\r\n        setSearch(() => e.target.value);\r\n    }\r\n\r\n    const onCategoryClick = (e) => {\r\n        const selectedCategory = e.target.getAttribute(\"category\");\r\n        setCategory(() => selectedCategory);\r\n        setShow(false);\r\n        onSubmit();\r\n    }\r\n\r\n    const onSubmitHandler = (e) => {\r\n        e.preventDefault();\r\n        onCloseHandler();\r\n        onSubmit();\r\n    };\r\n\r\n    const categories = [\r\n        { value: \"\", text: \"All\" },\r\n        { value: \"Home\", text: \"Home\" },\r\n        { value: \"Academic\", text: \"Academic\" },\r\n        { value: \"Ticket\", text: \"Ticket\" },\r\n        { value: \"Electronics\", text: \"Electronics\" },\r\n        { value: \"Women\", text: \"Women\" },\r\n        { value: \"Men\", text: \"Men\" },\r\n        { value: \"Other\", text: \"Other\" },\r\n    ];\r\n\r\n    const categoryList = categories.map((el) => (\r\n        <li\r\n            key={el.text}\r\n            onClick={onCategoryClick}\r\n            className={\r\n                category === el.value\r\n                    ? [styles.category, styles.categoryActive].join(\" \")\r\n                    : styles.category\r\n            }\r\n            category={el.value}>\r\n            {el.text}\r\n        </li>\r\n    ));\r\n\r\n    let unfocusedSearchInput = \"\";\r\n    if (category && search) unfocusedSearchInput = [category, search].join(\" ・ \")\r\n    else if (category) unfocusedSearchInput = category\r\n    else if (search) unfocusedSearchInput = search\r\n\r\n\r\n    return (\r\n        <div className={styles.Search}>\r\n            <div className={styles.topBox} onClick={!show ? onShowHandler : () => { }}>\r\n                {show &&\r\n                    <IoMdArrowRoundBack\r\n                        className={styles.backIcon}\r\n                        onClick={onCloseHandler} />\r\n                }\r\n                <form onSubmit={onSubmitHandler} className={styles.searchInputContainer}>\r\n                    <input\r\n                        className={styles.searchInput}\r\n                        type=\"text\"\r\n                        placeholder=\"Search\"\r\n                        value={show\r\n                            ? search\r\n                            : unfocusedSearchInput\r\n                        }\r\n                        onChange={onSearchChange}\r\n                        ref={searchInput}\r\n                        readOnly\r\n                    />\r\n                    {show && <IoIosClose className={styles.searchInputClear} onClick={clearInput} />}\r\n                </form>\r\n                <GoSearch className={styles.searchIcon} onClick={onSubmitHandler} />\r\n            </div>\r\n            {show &&\r\n                <Fragment>\r\n                    <ul className={styles.categories}>\r\n                        {categoryList}\r\n                    </ul>\r\n                    <div className={styles.backdrop} onClick={onCloseHandler}>\r\n                    </div>\r\n                </Fragment>\r\n            }\r\n        </div >\r\n    )\r\n}\r\n\r\nSearch.propTypes = {\r\n    search: PropTypes.string.isRequired,\r\n    category: PropTypes.string.isRequired,\r\n    setSearch: PropTypes.func.isRequired,\r\n    setCategory: PropTypes.func.isRequired,\r\n    onSubmit: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default Search\r\n","import React, { useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport { getProducts, refreshProducts } from '../../store/actions/product';\r\n\r\n\r\nimport Product from '../UI/Product/Product';\r\nimport Scroller from '../UI/Scroller/Scroller';\r\nimport Search from './Search/Search';\r\nimport styles from './Products.module.scss';\r\n\r\n\r\nconst Products = ({ getProducts, refreshProducts, product: { products, hasMore, loading } }) => {\r\n    const [search, setSearch] = useState(\"\");\r\n    const [category, setCategory] = useState(\"\");\r\n\r\n    const onSubmit = () => {\r\n        refresh();\r\n    };\r\n\r\n    const loadMore = () => {\r\n        if (!loading.getProducts) {\r\n            getProducts({\r\n                skip: products.length,\r\n                limit: 10,\r\n                search: search,\r\n                category: category\r\n            })\r\n        }\r\n    };\r\n    const refresh = () => !loading.getProducts && refreshProducts();\r\n\r\n    const productList = products.map((singleProduct) => {\r\n        return <Product key={singleProduct._id} product={singleProduct} />;\r\n    });\r\n\r\n    return (\r\n        <div>\r\n            <Search\r\n                search={search}\r\n                category={category}\r\n                setSearch={setSearch}\r\n                setCategory={setCategory}\r\n                onSubmit={onSubmit}\r\n            />\r\n            <Scroller\r\n                onRefreshFunc={refresh}\r\n                loadMoreFunc={loadMore}\r\n                hasMore={hasMore}\r\n            >\r\n                <div className={styles.Products}>\r\n                    {productList}\r\n                </div>\r\n            </Scroller>\r\n        </div>\r\n    );\r\n};\r\n\r\nProducts.propTypes = {\r\n    product: PropTypes.object.isRequired,\r\n    getProducts: PropTypes.func.isRequired,\r\n    refreshProducts: PropTypes.func.isRequired\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n    product: state.product\r\n});\r\n\r\nexport default connect(mapStateToProps, { getProducts, refreshProducts })(Products);","import { useEffect } from \"react\";\r\n\r\nexport default function ScrollToTopOnMount() {\r\n    useEffect(() => {\r\n        window.scrollTo(0, 0);\r\n    }, []);\r\n\r\n    return null;\r\n}\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport styles from './BottomBar.module.scss';\r\n\r\nconst BottomBar = ({ text, buttonText, onButtonClick }) => {\r\n    return (\r\n        <div className={styles.BottomBar}>\r\n            <div className={styles.text}>{text}</div>\r\n            <button\r\n                className={styles.button}\r\n                onClick={onButtonClick}\r\n            >{buttonText}\r\n            </button>\r\n        </div>\r\n    )\r\n}\r\n\r\nBottomBar.propTypes = {\r\n    text: PropTypes.string,\r\n    onButtonClick: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default BottomBar;\r\n","import React from 'react'\r\nimport { withRouter } from 'react-router-dom';\r\nimport styles from './TopBar.module.scss';\r\nimport { IoIosArrowBack } from 'react-icons/io';\r\n\r\nconst TopBar = ({ children, history }) => {\r\n    return (\r\n        <div className={styles.TopBar}>\r\n            <div\r\n                className={styles.GoBack}\r\n                onClick={e => history.goBack()}\r\n            >\r\n                <IoIosArrowBack />\r\n            </div>\r\n            {children}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(TopBar);\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types';\r\nimport { IoIosHeartEmpty, IoIosHeart } from 'react-icons/io';\r\nimport styles from './LikeButton.module.scss';\r\nimport Spinner from '../Spinner/Spinner';\r\n\r\nconst LikeButton = ({\r\n    spinnerSize = 35,\r\n    onClick,\r\n    isLiked,\r\n    loading = false\r\n}) => {\r\n    if (loading) return <Spinner style={{ margin: 0 }} size={spinnerSize} color=\"pink\" />;\r\n\r\n    return (\r\n        <button className={styles.likeButton} onClick={(e) => onClick()} >\r\n            { isLiked \r\n                ? <IoIosHeart className={styles.Like}/>\r\n                : <IoIosHeartEmpty className={styles.Unlike} />\r\n            }\r\n        </button>\r\n    );\r\n}\r\n\r\nLikeButton.propTypes = {\r\n    onClick: PropTypes.func.isRequired,\r\n    isLiked: PropTypes.bool.isRequired,\r\n    spinnerSize: PropTypes.number,\r\n}\r\n\r\nexport default LikeButton;\r\n","import React, { Fragment } from 'react'\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport PropTypes from 'prop-types'\r\nimport { deleteProduct, setLike, setUnlike } from '../../../store/actions/product';\r\nimport styles from './TopBar.module.scss';\r\n\r\nimport UITopBar from '../../UI/TopBar/TopBar';\r\nimport Button from '../../UI/Button/Button';\r\nimport LikeButton from '../../UI/LikeButton/LikeButton';\r\n\r\nconst TopBar = ({\r\n    history,\r\n    match,\r\n    // store    \r\n    auth,\r\n    product,\r\n    loadingLike,\r\n    // actions\r\n    deleteProduct,\r\n    setLike,\r\n    setUnlike,\r\n}) => {\r\n    let isLiked = false;\r\n    if (auth.isAuthenticated && product) { // set product before didmount to remove \"&& product\"\r\n        isLiked = !!product.likes.find((like) => {\r\n            return like === auth.user._id;\r\n        });\r\n    }\r\n    const onLikeButtonClicked = () => {\r\n        if (!auth.isAuthenticated) {\r\n            return history.push('/auth');\r\n        }\r\n        isLiked ? setUnlike(match.params.id) : setLike(match.params.id);\r\n    }\r\n\r\n    const onEditButtonClicked = () => {\r\n        history.push(`/edit/${product._id}`)\r\n    };\r\n\r\n    const onDeleteButtonClicked = () => {\r\n        deleteProduct(match.params.id);\r\n        history.push('/products');\r\n    };\r\n\r\n    return (\r\n        <UITopBar>\r\n            <div className={styles.items}>\r\n                {auth.isAuthenticated && auth.user._id === product.user && product.sold === false && (\r\n                    <Fragment>\r\n                        <Button\r\n                            btnType=\"color-orange size-sm\"\r\n                            onClick={onEditButtonClicked}\r\n                        >Edit\r\n                        </Button>\r\n                        <Button\r\n                            btnType=\"color-danger size-sm\"\r\n                            onClick={onDeleteButtonClicked}\r\n                        >Delete\r\n                        </Button>\r\n                    </Fragment>)\r\n                }\r\n                <LikeButton\r\n                    loading={loadingLike}\r\n                    onClick={() => onLikeButtonClicked()}\r\n                    isLiked={isLiked}\r\n                />\r\n            </div>\r\n        </UITopBar>\r\n    )\r\n}\r\n\r\nTopBar.propTypes = {\r\n    product: PropTypes.object,\r\n    loadingLike: PropTypes.bool.isRequired,\r\n    auth: PropTypes.object,\r\n    deleteProduct: PropTypes.func.isRequired,\r\n    setLike: PropTypes.func.isRequired,\r\n    setUnlike: PropTypes.func.isRequired,\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    product: state.product.product,\r\n    loadingLike: state.product.loading.likes,\r\n    auth: state.auth\r\n});\r\n\r\nexport default connect(mapStateToProps, { deleteProduct, setLike, setUnlike })(withRouter(TopBar));\r\n","import React, { Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './TextToJSX.module.scss';\r\n\r\n\r\nconst TextToJSX = ({\r\n    children,\r\n    style,\r\n    className\r\n}) => {\r\n    const appliedClasses = [styles.line, className].join(\" \");\r\n    const paragraphArray = children.split(\"\\n\");\r\n    const len = paragraphArray.len;\r\n    const paragraphsJSX = children.split(\"\\n\").map((line, i) => (\r\n        <Fragment key={i}>\r\n            <span\r\n                style={style}\r\n                className={appliedClasses}\r\n            >{line}\r\n            </span>\r\n            {i !== len - 1 && <br />}\r\n        </Fragment>\r\n    ));\r\n\r\n    return paragraphsJSX;\r\n};\r\n\r\nTextToJSX.propTypes = ({\r\n    children: PropTypes.string.isRequired,\r\n});\r\n\r\nexport default TextToJSX;\r\n","import React, { Fragment } from 'react'\r\nimport { withRouter } from 'react-router-dom';\r\nimport PropTypes from 'prop-types'\r\nimport imageConverter from '../../../utils/imageConverter';\r\nimport styles from './UserInfo.module.scss';\r\n\r\nimport PictureRadius from '../Pictures/PictureRadius/PictureRadius';\r\n\r\n\r\nconst UserInfo = ({\r\n    title = null,\r\n    name,\r\n    avatar,\r\n    userId,\r\n    history,\r\n\r\n    // styles\r\n    imageSize = \"3rem\",\r\n    imageLeft = true,\r\n    fontSize = \"1.4rem\",\r\n    color = \"inherit\",\r\n    fontWeight = \"bold\",\r\n    marginBetween = \"1.5rem\",\r\n    style\r\n}) => {\r\n    const avatarSrc = avatar\r\n        ? imageConverter(avatar.data)\r\n        : imageConverter(null);\r\n\r\n    const marginForName = imageLeft ? { marginLeft: marginBetween } : { marginRight: marginBetween };\r\n    const picture = <PictureRadius\r\n        alt=\"Profile Picture\"\r\n        src={avatarSrc}\r\n        size={imageSize}\r\n        className={styles.UserPicture}\r\n    />;\r\n    const nameDiv =\r\n        <div\r\n            style={{\r\n                ...marginForName,\r\n                fontSize,\r\n                fontWeight,\r\n                color\r\n            }}\r\n        >{title && <span style={{ fontWeight: \"normal\" }}>{`${title} `}</span>}{name}\r\n        </div>;\r\n\r\n    return (\r\n        <div className={[styles.User, style].join(\" \")} onClick={userId ? () => history.push(`/profile/${userId}`) : () => null}>\r\n            {\r\n                imageLeft\r\n                    ? <Fragment>{picture}{nameDiv}</Fragment>\r\n                    : <Fragment>{nameDiv}{picture}</Fragment>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nUserInfo.propTypes = {\r\n    name: PropTypes.string.isRequired,\r\n    userId: PropTypes.string,\r\n\r\n    // styles\r\n    imageSize: PropTypes.string,\r\n    imageLeft: PropTypes.bool,\r\n    fontSize: PropTypes.string,\r\n    color: PropTypes.string,\r\n    fontWeight: PropTypes.string,\r\n    marginBetween: PropTypes.string\r\n};\r\n\r\nexport default withRouter(UserInfo);\r\n","import React from 'react'\r\nimport styles from './Comment.module.scss';\r\nimport TextToJSX from '../../UI/TextToJSX/TextToJSX';\r\nimport UserInfo from '../../UI/UserInfo/UserInfo'\r\n\r\nconst Comment = ({ comment }) => {\r\n    return (\r\n        <div className={styles.Comment}>\r\n            <UserInfo name={comment.name} avatar={comment.avatar} userId={comment.user} />\r\n            <div className={styles.Text}>\r\n                <TextToJSX>{comment.text}</TextToJSX>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Comment;\r\n","import React, { useState, useEffect, Fragment } from 'react'\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport { addComment } from '../../../store/actions/product';\r\n\r\nimport styles from './Comments.module.scss';\r\nimport Comment from '../Comment/Comment';\r\nimport Button from '../../UI/Button/Button';\r\nimport Spinner from '../../UI/Spinner/Spinner';\r\n\r\nconst Comments = ({ addComment, auth, comments, history, match, loading }) => {\r\n    const [newComment, setNewComment] = useState(\"\");\r\n\r\n    useEffect(() => {\r\n        setNewComment(() => \"\");\r\n    }, [comments]);\r\n\r\n    return (\r\n        <Fragment>\r\n            <h3 className={styles.Header}>Comments</h3>\r\n            <div className={styles.Comments}>\r\n                {comments.length === 0 && <p>No Comment yet</p>}\r\n                {comments.map(comment => <Comment key={comment._id} comment={comment} />)}\r\n                <textarea\r\n                    className={styles.Textarea}\r\n                    placeholder=\"New comment here\"\r\n                    value={newComment}\r\n                    onChange={(e) => {\r\n                        e.persist();\r\n                        setNewComment(() => e.target.value);\r\n                    }}\r\n                ></textarea>\r\n                <Button\r\n                    btnType=\"color-primary\"\r\n                    className={styles.button}\r\n                    onClick={e => {\r\n                        if (!auth.isAuthenticated) {\r\n                            history.push('/auth');\r\n                        }\r\n                        else if (newComment === \"\") {\r\n                            console.log(\"Comment needed\") //@@@ todo\r\n                        } else {\r\n                            addComment(match.params.id, newComment);\r\n                        }\r\n                    }}\r\n                >{loading\r\n                    ? <Spinner size={15} style={{ margin: 0 }} color=\"white\" ></Spinner>\r\n                    : \"SEND\"}\r\n                </Button>\r\n            </div>\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nComments.propTypes = {\r\n    comments: PropTypes.array,\r\n    auth: PropTypes.object,\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    comments: state.product.product.comments,\r\n    loading: state.product.loading.comments,\r\n    auth: state.auth,\r\n    addComment: PropTypes.func.isRequired,\r\n});\r\n\r\nexport default connect(mapStateToProps, { addComment })(withRouter(Comments));\r\n","import React, { Fragment } from 'react'\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport imageConverter from '../../../utils/imageConverter';\r\nimport styles from './Main.module.scss';\r\nimport { IoIosArrowForward } from 'react-icons/io';\r\n\r\nimport Comments from '../Comments/Comments';\r\nimport UserInfo from '../../UI/UserInfo/UserInfo';\r\n\r\nconst Main = ({\r\n    history,\r\n    product: {\r\n        productImage,\r\n        productImageLow,\r\n        avatar,\r\n        name,\r\n        description,\r\n        meetupAt,\r\n        title,\r\n        user,\r\n        purchaser\r\n    }\r\n}) => {\r\n    const imageSrc = productImage\r\n        ? imageConverter(productImage.data)\r\n        : imageConverter(productImageLow.data);\r\n\r\n    return (\r\n        <div className={styles.Main}>\r\n            <img alt=\"pic\" className={styles.Image} src={imageSrc} />\r\n            <div className={styles.Container}>\r\n                <h2 >{title}</h2>\r\n                <div className={styles.subContainer} >{description}</div>\r\n                <h3>Meetup Place</h3>\r\n                <div className={styles.subContainer}>\r\n                    <p>{meetupAt}</p>\r\n                </div>\r\n                <h3>Seller</h3>\r\n                <div className={styles.card} onClick={() => history.push(`/profile/${user}`)} >\r\n                    <UserInfo\r\n                        name={name}\r\n                        avatar={avatar}\r\n                        imageLeft={false}\r\n                        fontSize=\"1.6rem\"\r\n                        imageSize=\"4rem\"\r\n                    />\r\n                    <IoIosArrowForward />\r\n                </div>\r\n                {purchaser && purchaser.name &&\r\n                    <Fragment>\r\n                        <h3> Purchaser</h3>\r\n                        <div className={styles.card} onClick={() => history.push(`/profile/${purchaser._id}`)}>\r\n                            <UserInfo\r\n                                name={purchaser.name}\r\n                                avatar={purchaser.avatar}\r\n                                imageLeft={false}\r\n                                fontSize=\"1.6rem\"\r\n                                imageSize=\"4rem\"\r\n                            />\r\n                            <IoIosArrowForward />\r\n                        </div>\r\n                    </Fragment>\r\n                }\r\n                <Comments />\r\n            </div>\r\n        </div >\r\n    )\r\n}\r\n\r\nMain.propTypes = {\r\n    product: PropTypes.object,\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    product: state.product.product\r\n});\r\n\r\nexport default connect(mapStateToProps, null)(withRouter(Main));\r\n","import React, { useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport { getProduct, purchaseProduct, cancelProduct, rejectProduct } from '../../store/actions/product';\r\n\r\n\r\n// Components\r\nimport ScrollToTop from '../ScrollToTop';\r\nimport Spinner from '../UI/Spinner/Spinner';\r\nimport BottomBar from '../UI/BottomBar/BottomBar';\r\nimport TopBar from './TopBar/TopBar';\r\nimport Main from './Main/Main';\r\n\r\nconst Product = ({\r\n    loading,\r\n    product,\r\n    auth,\r\n    getProduct,\r\n    history,\r\n    match,\r\n    purchaseProduct,\r\n    cancelProduct,\r\n    rejectProduct\r\n}) => {\r\n    useEffect(() => {\r\n        getProduct(match.params.id);\r\n    }, [getProduct, match.params.id]);\r\n\r\n    if (loading.getProduct) return <Spinner />;\r\n\r\n    if (!product) return <p>Not found!</p>;\r\n\r\n    const onPurchaseHandler = () => purchaseProduct(match.params.id);\r\n    const onCancelHandler = () => cancelProduct(match.params.id);\r\n    const onRejectHandler = () => rejectProduct(match.params.id);\r\n    const onUnauthorizedHandler = () => history.push('/auth');\r\n\r\n    const { purchaser } = product;\r\n    let buttonText = \"Purchase\";\r\n    let onClickHandler = onPurchaseHandler;\r\n    if (!product.sold && auth.isAuthenticated && product.user.toString() === auth.user._id.toString()) {\r\n        buttonText = \"EDIT\";\r\n        onClickHandler = () => history.push(`/edit/${match.params.id}`);\r\n    } else if (product.sold && auth.isAuthenticated && product.user.toString() === auth.user._id.toString()) {\r\n        buttonText = \"REJECT\";\r\n        onClickHandler = onRejectHandler;\r\n    } else if (product.sold && auth.isAuthenticated && purchaser._id && purchaser._id.toString() === auth.user._id.toString()) {\r\n        buttonText = \"CANCEL\";\r\n        onClickHandler = onCancelHandler;\r\n    } else if (product.sold) {\r\n        buttonText = \"SOLD OUT\";\r\n        onClickHandler = () => null;\r\n    }\r\n    if (!auth.isAuthenticated) {\r\n        onClickHandler = onUnauthorizedHandler\r\n    }\r\n    if (loading.purchase) {\r\n        buttonText = <Spinner size={15} style={{ margin: 0 }} color=\"white\" ></Spinner>;\r\n        onClickHandler = () => null;\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n            <ScrollToTop />\r\n            <TopBar />\r\n            <Main />\r\n            <BottomBar\r\n                text={`¥ ${product.price.toLocaleString()}`}\r\n                buttonText={buttonText}\r\n                onButtonClick={onClickHandler}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n\r\nProduct.propTypes = {\r\n    product: PropTypes.object,\r\n    loading: PropTypes.object.isRequired,\r\n    getProduct: PropTypes.func.isRequired,\r\n    auth: PropTypes.object,\r\n    purchaseProduct: PropTypes.func.isRequired,\r\n    cancelProduct: PropTypes.func.isRequired,\r\n    rejectProduct: PropTypes.func.isRequired,\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    product: state.product.product,\r\n    loading: state.product.loading,\r\n    auth: state.auth\r\n});\r\n\r\nexport default connect(mapStateToProps, { getProduct, purchaseProduct, cancelProduct, rejectProduct })(Product);","export default (\r\n    files,\r\n    maxSize = 10000000,\r\n    acceptedFileTypes = 'image/png, image/jpg, image/jpeg'\r\n) => {\r\n    const acceptedFileTypesArray = acceptedFileTypes\r\n        .split(',')\r\n        .map(item => item.trim());\r\n\r\n    if (files && files.length > 0) {\r\n        const currentFile = files[0];\r\n        const currentFileType = currentFile.type;\r\n        const currentFileSize = currentFile.size;\r\n        if (currentFileSize > maxSize) {\r\n            alert('This file is too big (Max: 10MB)');\r\n            return false;\r\n        }\r\n        if (!acceptedFileTypesArray.includes(currentFileType)) {\r\n            alert(\r\n                'This file is not allowed. Only jpg, jpeg and png are allowed.'\r\n            );\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n};\r\n","import React, { PureComponent } from 'react';\r\nimport Dropzone from 'react-dropzone';\r\nimport ReactCrop from 'react-image-crop';\r\nimport 'react-image-crop/lib/ReactCrop.scss';\r\nimport { getCroppedImg, base64StringtoFile } from './utils/base64';\r\nimport verifyFile from './utils/verify';\r\nimport styles from './ImageDropAndCrop.module.scss';\r\nimport { IoMdImage } from 'react-icons/io';\r\n\r\n// @@@@ Props @@@@\r\n// [Func] setImage( uploadableFile ) \r\n// (option) [Num] maxSize @default = 10000000 (10MB)\r\n\r\n// @@@@@ Additional props for Edit mode @@@@@@@\r\n// [String(base64)] defaultImage\r\n\r\nclass ImgDropAndCrop extends PureComponent {\r\n    state = {\r\n        cropping: false,\r\n        src: null,\r\n        crop: {\r\n            unit: '%',\r\n            width: 70,\r\n            aspect: 4 / 3\r\n        },\r\n        croppedImageBase64: null,\r\n        isModified: true\r\n    };\r\n\r\n    // This is for editPage (Don't have to be in DidMount)\r\n    componentDidMount() {\r\n        this.setState(() => ({\r\n            croppedImageBase64: this.props.defaultImage || null,\r\n            isModified: this.props.defaultImage ? false : true,\r\n            src: this.props.defaultImage ? true : null\r\n        }));\r\n    }\r\n\r\n    onSelectFile = (files, rejectedFiles) => {\r\n        if (rejectedFiles && rejectedFiles.length > 0) {\r\n            console.log('File rejected');\r\n            verifyFile(rejectedFiles, this.props.maxSize);\r\n        }\r\n\r\n        if (files && files.length > 0) {\r\n            const isVerified = verifyFile(files, this.props.maxSize);\r\n            if (isVerified) {\r\n                // imageBase64Data\r\n                const currentFile = files[0];\r\n                const reader = new FileReader();\r\n\r\n                reader.addEventListener(\r\n                    'load',\r\n                    () => {\r\n                        this.setState({ src: reader.result, cropping: true });\r\n                    },\r\n                    false\r\n                );\r\n\r\n                reader.readAsDataURL(currentFile);\r\n            }\r\n        }\r\n    };\r\n\r\n    onImageLoaded = image => {\r\n        this.imageRef = image;\r\n    };\r\n    onCropComplete = crop => {\r\n        if (this.imageRef && crop.width && crop.height) {\r\n            const croppedImageBase64 = getCroppedImg(\r\n                this.imageRef,\r\n                crop,\r\n                'newFile.png'\r\n            );\r\n            this.setState({\r\n                croppedImageBase64,\r\n                isModified: true\r\n            });\r\n        }\r\n    };\r\n    onCropChange = (crop, percentCrop) => {\r\n        this.setState({ crop });\r\n    };\r\n\r\n    readyToUpload = () => {\r\n        const uploadableFile = base64StringtoFile(this.state.croppedImageBase64, \"newFile\");\r\n        this.setState({ cropping: false });\r\n        this.props.setImage(uploadableFile);\r\n    };\r\n\r\n    render() {\r\n        // Var\r\n        const { cropping, src, crop, croppedImageBase64 } = this.state;\r\n        const maxSize = this.props.maxSize || 10000000;\r\n        const acceptedFileTypes = 'image/png, image/jpg, image/jpeg';\r\n\r\n        return (\r\n            <div>\r\n                <div className={styles.ReactCropContainer}>\r\n                    {src && cropping && (\r\n                        <div className={styles.ReactCrop}>\r\n                            <ReactCrop\r\n                                src={src}\r\n                                crop={crop}\r\n                                onImageLoaded={this.onImageLoaded}\r\n                                onComplete={this.onCropComplete}\r\n                                onChange={this.onCropChange}\r\n                            />\r\n                        </div>\r\n                    )}\r\n                    {src && !cropping && (\r\n                        <img\r\n                            alt=\"Crop\"\r\n                            style={{ width: '100%' }}\r\n                            src={croppedImageBase64}\r\n                        />\r\n                    )}\r\n                    <div className={styles.buttons}>\r\n                        {src && cropping &&\r\n                            <button\r\n                                className={styles.crop}\r\n                                onClick={this.readyToUpload}\r\n                            >\r\n                                Crop\r\n                            </button>\r\n                        }\r\n                        {src && !cropping && this.state.isModified &&\r\n                            <button\r\n                                className={styles.edit}\r\n                                onClick={() => {\r\n                                    this.setState({ cropping: true });\r\n                                }}\r\n                            >\r\n                                Edit\r\n                            </button>\r\n                        }\r\n                        {src && (\r\n                            <button\r\n                                className={styles.remove}\r\n                                onClick={() => {\r\n                                    this.setState({\r\n                                        src: null,\r\n                                        croppedImageBase64: null\r\n                                    });\r\n                                    this.props.setImage(null);\r\n                                }}\r\n                            >\r\n                                Remove\r\n                            </button>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n\r\n                {!src && (\r\n                    <Dropzone\r\n                        onDrop={this.onSelectFile}\r\n                        maxSize={maxSize}\r\n                        multiple={false}\r\n                        accept={acceptedFileTypes}\r\n                    >\r\n                        {({ getRootProps, getInputProps }) => (\r\n                            <section className={styles.Dropzone}>\r\n                                <div {...getRootProps()}>\r\n                                    <input {...getInputProps()} />\r\n                                    <IoMdImage\r\n                                        size=\"10rem\"\r\n                                        color=\"#ddd\"\r\n                                        className={styles.DropzoneIcon}\r\n                                    />\r\n                                </div>\r\n                            </section>\r\n                        )}\r\n                    </Dropzone>\r\n                )}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ImgDropAndCrop;\r\n\r\n","function downloadBase64File(base64Data, filename) {\r\n  var element = document.createElement('a');\r\n  element.setAttribute('href', base64Data);\r\n  element.setAttribute('download', filename);\r\n  element.style.display = 'none';\r\n  document.body.appendChild(element);\r\n  element.click();\r\n  document.body.removeChild(element);\r\n}\r\n\r\nfunction base64StringtoFile(base64String, filename) {\r\n    var arr = base64String.split(','),\r\n        mime = arr[0].match(/:(.*?);/)[1],\r\n        bstr = atob(arr[1]),\r\n        n = bstr.length,\r\n        u8arr = new Uint8Array(n);\r\n    while (n--) {\r\n        u8arr[n] = bstr.charCodeAt(n);\r\n    }\r\n    return new File([u8arr], filename, { type: mime });\r\n}\r\n\r\nfunction extractImageFileExtensionFromBase64(base64Data) {\r\n    return base64Data.substring(\r\n        'data:image/'.length,\r\n        base64Data.indexOf(';base64')\r\n    );\r\n}\r\n\r\nfunction image64toCanvasRef(canvasRef, image64, pixelCrop) {\r\n    const canvas = canvasRef; // document.createElement('canvas');\r\n    canvas.width = pixelCrop.width;\r\n    canvas.height = pixelCrop.height;\r\n    const ctx = canvas.getContext('2d');\r\n    const image = new Image();\r\n    image.src = image64;\r\n    image.onload = function() {\r\n        ctx.drawImage(\r\n            image,\r\n            pixelCrop.x,\r\n            pixelCrop.y,\r\n            pixelCrop.width,\r\n            pixelCrop.height,\r\n            0,\r\n            0,\r\n            pixelCrop.width,\r\n            pixelCrop.height\r\n        );\r\n    };\r\n}\r\n\r\nfunction getCroppedImg(image, crop) {\r\n    const canvas = document.createElement(\"canvas\");\r\n    const scaleX = image.naturalWidth / image.width;\r\n    const scaleY = image.naturalHeight / image.height;\r\n    var originWidth = crop.width * scaleX;\r\n    var originHeight = crop.height * scaleY;\r\n    // maximum width/height\r\n    var maxWidth = 1200, maxHeight = 1200 / (16 / 9);\r\n    var targetWidth = originWidth,\r\n      targetHeight = originHeight;\r\n    if (originWidth > maxWidth || originHeight > maxHeight) {\r\n      if (originWidth / originHeight > maxWidth / maxHeight) {\r\n        targetWidth = maxWidth;\r\n        targetHeight = Math.round(maxWidth * (originHeight / originWidth));\r\n      } else {\r\n        targetHeight = maxHeight;\r\n        targetWidth = Math.round(maxHeight * (originWidth / originHeight));\r\n      }\r\n    }\r\n    // set canvas size\r\n    canvas.width = targetWidth;\r\n    canvas.height = targetHeight;\r\n    const ctx = canvas.getContext(\"2d\");\r\n\r\n    ctx.drawImage(\r\n      image, \r\n      crop.x * scaleX, \r\n      crop.y * scaleY, \r\n      crop.width * scaleX, \r\n      crop.height * scaleY, \r\n      0, \r\n      0, \r\n      targetWidth, \r\n      targetHeight \r\n    );\r\n    return canvas.toDataURL('image/jpeg', 0.9);\r\n  }\r\n\r\nexport {\r\n    downloadBase64File,\r\n    base64StringtoFile,\r\n    extractImageFileExtensionFromBase64,\r\n    image64toCanvasRef,\r\n    getCroppedImg\r\n};","import React, { useState } from 'react'\r\nimport { connect } from 'react-redux';\r\nimport { createProduct } from '../../store/actions/product';\r\nimport PropTypes from 'prop-types';\r\nimport ScrollToTop from '../ScrollToTop';\r\n\r\n\r\n//Components\r\nimport Input from '../UI/Input/Input';\r\nimport Button from '../UI/Button/Button';\r\nimport Spinner from '../UI/Spinner/Spinner';\r\nimport styles from './Sell.module.scss';\r\nimport ImageDropAndCrop from '../UI/ImageDropAndCrop/ImageDropAndCrop';\r\n\r\nconst Sell = ({ createProduct, loading, history }) => {\r\n    const [formData, setFormData] = useState({\r\n        title: \"\",\r\n        price: \"\",\r\n        category: \"Home\",\r\n        meetupAt: \"\",\r\n        description: \"\"\r\n    });\r\n\r\n    const [productImage, setProductImage] = useState('');\r\n\r\n    const {\r\n        title,\r\n        price,\r\n        category,\r\n        meetupAt,\r\n        description\r\n    } = formData;\r\n\r\n    const onChange = (e) => {\r\n        e.preventDefault();\r\n        e.persist()\r\n        setFormData(() => ({\r\n            ...formData,\r\n            [e.target.name]: e.target.value\r\n        }));\r\n    };\r\n\r\n    const setImage = (uploadableFile) => {\r\n        setProductImage(() => uploadableFile);\r\n    };\r\n\r\n\r\n    const onSubmit = (e) => {\r\n        e.preventDefault();\r\n        if (!productImage) return alert(\"Please set Image\");\r\n        const newFormData = new FormData();\r\n        newFormData.append('title', title);\r\n        newFormData.append('price', price);\r\n        newFormData.append('category', category);\r\n        newFormData.append('meetupAt', meetupAt);\r\n        newFormData.append('description', description);\r\n        newFormData.append('productImage', productImage);\r\n        createProduct(newFormData);\r\n        history.push('/products');\r\n    };\r\n\r\n    if (loading.setProduct) return <Spinner />;\r\n\r\n    return (\r\n        <div className={styles.Sell}>\r\n            <ScrollToTop />\r\n            <div className={styles.ImageDropAndCrop}>\r\n                <ImageDropAndCrop\r\n                    maxSize={10000000}\r\n                    setImage={(uploadableFile) => setImage(uploadableFile)}\r\n                />\r\n            </div>\r\n            <form className={styles.sellForm} onSubmit={e => onSubmit(e)}>\r\n                <label>Product</label>\r\n                <Input\r\n                    type=\"text\"\r\n                    placeholder=\"Product Name (20 words or less)\"\r\n                    name=\"title\"\r\n                    value={title}\r\n                    onChange={e => onChange(e)}\r\n                    required\r\n                />\r\n\r\n                <label>Price</label>\r\n                <Input\r\n                    type=\"number\"\r\n                    placeholder=\"Price in Yen\"\r\n                    name=\"price\"\r\n                    value={price}\r\n                    onChange={e => onChange(e)}\r\n                    required\r\n                />\r\n\r\n                <label>Category</label>\r\n                <Input\r\n                    type=\"select\"\r\n                    name=\"category\"\r\n                    value={category}\r\n                    onChange={e => { onChange(e) }}>\r\n                    <option value=\"Home\">Home</option>\r\n                    <option value=\"Academic\">Academic</option>\r\n                    <option value=\"Electronics\">Electronics</option>\r\n                    <option value=\"Ticket\">Ticket</option>\r\n                    <option value=\"Women\">Women</option>\r\n                    <option value=\"Men\">Men</option>\r\n                    <option value=\"Other\">Other</option>\r\n                </Input>\r\n\r\n                <label>Meetup Place</label>\r\n                <Input\r\n                    type=\"text\"\r\n                    placeholder=\"Meetup Place\"\r\n                    name=\"meetupAt\"\r\n                    value={meetupAt}\r\n                    onChange={e => onChange(e)}\r\n                    required\r\n                />\r\n\r\n                <label>Description</label>\r\n                <Input\r\n                    type=\"textarea\"\r\n                    placeholder=\"Description here\"\r\n                    name=\"description\"\r\n                    value={description}\r\n                    onChange={e => onChange(e)}\r\n                    required\r\n                />\r\n                <Button className={styles.btn} btnType=\"color-primary size-lg\">\r\n                    Start Selling\r\n                </Button>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nSell.propTypes = {\r\n    createProduct: PropTypes.func.isRequired,\r\n    loading: PropTypes.object.isRequired,\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    loading: state.product.loading\r\n});\r\n\r\n\r\nexport default connect(mapStateToProps, { createProduct })(Sell);\r\n","import React, { useState, useEffect, Fragment } from 'react'\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport { getProduct, editProduct } from '../../store/actions/product';\r\nimport imageConverter from '../../utils/imageConverter';\r\n\r\n//Components\r\nimport Input from '../UI/Input/Input';\r\nimport Button from '../UI/Button/Button';\r\nimport styles from './EditPage.module.scss';\r\nimport Spinner from '../UI/Spinner/Spinner';\r\nimport ImageDropAndCrop from '../UI/ImageDropAndCrop/ImageDropAndCrop';\r\nimport TopBar from '../UI/TopBar/TopBar';\r\n\r\nconst EditPage = ({ product, getProduct, editProduct, match, history, loading }) => {\r\n    const [formData, setFormData] = useState({\r\n        title: \"\",\r\n        price: \"\",\r\n        category: \"\",\r\n        meetupAt: \"\",\r\n        description: \"\"\r\n    });\r\n    const [imgModified, setImgModified] = useState(false);\r\n    const [productImage, setProductImage] = useState(null);\r\n\r\n\r\n    useEffect(() => {\r\n        if ((!loading.getProduct && !product) || (product && match.params.id !== product._id.toString())) {\r\n            getProduct(match.params.id);\r\n        }\r\n        setFormData(() => ({\r\n            title: loading.getProduct || !product ? \"\" : product.title,\r\n            price: loading.getProduct || !product ? \"\" : product.price,\r\n            category: loading.getProduct || !product ? \"\" : product.category,\r\n            meetupAt: loading.getProduct || !product ? \"\" : product.meetupAt,\r\n            description: loading.getProduct || !product ? \"\" : product.description\r\n        }));\r\n        setProductImage(\r\n            loading.getProduct || !product\r\n                ? \"\"\r\n                : imageConverter(product.productImage.data)\r\n        );\r\n    }, [getProduct, setFormData, loading.getProduct, match.params.id, product]);\r\n\r\n    const {\r\n        title,\r\n        price,\r\n        category,\r\n        meetupAt,\r\n        description\r\n    } = formData;\r\n\r\n    const onChange = (e) => {\r\n        e.preventDefault();\r\n        e.persist()\r\n        setFormData(() => ({\r\n            ...formData,\r\n            [e.target.name]: e.target.value\r\n        }));\r\n    };\r\n\r\n    const setImage = (uploadableFile) => {\r\n        setProductImage(uploadableFile);\r\n        setImgModified(true);\r\n    };\r\n\r\n    const onSubmit = (e) => {\r\n        e.preventDefault();\r\n        const newFormData = new FormData();\r\n        newFormData.append('title', title);\r\n        newFormData.append('price', price);\r\n        newFormData.append('category', category);\r\n        newFormData.append('meetupAt', meetupAt);\r\n        newFormData.append('description', description);\r\n\r\n        if (!productImage) return alert(\"Please set Image\");\r\n        imgModified && newFormData.append('productImage', productImage);\r\n\r\n        editProduct(match.params.id, newFormData);\r\n        history.push('/products');\r\n    };\r\n\r\n    if (loading.getProduct) return <Spinner />;\r\n\r\n    return (\r\n        <Fragment>\r\n            <TopBar />\r\n            <div className={styles.Sell}>\r\n                <div className={styles.ImageDropAndCrop}>\r\n                    {(productImage || imgModified) &&\r\n                        <ImageDropAndCrop\r\n                            maxSize={10000000}\r\n                            setImage={(uploadableFile) => setImage(uploadableFile)}\r\n                            defaultImage={productImage}\r\n                        />\r\n                    }\r\n                </div>\r\n                <form className={styles.sellForm} onSubmit={e => onSubmit(e)}>\r\n                    <label>Product</label>\r\n                    <Input\r\n                        type=\"text\"\r\n                        placeholder=\"Product Name (20 words or less)\"\r\n                        name=\"title\"\r\n                        value={title}\r\n                        onChange={e => onChange(e)}\r\n                        required\r\n                    />\r\n\r\n                    <label>Price</label>\r\n                    <Input\r\n                        type=\"number\"\r\n                        placeholder=\"Price in Yen\"\r\n                        name=\"price\"\r\n                        value={price}\r\n                        onChange={e => onChange(e)}\r\n                        required\r\n                    />\r\n\r\n                    <label>Category</label>\r\n                    <Input\r\n                        type=\"select\"\r\n                        name=\"category\"\r\n                        value={category}\r\n                        onChange={e => { onChange(e) }}>\r\n                        <option value=\"Home\">Home</option>\r\n                        <option value=\"Academic\">Academic</option>\r\n                        <option value=\"Electronics\">Electronics</option>\r\n                        <option value=\"Ticket\">Ticket</option>\r\n                        <option value=\"Women\">Women</option>\r\n                        <option value=\"Men\">Men</option>\r\n                        <option value=\"Other\">Other</option>\r\n                    </Input>\r\n\r\n                    <label>Meetup Place</label>\r\n                    <Input\r\n                        type=\"text\"\r\n                        placeholder=\"Meetup Place\"\r\n                        name=\"meetupAt\"\r\n                        value={meetupAt}\r\n                        onChange={e => onChange(e)}\r\n                        required\r\n                    />\r\n\r\n                    <label>Description</label>\r\n                    <Input\r\n                        type=\"textarea\"\r\n                        placeholder=\"Description here\"\r\n                        name=\"description\"\r\n                        value={description}\r\n                        onChange={e => onChange(e)}\r\n                        required\r\n                    />\r\n                    <Button className={styles.btn} btnType=\"color-primary size-lg\">\r\n                        Start Selling\r\n                    </Button>\r\n                </form>\r\n            </div>\r\n        </Fragment>\r\n    );\r\n}\r\n\r\nEditPage.propTypes = {\r\n    getProduct: PropTypes.func.isRequired,\r\n    editProduct: PropTypes.func.isRequired,\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    loading: state.product.loading,\r\n    product: state.product.product\r\n});\r\n\r\n\r\nexport default connect(mapStateToProps, { getProduct, editProduct })(EditPage);\r\n","import axios from '../../axios';\r\nimport {\r\n    GET_PROFILE_START,\r\n    GET_PROFILE_SUCCESS,\r\n    GET_PROFILE_FAIL,\r\n    GET_PROFILE_PRODUCTS_START,\r\n    GET_PROFILE_PRODUCTS_SUCCESS,\r\n    GET_PROFILE_PRODUCTS_FAIL\r\n} from './actionType';\r\nimport { setAlert } from './alert';\r\n\r\nexport const getProfile = (userId) => async dispatch => {\r\n    dispatch({\r\n        type: GET_PROFILE_START\r\n    });\r\n\r\n    try {\r\n        const res = await axios.get(`/api/user/${userId}`);\r\n\r\n        dispatch({\r\n            type: GET_PROFILE_SUCCESS,\r\n            payload: res.data\r\n        });\r\n    } catch (err) {\r\n        dispatch(setAlert(err.response.data.message, \"danger\"));\r\n        dispatch({\r\n            type: GET_PROFILE_FAIL,\r\n        });\r\n    }\r\n};\r\n\r\nexport const getProfileProducts = (userId, skip = 0, limit = 10) => async dispatch => {\r\n    dispatch({\r\n        type: GET_PROFILE_PRODUCTS_START\r\n    });\r\n\r\n    try {\r\n        const res = await axios.get(`/api/products/sellings/${userId}?skip=${skip}&limit=${limit}`);\r\n        const hasMore = res.data.length === limit;\r\n\r\n        dispatch({\r\n            type: GET_PROFILE_PRODUCTS_SUCCESS,\r\n            payload: { products: res.data, hasMore }\r\n        });\r\n    } catch (err) {\r\n        dispatch(setAlert(err.response.data.message, \"danger\"));\r\n        dispatch({\r\n            type: GET_PROFILE_PRODUCTS_FAIL,\r\n        });\r\n    }\r\n};","import React, { Fragment } from 'react';\r\nimport { withRouter, Link } from 'react-router-dom';\r\nimport PropTypes from 'prop-types'\r\nimport imageConverter from '../../../utils/imageConverter';\r\nimport styles from './User.module.scss';\r\nimport { AiOutlineMessage } from 'react-icons/ai';\r\nimport { IoLogoFacebook } from 'react-icons/io';\r\n\r\nconst User = ({ user, match }) => {\r\n\r\n    let avatarSrc;\r\n    if (user) {\r\n        avatarSrc = user.avatar\r\n            ? imageConverter(user.avatar.data)\r\n            : imageConverter(null);\r\n    }\r\n\r\n    return (\r\n        <Fragment>\r\n\r\n            <img\r\n                src={avatarSrc}\r\n                alt=\"Profile\"\r\n                className={styles.profileImage} />\r\n            <h2>{user.name}</h2>\r\n            <div className={styles.icons}>\r\n                <Link to={`/messages/${match.params.id}`}>\r\n                    <AiOutlineMessage\r\n                        size={\"4rem\"}\r\n                    />\r\n                </Link>\r\n                {user.facebook &&\r\n                    <a target=\"_blank\" style={{ marginLeft: \"1rem\" }} href={user.facebook}>\r\n                        <IoLogoFacebook\r\n                            size={\"4rem\"}\r\n                            color={\"#0084ff\"}\r\n                        />\r\n                    </a>\r\n                }\r\n            </div>\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nUser.propTypes = {\r\n    user: PropTypes.object.isRequired,\r\n}\r\n\r\nexport default withRouter(User)\r\n","import React from 'react'\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types'\r\nimport styles from './Products.module.scss';\r\n\r\n// Action\r\nimport { getProfileProducts } from '../../../store/actions/profile';\r\n\r\n// Components\r\nimport Product from '../../UI/Product/Product';\r\nimport Spinner from '../../UI/Spinner/Spinner';\r\nimport InfiniteScroller from 'react-infinite-scroller';\r\n\r\nconst Products = ({ match, products, hasMore, loading, getProfileProducts }) => {\r\n    const loadMore = loading\r\n        ? () => null\r\n        : () => getProfileProducts(match.params.id, products.length);\r\n\r\n    let productList = null;\r\n    if (!loading && products.length === 0) productList = <p>No selling products</p>;\r\n    if (products.length > 0) {\r\n        productList = products.map((product) => <Product key={product._id} product={product} />);\r\n    }\r\n\r\n    return (\r\n        <div style={{ width: \"100%\" }}>\r\n            <InfiniteScroller\r\n                pageStart={0}\r\n                threshold={250}\r\n                loadMore={loadMore}\r\n                hasMore={hasMore}\r\n                loader={<Spinner key={\"abc\"} size={50} style={{ marginTop: \"3rem\" }} />}\r\n            >\r\n                <div className={styles.items}>\r\n                    {productList}\r\n                </div>\r\n            </InfiniteScroller>\r\n        </div>\r\n    )\r\n}\r\n\r\nProducts.propTypes = {\r\n    products: PropTypes.array.isRequired,\r\n    hasMore: PropTypes.bool.isRequired,\r\n    loading: PropTypes.bool.isRequired,\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    products: state.profile.products.products,\r\n    hasMore: state.profile.products.hasMore,\r\n    loading: state.profile.loading.products,\r\n});\r\n\r\nexport default connect(mapStateToProps, { getProfileProducts })(withRouter(Products));\r\n","import React, { Fragment, useEffect } from 'react'\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types'\r\nimport styles from './Profile.module.scss'\r\n// action\r\nimport { getProfile } from '../../store/actions/profile';\r\n// Components\r\nimport TopBar from '../UI/TopBar/TopBar';\r\nimport Spinner from '../UI/Spinner/Spinner';\r\nimport User from './User/User';\r\nimport Products from './Products/Products';\r\n\r\nconst Profile = ({\r\n    history,\r\n    match,\r\n    //store\r\n    user,\r\n    loading,\r\n    // actions\r\n    getProfile,\r\n}) => {\r\n    useEffect(() => {\r\n        if (!user || user._id.toString() !== match.params.id) {\r\n            getProfile(match.params.id);\r\n        }\r\n    }, [getProfile, user, match.params.id]);\r\n\r\n    let content = <p>User not found</p>;\r\n    if (loading) content = <Spinner style={{ marginTop: \"5rem\" }} />;\r\n    if (!loading && user) {\r\n        content =\r\n            <Fragment>\r\n                <User user={user} />\r\n                <div className={styles.hr}></div>\r\n                <Products />\r\n            </Fragment>\r\n    };\r\n\r\n    return (\r\n        <Fragment>\r\n            <TopBar goBack={() => history.goBack()} />\r\n            <div className={styles.Profile}>\r\n                {content}\r\n            </div>\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nProfile.propTypes = {\r\n    getProfile: PropTypes.func.isRequired,\r\n    user: PropTypes.object,\r\n    loading: PropTypes.bool.isRequired,\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    user: state.profile.user,\r\n    loading: state.profile.loading.user,\r\n});\r\n\r\nexport default connect(mapStateToProps, { getProfile })(Profile);\r\n","import moment from 'moment';\r\n\r\nmoment.updateLocale('en', {\r\n    relativeTime: {\r\n        future: \"in %s\",\r\n        past: \"%s \",\r\n        s: \"%ds\",\r\n        m: \"%dm\",\r\n        mm: \"%dm\",\r\n        h: \"%dh\",\r\n        hh: \"%dh\",\r\n        d: \"%dd\",\r\n        dd: \"%dd\",\r\n        M: \"%dmth\",\r\n        MM: \"%dmths\",\r\n        y: \"%dy\",\r\n        yy: \"%d y\"\r\n    }\r\n});\r\n\r\nconst ago = (date) => {\r\n    return moment(date).fromNow();\r\n};\r\n\r\nexport default ago;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport parse from 'html-react-parser';\r\nimport imageConverter from '../../../utils/imageConverter';\r\nimport ago from '../../../utils/ago';\r\n\r\nimport classes from './Notification.module.scss';\r\n\r\nconst Notification = ({\r\n    notification: {\r\n        trigger,\r\n        innerHTML,\r\n        product,\r\n        createdAt\r\n    }\r\n}) => {\r\n    let avatarSrc = trigger.avatar\r\n        ? imageConverter(trigger.avatar.data)\r\n        : imageConverter(null);\r\n    return (\r\n        <Link className={classes.Link} to={`/products/${product}`}>\r\n            <div className={classes.Notification}>\r\n                <img className={classes.Image} src={avatarSrc} alt=\"profile_picture\" />\r\n                <div className={classes.rightContainer}>\r\n                    <p className={classes.Text}>{parse(innerHTML)}</p>\r\n                    <p className={classes.Time}>{`${ago(createdAt)} ago`}</p>\r\n                </div>\r\n            </div>\r\n        </Link>\r\n    );\r\n};\r\n\r\nexport default Notification;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport { getNotifications, clearNotifications } from '../../store/actions/notification';\r\n\r\nimport styles from './Notification.module.scss';\r\nimport Notification from './Notification/Notification';\r\nimport Scroller from '../UI/Scroller/Scroller';\r\n\r\nconst Inbox\r\n    = ({\r\n        history,\r\n        match,\r\n        auth,\r\n        notification: {\r\n            notifications,\r\n            hasMore,\r\n            loading\r\n        },\r\n        getNotifications,\r\n        clearNotifications\r\n    }) => {\r\n\r\n        let items;\r\n        items = notifications.map((notification) => {\r\n            return (\r\n                <Notification\r\n                    key={notification._id}\r\n                    notification={notification}\r\n                />\r\n            );\r\n        })\r\n\r\n        const noMsg = <p style={{ height: \"75vh\" }}>No notification yet</p>;\r\n\r\n        let loadMore = () => null,\r\n            refresh = () => null;\r\n        if (auth.isAuthenticated && !loading) {\r\n            loadMore = () => getNotifications(notifications.length);\r\n            refresh = () => clearNotifications();\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                <Scroller\r\n                    onRefreshFunc={refresh}\r\n                    loadMoreFunc={loadMore}\r\n                    hasMore={hasMore}\r\n                >\r\n                    <ul className={styles.notifications}>\r\n                        {!hasMore && items.length === 0 ? noMsg : items}\r\n                    </ul>\r\n                </Scroller>\r\n            </div>\r\n        );\r\n    };\r\n\r\nInbox.propTypes = {\r\n    notification: PropTypes.object.isRequired,\r\n    auth: PropTypes.object.isRequired,\r\n    getNotifications: PropTypes.func.isRequired,\r\n    clearNotifications: PropTypes.func.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    notification: state.notification,\r\n    auth: state.auth,\r\n});\r\n\r\nexport default connect(mapStateToProps, { getNotifications, clearNotifications })(Inbox\r\n);","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport imageConverter from '../../../utils/imageConverter';\r\nimport textAbstract from '../../../utils/textAbstract';\r\nimport ago from '../../../utils/ago';\r\n\r\nimport classes from './Message.module.scss';\r\n\r\nconst message = ({\r\n    messageId,\r\n    name,\r\n    createdAt,\r\n    text,\r\n    checkRecieved,\r\n    partialPath,\r\n    avatar,\r\n    seen = true\r\n}) => {\r\n    let avatarSrc = avatar\r\n        ? imageConverter(avatar.data)\r\n        : imageConverter(null);\r\n    return (\r\n        <Link className={classes.Link} to={`/inbox/${partialPath}/${messageId}`}>\r\n            <div className={classes.Message}>\r\n                <img className={classes.Image} src={avatarSrc} alt=\"profile_picture\" />\r\n                <p className={classes.Name}>\r\n                    <span style={{ fontWeight: \"normal\" }}>\r\n                        {checkRecieved\r\n                            ? \"From \"\r\n                            : \"To \"\r\n                        }\r\n                    </span>\r\n                    {name}\r\n                </p>\r\n                <p className={classes.Time}>{`${ago(createdAt)} ago`}</p>\r\n                <p className={classes.Text}>{textAbstract(text, 40)}</p>\r\n                {!seen && <span className={classes.unseen}></span>}\r\n            </div>\r\n        </Link>\r\n    );\r\n};\r\n\r\nexport default message;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport { clearRecievedMessages, clearSentMessages, getRecieved, getSent } from '../../store/actions/message';\r\nimport Switcher from '../UI/Switcher/Switcher';\r\n\r\nimport styles from './Inbox.module.scss';\r\nimport Message from './Message/Message';\r\nimport Scroller from '../UI/Scroller/Scroller';\r\n\r\nconst Inbox\r\n    = ({\r\n        history,\r\n        match,\r\n        auth,\r\n        message: {\r\n            recieved,\r\n            sent,\r\n        },\r\n        clearRecievedMessages,\r\n        clearSentMessages,\r\n        getRecieved,\r\n        getSent,\r\n    }) => {\r\n        const checkRecieved = match.params.status === \"recieved\" ? true : false;\r\n\r\n        const buttons = [\r\n            {\r\n                text: \"Recieved\",\r\n                active: checkRecieved,\r\n                onClickHandler: () => !checkRecieved && history.push('/inbox/recieved')\r\n            },\r\n            {\r\n                text: \"Sent\",\r\n                active: !checkRecieved,\r\n                onClickHandler: () => checkRecieved && history.push('/inbox/sent')\r\n            }\r\n        ];\r\n\r\n        let items;\r\n        if (checkRecieved) {\r\n            items = recieved.messages.map((msg) => {\r\n                return (\r\n                    <Message\r\n                        key={msg._id}\r\n                        name={msg.senderName}\r\n                        messageId={msg._id}\r\n                        text={msg.text}\r\n                        createdAt={msg.createdAt}\r\n                        avatar={msg.sender.avatar}\r\n                        partialPath='recieved'\r\n                        checkRecieved={checkRecieved}\r\n                        seen={msg.seen}\r\n                    />\r\n                );\r\n            })\r\n        } else {\r\n            items = sent.messages.map((msg) => {\r\n                return (\r\n                    <Message\r\n                        key={msg._id}\r\n                        name={msg.recipientName}\r\n                        messageId={msg._id}\r\n                        text={msg.text}\r\n                        avatar={msg.recipient.avatar}\r\n                        createdAt={msg.createdAt}\r\n                        partialPath='sent'\r\n                        checkRecieved={checkRecieved}\r\n                    />\r\n                );\r\n            })\r\n        }\r\n\r\n        const noMsg = <p style={{ height: \"75vh\" }}>No recieved message yet</p>;\r\n\r\n        let getMessages = () => null,\r\n            refreshMessages = () => null;\r\n        if (auth.isAuthenticated && checkRecieved && !recieved.loading) {\r\n            getMessages = () => getRecieved(recieved.messages.length);\r\n            refreshMessages = () => clearRecievedMessages();\r\n        }\r\n        if (auth.isAuthenticated && !checkRecieved && !sent.loading) {\r\n            getMessages = () => getSent(sent.messages.length);\r\n            refreshMessages = () => clearSentMessages();\r\n        }\r\n\r\n        const hasMore = checkRecieved ? recieved.hasMore : sent.hasMore;\r\n\r\n        return (\r\n            <div>\r\n                <Switcher\r\n                    items={buttons}\r\n                />\r\n                <Scroller\r\n                    onRefreshFunc={refreshMessages}\r\n                    loadMoreFunc={getMessages}\r\n                    hasMore={hasMore}\r\n                >\r\n                    <ul className={styles.messages}>\r\n                        {!hasMore && items.length === 0 ? noMsg : items}\r\n                    </ul>\r\n                </Scroller>\r\n            </div>\r\n        );\r\n    };\r\n\r\nInbox.propTypes = {\r\n    message: PropTypes.object.isRequired,\r\n    auth: PropTypes.object.isRequired,\r\n    clearRecievedMessages: PropTypes.func.isRequired,\r\n    clearSentMessages: PropTypes.func.isRequired,\r\n    getRecieved: PropTypes.func.isRequired,\r\n    getSent: PropTypes.func.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    message: state.message,\r\n    auth: state.auth,\r\n});\r\n\r\nexport default connect(mapStateToProps, { clearRecievedMessages, clearSentMessages, getRecieved, getSent })(Inbox\r\n);","import React from 'react';\r\n\r\nimport UITopBar from '../../UI/TopBar/TopBar';\r\nimport UserInfo from '../../UI/UserInfo/UserInfo';\r\n\r\nconst TopBar = ({\r\n    counterParty\r\n}) => {\r\n    return (\r\n        <UITopBar>\r\n            {counterParty &&\r\n                <UserInfo\r\n                    name={counterParty.name}\r\n                    avatar={counterParty.avatar}\r\n                    userId={counterParty._id}\r\n                    font-size=\"1.5rem\"\r\n                />\r\n            }\r\n        </UITopBar>\r\n    )\r\n}\r\n\r\nexport default TopBar;\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nimport styles from './Message.module.scss';\r\nimport TextToJSX from '../../UI/TextToJSX/TextToJSX';\r\n\r\nconst Message = ({ message, counterParty, amIRecipient }) => {\r\n\r\n    const toOrFrom = amIRecipient\r\n        ? \"from\"\r\n        : \"to\";\r\n\r\n\r\n    return (\r\n        <div className={styles.Message}>\r\n            <div className={styles.Message}>\r\n                <div>Message {toOrFrom} {counterParty.name}</div>\r\n                <div className={styles.textsContainer} >\r\n                    <TextToJSX>{message.text}</TextToJSX>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nMessage.propTypes = {\r\n    amIRecipient: PropTypes.bool.isRequired,\r\n    message: PropTypes.object.isRequired,\r\n    counterParty: PropTypes.object.isRequired,\r\n}\r\n\r\nexport default Message\r\n","import React, { useState } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Input from '../../UI/Input/Input';\r\nimport Button from '../../UI/Button/Button';\r\nimport Spinner from '../../UI/Spinner/Spinner';\r\n\r\n\r\nconst ReplyForm = (props) => {\r\n    const [message, setMessage] = useState('');\r\n\r\n    const onSubmitHandler = (e) => {\r\n        e.preventDefault();\r\n        props.onSubmitHandler(message);\r\n    };\r\n\r\n    return (\r\n        <form onSubmit={(e) => onSubmitHandler(e)}>\r\n            <Input\r\n                type=\"textarea\"\r\n                placeholder=\"Reply message here...\"\r\n                value={message}\r\n                onChange={(e) => setMessage(e.target.value)}\r\n                required={true}\r\n            />\r\n            <Button\r\n                btnType=\"color-primary\"\r\n            >{props.loading\r\n                ? <Spinner size={15} style={{ margin: 0 }} color=\"white\" ></Spinner>\r\n                : \"Reply\"}\r\n            </Button>\r\n        </form>\r\n    )\r\n}\r\n\r\nReplyForm.propTypes = {\r\n    onSubmitHandler: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default ReplyForm;\r\n","import React, { useEffect, Fragment } from 'react'\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport { getMessage, sendMessage } from '../../store/actions/message'\r\n\r\nimport styles from './MessageBox.module.scss';\r\nimport Spinner from '../UI/Spinner/Spinner';\r\nimport TopBar from './TopBar/TopBar';\r\nimport Message from './Message/Message';\r\nimport ReplyForm from './ReplyForm/ReplyForm';\r\n\r\nconst MessageBox = ({\r\n    match,\r\n    message,\r\n    loading,\r\n    getMessage,\r\n    sendMessage\r\n}) => {\r\n    useEffect(() => {\r\n        getMessage(match.params.id);\r\n    }, [getMessage, match.params.id]);\r\n\r\n    const onSubmitHandler = (text) => {\r\n        sendMessage(message.sender._id, text);\r\n    };\r\n\r\n    const amIRecipient = match.path === \"/inbox/recieved/:id\"\r\n        ? true\r\n        : false;\r\n\r\n    let counterParty = null;\r\n    if (message) {\r\n        if (amIRecipient) {\r\n            counterParty = message.sender;\r\n            counterParty.name = message.senderName;\r\n        } else {\r\n            counterParty = message.recipient;\r\n            counterParty.name = message.recipientName;\r\n        }\r\n    }\r\n\r\n    let content = <p>Not found</p>;\r\n    if (!message && loading.getMessage) {\r\n        content = <Spinner style={{ marginTop: \"8rem\" }} />\r\n    }\r\n    if (message) {\r\n        content = (\r\n            <Fragment>\r\n                <Message message={message} counterParty={counterParty} amIRecipient={amIRecipient} />\r\n                {amIRecipient &&\r\n                    <ReplyForm\r\n                        onSubmitHandler={onSubmitHandler}\r\n                        loading={loading.sendMessage}\r\n                    />\r\n                }\r\n            </Fragment>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <TopBar\r\n                counterParty={counterParty}\r\n            />\r\n            <div className={styles.MessageBoxMain}>\r\n                {content}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nMessageBox.propTypes = {\r\n    message: PropTypes.object,\r\n    loading: PropTypes.object.isRequired,\r\n    getMessage: PropTypes.func.isRequired,\r\n    sendMessage: PropTypes.func.isRequired,\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    message: state.message.message,\r\n    loading: state.message.loading,\r\n});\r\n\r\nexport default connect(mapStateToProps, { getMessage, sendMessage })(MessageBox);\r\n","import React, { useState, useEffect, Fragment } from 'react'\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types'\r\nimport Input from '../UI/Input/Input';\r\nimport { sendMessage } from '../../store/actions/message';\r\nimport { getProfile } from '../../store/actions/profile';\r\nimport UserInfo from '../UI/UserInfo/UserInfo';\r\nimport UITopBar from '../UI/TopBar/TopBar';\r\n\r\nconst MessageForm = ({ profile, match, sendMessage, getProfile }) => {\r\n    const [message, setMessage] = useState('');\r\n\r\n    useEffect(() => {\r\n        if (!profile.user || profile.user._id.toString() !== match.params.id) {\r\n            getProfile(match.params.id);\r\n        };\r\n    }, [profile.user, match.params.id, getProfile]);\r\n\r\n    const onSubmitHandler = (e) => {\r\n        e.preventDefault();\r\n        sendMessage(match.params.id, message);\r\n    };\r\n\r\n    return (\r\n        <Fragment>\r\n            <UITopBar>\r\n                {(profile.user && profile.user._id.toString() === match.params.id) &&\r\n                    <UserInfo\r\n                        name={profile.user.name}\r\n                        avatar={profile.user.avatar}\r\n                        userId={profile.user._id}\r\n                        font-size=\"1.5rem\"\r\n                    />\r\n                }\r\n            </UITopBar>\r\n            <form onSubmit={onSubmitHandler} style={{ marginTop: \"5.5rem\" }}>\r\n                <Input\r\n                    type=\"textarea\"\r\n                    placeholder=\"Message here...\"\r\n                    value={message}\r\n                    onChange={(e) => setMessage(e.target.value)}\r\n                    required={true}\r\n                />\r\n                <button>Send</button>\r\n            </form>\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nMessageForm.propTypes = {\r\n    sendMessage: PropTypes.func.isRequired,\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    profile: state.profile\r\n});\r\n\r\nexport default connect(mapStateToProps, { sendMessage, getProfile })(MessageForm);","import React, { useState, Fragment } from 'react'\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport { updateAvatar } from '../../store/actions/auth'\r\nimport styles from './UpdateAvatar.module.scss';\r\n\r\nimport TopBar from '../UI/TopBar/TopBar';\r\nimport Button from '../UI/Button/Button';\r\n\r\n\r\nconst Avatar = ({ updateAvatar, history }) => {\r\n    const [avatarFile, setAvatarFile] = useState(null);\r\n\r\n    const onSubmit = (e) => {\r\n        e.preventDefault();\r\n        updateAvatar(avatarFile);\r\n        history.push('/mypage');\r\n    };\r\n\r\n    return (\r\n        <Fragment>\r\n            <TopBar />\r\n            <form onSubmit={e => onSubmit(e)} className={styles.form}>\r\n                <label>Profile Image</label>\r\n                <input\r\n                    type=\"file\"\r\n                    onChange={e => setAvatarFile(() => e.target.files[0])}\r\n                    required\r\n                />\r\n                <Button btnType=\"color-primary size-lg\">\r\n                    Update\r\n                </Button>\r\n            </form>\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nAvatar.propTypes = {\r\n    updateAvatar: PropTypes.func.isRequired,\r\n    auth: PropTypes.object.isRequired,\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    auth: state.auth\r\n});\r\n\r\nexport default connect(mapStateToProps, { updateAvatar })(Avatar);\r\n","import React, { Fragment, useEffect, useState } from 'react'\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport { updateProfile } from '../../store/actions/auth';\r\nimport styles from './UpdateProfile.module.scss';\r\n\r\nimport TopBar from '../UI/TopBar/TopBar';\r\nimport Input from '../UI/Input/Input';\r\nimport Button from '../UI/Button/Button';\r\nimport Spinner from '../UI/Spinner/Spinner';\r\n\r\n\r\n\r\nconst UpdateProfile = ({ auth, updateProfile, history }) => {\r\n    const [formData, setFormData] = useState({\r\n        name: \"\",\r\n        facebook: \"\",\r\n    });\r\n\r\n    useEffect(() => {\r\n        setFormData(() => ({\r\n            name: auth.user ? auth.user.name : \"\",\r\n            facebook: auth.user && auth.user.facebook ? auth.user.facebook : \"\",\r\n        }));\r\n    }, [auth.user, setFormData]);\r\n\r\n    if (!auth.isAuthenticated) return <Spinner />;\r\n\r\n    const onChange = (e) => {\r\n        e.preventDefault();\r\n        e.persist()\r\n        setFormData(() => ({\r\n            ...formData,\r\n            [e.target.name]: e.target.value\r\n        }));\r\n    };\r\n\r\n    const onSubmit = (e) => {\r\n        e.preventDefault();\r\n        updateProfile(formData);\r\n        history.push('/mypage');\r\n    };\r\n\r\n\r\n    return (\r\n        <Fragment>\r\n            <TopBar />\r\n            <form onSubmit={e => onSubmit(e)} className={styles.form}>\r\n                <label>Username</label>\r\n                <Input\r\n                    type=\"name\"\r\n                    placeholder=\"Your name\"\r\n                    name=\"name\"\r\n                    value={formData.name}\r\n                    onChange={e => onChange(e)}\r\n                    required\r\n                />\r\n                <label>Facebook URL (Optional)</label>\r\n                <Input\r\n                    type=\"Facebook\"\r\n                    placeholder=\"Facebook URL (optional)\"\r\n                    name=\"facebook\"\r\n                    value={formData.facebook}\r\n                    onChange={e => onChange(e)}\r\n                />\r\n                <Button btnType=\"color-primary size-lg\">\r\n                    Update\r\n                </Button>\r\n            </form>\r\n        </Fragment >\r\n    )\r\n}\r\n\r\nUpdateProfile.propTypes = {\r\n    auth: PropTypes.object.isRequired,\r\n    updateProfile: PropTypes.func.isRequired,\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    auth: state.auth,\r\n});\r\n\r\nexport default connect(mapStateToProps, { updateProfile })(UpdateProfile);\r\n","import React, { Fragment, useEffect, useState } from 'react'\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport { updateEmail } from '../../store/actions/auth';\r\nimport styles from './UpdateEmail.module.scss';\r\n\r\nimport TopBar from '../UI/TopBar/TopBar';\r\nimport Input from '../UI/Input/Input';\r\nimport Button from '../UI/Button/Button';\r\nimport Spinner from '../UI/Spinner/Spinner';\r\n\r\n\r\n\r\nconst UpdateProfile = ({ auth, updateEmail, history }) => {\r\n    const [formData, setFormData] = useState({\r\n        email: \"\",\r\n        password: \"\",\r\n    });\r\n\r\n    useEffect(() => {\r\n        setFormData((prevState) => ({\r\n            ...prevState,\r\n            email: auth.user ? auth.user.email : \"\",\r\n        }));\r\n    }, [auth.user, setFormData]);\r\n\r\n    if (!auth.isAuthenticated) return <Spinner />;\r\n\r\n    const onChange = (e) => {\r\n        e.preventDefault();\r\n        e.persist()\r\n        setFormData(() => ({\r\n            ...formData,\r\n            [e.target.name]: e.target.value\r\n        }));\r\n    };\r\n\r\n    const onSubmit = (e) => {\r\n        e.preventDefault();\r\n        updateEmail(formData);\r\n        history.push('/mypage');\r\n    };\r\n\r\n\r\n    return (\r\n        <Fragment>\r\n            <TopBar />\r\n            <form onSubmit={e => onSubmit(e)} className={styles.form}>\r\n                <label>Email</label>\r\n                <Input\r\n                    type=\"email\"\r\n                    placeholder=\"Your email\"\r\n                    name=\"email\"\r\n                    value={formData.email}\r\n                    onChange={e => onChange(e)}\r\n                    required\r\n                />\r\n                <label>Current Password</label>\r\n                <Input\r\n                    type=\"password\"\r\n                    placeholder=\"Current Password\"\r\n                    name=\"password\"\r\n                    value={formData.password}\r\n                    onChange={e => onChange(e)}\r\n                    required\r\n                />\r\n                <Button btnType=\"color-primary size-lg\">\r\n                    Update\r\n                </Button>\r\n            </form>\r\n        </Fragment >\r\n    )\r\n}\r\n\r\nUpdateProfile.propTypes = {\r\n    auth: PropTypes.object.isRequired,\r\n    updateEmail: PropTypes.func.isRequired,\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    auth: state.auth,\r\n});\r\n\r\nexport default connect(mapStateToProps, { updateEmail })(UpdateProfile);\r\n","import React, { Fragment, useState } from 'react'\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './UpdatePassword.module.scss';\r\nimport axios from '../../axios';\r\nimport { setAlert } from '../../store/actions/alert';\r\n\r\nimport TopBar from '../UI/TopBar/TopBar';\r\nimport Input from '../UI/Input/Input';\r\nimport Button from '../UI/Button/Button';\r\nimport Spinner from '../UI/Spinner/Spinner';\r\n\r\n\r\n\r\nconst UpdateProfile = ({ auth, setAlert, history }) => {\r\n    const [formData, setFormData] = useState({\r\n        curPassword: \"\",\r\n        newPassword: \"\",\r\n        confirmPassword: \"\",\r\n    });\r\n    const { curPassword, newPassword, confirmPassword } = formData;\r\n\r\n    if (!auth.isAuthenticated) return <Spinner />;\r\n\r\n    const onChange = (e) => {\r\n        e.preventDefault();\r\n        e.persist()\r\n        setFormData(() => ({\r\n            ...formData,\r\n            [e.target.name]: e.target.value\r\n        }));\r\n    };\r\n\r\n    const onSubmit = async (e) => {\r\n        e.preventDefault();\r\n        if (newPassword !== confirmPassword) {\r\n            return setAlert('New Password does not match Comfirm Password');\r\n        };\r\n        try {\r\n            await axios.put('/api/user/password', { curPassword, newPassword });\r\n            setAlert(\"Password Updated\", \"success\");\r\n            history.push('/mypage');\r\n        } catch (err) {\r\n            setAlert(err.response.data.message, \"danger\");\r\n        }\r\n\r\n\r\n\r\n    };\r\n\r\n\r\n    return (\r\n        <Fragment>\r\n            <TopBar />\r\n            <form onSubmit={e => onSubmit(e)} className={styles.form}>\r\n\r\n                <label>Current Password</label>\r\n                <Input\r\n                    type=\"password\"\r\n                    placeholder=\"Current Password\"\r\n                    name=\"curPassword\"\r\n                    value={curPassword}\r\n                    onChange={e => onChange(e)}\r\n                    required\r\n                />\r\n                <label>New Password</label>\r\n                <Input\r\n                    type=\"password\"\r\n                    placeholder=\"New Password\"\r\n                    name=\"newPassword\"\r\n                    value={newPassword}\r\n                    onChange={e => onChange(e)}\r\n                    required\r\n                />\r\n                <label>Confirm New Password</label>\r\n                <Input\r\n                    type=\"password\"\r\n                    placeholder=\"Confirm new password\"\r\n                    name=\"confirmPassword\"\r\n                    value={confirmPassword}\r\n                    onChange={e => onChange(e)}\r\n                    required\r\n                />\r\n                <Button btnType=\"color-primary size-lg\">\r\n                    Update\r\n                </Button>\r\n            </form>\r\n        </Fragment >\r\n    )\r\n}\r\n\r\nUpdateProfile.propTypes = {\r\n    auth: PropTypes.object.isRequired,\r\n    setAlert: PropTypes.func.isRequired,\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    auth: state.auth,\r\n});\r\n\r\nexport default connect(mapStateToProps, { setAlert })(UpdateProfile);\r\n","import React, { Component } from 'react';\nimport { BrowserRouter, Route, Switch, Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport PrivateRoute from './hoc/PrivateRoute';\n\n// Actions\nimport { loadUser } from './store/actions/auth';\n\n// Import Components\nimport Layout from './hoc/Layout/Layout';\nimport MyPage from './components/MyPage/MyPage';\nimport MyList from './components/MyList/MyList';\nimport Auth from './components/Auth/Auth';\nimport Products from './components/Products/Products';\nimport SingleProduct from './components/SingleProduct/SingleProduct';\nimport Sell from './components/Sell/Sell';\nimport EditPage from './components/EditPage/EditPage';\nimport Profile from './components/Profile/Profile';\nimport NotificationPage from './components/NotificationPage/NotificationPage';\nimport Inbox from './components/Inbox/Inbox';\nimport MessageBox from './components/MessageBox/MessageBox';\nimport MessageForm from './components/MessageForm/MessageForm';\nimport UpdateAvatar from './components/UpdateAvatar/UpdateAvatar';\nimport UpdateProfile from './components/UpdateProfile/UpdateProfile';\nimport UpdateEmail from './components/UpdateEmail/UpdateEmail';\nimport UpdatePassword from './components/UpdatePassword/UpdatePassword';\n\nclass App extends Component {\n  componentDidMount() {\n    this.props.loadUser();\n  }\n\n  render() {\n    const NotFoundPage = () => (\n      <p>404</p>\n    );\n\n    return (\n      <BrowserRouter>\n        <Layout>\n          <Switch>\n            <Route path=\"/products/:id\" component={SingleProduct} />\n            <Route path=\"/products\" exact component={Products} />\n            <PrivateRoute path=\"/mylist/:status\" component={MyList} />\n            <PrivateRoute path=\"/sell\" exact component={Sell} />\n            <PrivateRoute path=\"/edit/:id\" exact component={EditPage} />\n            <PrivateRoute path=\"/mypage\" exact component={MyPage} />\n            <PrivateRoute path=\"/mypage/update/avatar\" exact component={UpdateAvatar} />\n            <PrivateRoute path=\"/mypage/update/profile\" exact component={UpdateProfile} />\n            <PrivateRoute path=\"/mypage/update/email\" exact component={UpdateEmail} />\n            <PrivateRoute path=\"/mypage/update/password\" exact component={UpdatePassword} />\n            <PrivateRoute path=\"/notification\" exact component={NotificationPage} />\n            <PrivateRoute path=\"/inbox/recieved/:id\" component={MessageBox} />\n            <PrivateRoute path=\"/inbox/sent/:id\" component={MessageBox} />\n            <PrivateRoute path=\"/inbox/:status\" component={Inbox} />\n            <PrivateRoute path=\"/messages/:id\" component={MessageForm} />\n            <Route path=\"/profile/:id\" component={Profile} />\n            <Route path=\"/auth\" component={Auth} />\n            <Redirect from=\"/\" exact to=\"/products\" />\n            <Route component={NotFoundPage} />\n          </Switch>\n        </Layout>\n      </BrowserRouter>\n    );\n  };\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    auth: state.auth\n  };\n};\n\nApp.propTypes = {\n  auth: PropTypes.object,\n};\n\nexport default connect(mapStateToProps, { loadUser })(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import {\r\n    // LOAD_USER\r\n    LOAD_USER_START,\r\n    LOAD_USER_SUCCESS,\r\n    LOAD_USER_FAIL,\r\n\r\n    // REGISTER\r\n    REGISTER_START,\r\n    REGISTER_SUCCESS,\r\n    REGISTER_FAIL,\r\n\r\n    // LOGIN\r\n    LOGIN_START,\r\n    LOGIN_SUCCESS,\r\n    LOGIN_FAIL,\r\n\r\n    // LOGOUT\r\n    LOGOUT,\r\n\r\n    UPDATE_AVATAR_SUCCESS,\r\n    UPDATE_PROFILE_SUCCESS,\r\n    UPDATE_EMAIL_SUCCESS\r\n} from '../actions/actionType';\r\nimport axios from '../../axios';\r\n\r\n// ==========\r\n// Reducers\r\n// ==========\r\nconst authReducerDefaultState = {\r\n    token: localStorage.token,\r\n    isAuthenticated: false,\r\n    loading: true,\r\n    user: null\r\n};\r\nconst authReducer = (state = authReducerDefaultState, { type, payload }) => {\r\n    switch (type) {\r\n        case REGISTER_START:\r\n        case LOGIN_START:\r\n        case LOAD_USER_START:\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            };\r\n        case LOAD_USER_SUCCESS:\r\n            return {\r\n                ...state,\r\n                isAuthenticated: true,\r\n                loading: false,\r\n                user: { ...payload }\r\n            };\r\n        case REGISTER_SUCCESS:\r\n        case LOGIN_SUCCESS:\r\n            localStorage.setItem('token', payload.token);\r\n            return {\r\n                ...state,\r\n                ...payload,\r\n                isAuthenticated: true,\r\n                loading: false,\r\n            };\r\n        case UPDATE_AVATAR_SUCCESS:\r\n            return {\r\n                ...state,\r\n                user: {\r\n                    ...state.user,\r\n                    avatar: payload.avatar\r\n                }\r\n            };\r\n        case UPDATE_PROFILE_SUCCESS:\r\n            return {\r\n                ...state,\r\n                user: payload\r\n            };\r\n        case UPDATE_EMAIL_SUCCESS:\r\n            return {\r\n                ...state,\r\n                user: {\r\n                    ...state.user,\r\n                    email: payload\r\n                }\r\n            }\r\n        case REGISTER_FAIL:\r\n        case LOGIN_FAIL:\r\n        case LOAD_USER_FAIL:\r\n        case LOGOUT:\r\n            localStorage.removeItem('token');\r\n            axios.setAuthToken(null);\r\n            return {\r\n                token: null,\r\n                isAuthenticated: false,\r\n                loading: false,\r\n                user: null\r\n            }\r\n        default:\r\n            return state;\r\n    };\r\n};\r\n\r\nexport default authReducer;","import { SET_ALERT, REMOVE_ALERT } from '../actions/actionType';\r\n\r\n// Initial state\r\nconst alertReducerDefaultState = [];\r\n\r\n// Example of the state\r\n// [{ id, alertType, msg }, ...]\r\n\r\nconst authReducer = (state = alertReducerDefaultState, action) => {\r\n    const { type, payload } = action;\r\n\r\n    switch (type) {\r\n        case SET_ALERT:\r\n            return [...state, payload];\r\n        case REMOVE_ALERT:\r\n            return state.filter(alert => alert.id !== payload);\r\n        default:\r\n            return state;\r\n    };\r\n};\r\n\r\nexport default authReducer;","import {\r\n    SET_PRODUCT_START,\r\n    SET_PRODUCT_SUCCESS,\r\n    SET_PRODUCT_FAIL,\r\n    EDIT_PRODUCT_START,\r\n    EDIT_PRODUCT_SUCCESS,\r\n    EDIT_PRODUCT_FAIL,\r\n    GET_PRODUCTS_START,\r\n    GET_PRODUCTS_SUCCESS,\r\n    GET_PRODUCTS_FAIL,\r\n    REFRESH_PRODUCTS,\r\n    GET_PRODUCT_START,\r\n    GET_PRODUCT_SUCCESS,\r\n    GET_PRODUCT_FAIL,\r\n    DELETE_PRODUCT_START,\r\n    DELETE_PRODUCT_SUCCESS,\r\n    DELETE_PRODUCT_FAIL,\r\n    ADD_COMMENT_START,\r\n    ADD_COMMENT_SUCCESS,\r\n    ADD_COMMENT_FAIL,\r\n    SET_LIKE_START,\r\n    SET_LIKE_SUCCESS,\r\n    SET_LIKE_FAIL,\r\n    SET_UNLIKE_START,\r\n    SET_UNLIKE_SUCCESS,\r\n    SET_UNLIKE_FAIL,\r\n    PURCHASE_START,\r\n    PURCHASE_SUCCESS,\r\n    PURCHASE_FAIL,\r\n    CANCEL_START,\r\n    CANCEL_SUCCESS,\r\n    CANCEL_FAIL,\r\n    REJECT_START,\r\n    REJECT_SUCCESS,\r\n    REJECT_FAIL,\r\n} from '../actions/actionType.js';\r\n\r\nconst initialState = {\r\n    products: [],\r\n    hasMore: true,\r\n    product: null,\r\n    loading: {\r\n        setProduct: false,\r\n        getProduct: false,\r\n        getProducts: false,\r\n        deleteProduct: false,\r\n        comments: false,\r\n        likes: false,\r\n        purchase: false,\r\n    },\r\n    mylist: {\r\n        liked: {\r\n            hasMore: true,\r\n            products: []\r\n        },\r\n        purchased: {\r\n            hasMore: true,\r\n            products: []\r\n        },\r\n        sellings: {\r\n            hasMore: true,\r\n            products: []\r\n        }\r\n    },\r\n};\r\n\r\nexport default (state = initialState, action) => {\r\n    const { type, payload } = action;\r\n\r\n    switch (type) {\r\n        // ====================\r\n        // Start\r\n        // ====================\r\n        case SET_PRODUCT_START:\r\n        case EDIT_PRODUCT_START:\r\n            return {\r\n                ...state,\r\n                loading: {\r\n                    ...state.loading,\r\n                    setProduct: true\r\n                }\r\n            };\r\n        case GET_PRODUCTS_START:\r\n            return {\r\n                ...state,\r\n                loading: {\r\n                    ...state.loading,\r\n                    getProducts: true\r\n                }\r\n            };\r\n        case REFRESH_PRODUCTS:\r\n            return {\r\n                ...state,\r\n                hasMore: true,\r\n                products: [],\r\n            };\r\n        case GET_PRODUCT_START:\r\n            // concat state.products,\r\n            let existingProduct = state.products.find((product) => product._id.toString() === payload);\r\n            let shouldBeLoading = false;\r\n            if (!existingProduct) {\r\n                existingProduct = null;\r\n                shouldBeLoading = true;\r\n            }\r\n            return {\r\n                ...state,\r\n                loading: {\r\n                    ...state.loading,\r\n                    getProduct: shouldBeLoading\r\n                },\r\n                product: existingProduct\r\n            };\r\n        case DELETE_PRODUCT_START:\r\n            return {\r\n                ...state,\r\n                loading: {\r\n                    ...state.loading,\r\n                    deleteProduct: true\r\n                }\r\n            };\r\n        case ADD_COMMENT_START:\r\n            return {\r\n                ...state,\r\n                loading: {\r\n                    ...state.loading,\r\n                    comments: true\r\n                }\r\n            };\r\n        case SET_LIKE_START:\r\n        case SET_UNLIKE_START:\r\n            return {\r\n                ...state,\r\n                loading: {\r\n                    ...state.loading,\r\n                    likes: true\r\n                }\r\n            }\r\n        case PURCHASE_START:\r\n        case CANCEL_START:\r\n        case REJECT_START:\r\n            return {\r\n                ...state,\r\n                loading: {\r\n                    ...state.loading,\r\n                    purchase: true\r\n                }\r\n            }\r\n        // ====================\r\n        // SUCCESS\r\n        // ====================\r\n        case SET_PRODUCT_SUCCESS: // It could be something else\r\n        case EDIT_PRODUCT_SUCCESS:\r\n            return {\r\n                ...state,\r\n                loading: {\r\n                    ...state.loading,\r\n                    setProduct: false\r\n                },\r\n            };\r\n        case GET_PRODUCTS_SUCCESS:\r\n            return {\r\n                ...state,\r\n                loading: {\r\n                    ...state.loading,\r\n                    getProducts: false\r\n                },\r\n                hasMore: payload.hasMore,\r\n                products: [...state.products, ...payload.products]\r\n            };\r\n        case GET_PRODUCT_SUCCESS:\r\n            return {\r\n                ...state,\r\n                product: payload,\r\n                loading: {\r\n                    ...state.loading,\r\n                    getProduct: false\r\n                },\r\n            };\r\n        case ADD_COMMENT_SUCCESS:\r\n            return {\r\n                ...state,\r\n                loading: {\r\n                    ...state.loading,\r\n                    comments: false\r\n                },\r\n                product: {\r\n                    ...state.product,\r\n                    comments: payload\r\n                }\r\n            };\r\n        case SET_LIKE_SUCCESS:\r\n        case SET_UNLIKE_SUCCESS:\r\n            return {\r\n                ...state,\r\n                loading: {\r\n                    ...state.loading,\r\n                    likes: false\r\n                },\r\n                product: {\r\n                    ...state.product,\r\n                    likes: payload\r\n                }\r\n            };\r\n        case PURCHASE_SUCCESS:\r\n        case CANCEL_SUCCESS:\r\n        case REJECT_SUCCESS:\r\n            return {\r\n                ...state,\r\n                loading: {\r\n                    ...state.loading,\r\n                    purchase: false\r\n                },\r\n                product: {\r\n                    ...state.product,\r\n                    ...payload\r\n                }\r\n            };\r\n        case DELETE_PRODUCT_SUCCESS:\r\n            let product = state.product;\r\n            if (state.product._id.toString() === payload) {\r\n                product = null\r\n            }\r\n            return {\r\n                ...state,\r\n                loading: {\r\n                    ...state.loading,\r\n                    deleteProduct: false\r\n                },\r\n                product\r\n            }\r\n\r\n        // ====================\r\n        // FAIL\r\n        // ====================\r\n        case SET_PRODUCT_FAIL:\r\n        case EDIT_PRODUCT_FAIL:\r\n            return {\r\n                ...state,\r\n                loading: {\r\n                    ...state.loading,\r\n                    setProduct: false\r\n                },\r\n            };\r\n        case GET_PRODUCTS_FAIL:\r\n            return {\r\n                ...state,\r\n                loading: {\r\n                    ...state.loading,\r\n                    getProducts: false\r\n                },\r\n            };\r\n        case GET_PRODUCT_FAIL:\r\n            return {\r\n                ...state,\r\n                loading: {\r\n                    ...state.loading,\r\n                    getProduct: false\r\n                },\r\n            };\r\n        case DELETE_PRODUCT_FAIL:\r\n            return {\r\n                ...state,\r\n                loading: {\r\n                    ...state.loading,\r\n                    deleteProduct: false\r\n                },\r\n            };\r\n        case ADD_COMMENT_FAIL:\r\n            return {\r\n                ...state,\r\n                loading: {\r\n                    ...state.loading,\r\n                    comments: false\r\n                },\r\n            };\r\n        case SET_LIKE_FAIL:\r\n        case SET_UNLIKE_FAIL:\r\n            return {\r\n                ...state,\r\n                loading: {\r\n                    ...state.loading,\r\n                    likes: false\r\n                }\r\n            };\r\n        case PURCHASE_FAIL:\r\n        case CANCEL_FAIL:\r\n        case REJECT_FAIL:\r\n            return {\r\n                ...state,\r\n                loading: {\r\n                    ...state.loading,\r\n                    purchase: false\r\n                }\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};","import {\r\n    CLEAR_RECIEVED_MESSAGES,\r\n    CLEAR_SENT_MESSAGES,\r\n    GET_RECIEVED_START,\r\n    GET_RECIEVED_SUCCESS,\r\n    GET_RECIEVED_FAIL,\r\n    GET_SENT_START,\r\n    GET_SENT_SUCCESS,\r\n    GET_SENT_FAIL,\r\n    GET_MESSAGE_START,\r\n    GET_MESSAGE_SUCCESS,\r\n    GET_MESSAGE_FAIL,\r\n    SEND_MESSAGE_START,\r\n    SEND_MESSAGE_SUCCESS,\r\n    SEND_MESSAGE_FAIL,\r\n    CLEAR_MESSAGES,\r\n    COUNT_UNSEEN_MESSAGES\r\n} from '../actions/actionType';\r\n\r\nconst initialState = {\r\n    recieved: {\r\n        messages: [],\r\n        hasMore: true,\r\n        loading: false,\r\n    },\r\n    sent: {\r\n        messages: [],\r\n        hasMore: true,\r\n        loading: false\r\n    },\r\n    message: null,\r\n    loading: {\r\n        getMessage: false,\r\n        sendMessage: false\r\n    },\r\n    count: null\r\n};\r\n\r\nexport default (state = initialState, action) => {\r\n    const { type, payload } = action;\r\n\r\n    switch (type) {\r\n        // ===================\r\n        // CLEAR messages\r\n        // ===================\r\n        case CLEAR_RECIEVED_MESSAGES:\r\n            return {\r\n                ...state,\r\n                recieved: {\r\n                    ...initialState.recieved\r\n                }\r\n            };\r\n        case CLEAR_SENT_MESSAGES:\r\n            return {\r\n                ...state,\r\n                sent: {\r\n                    ...initialState.sent\r\n                }\r\n            };\r\n        // ===================\r\n        // Get recieved messages\r\n        // ===================\r\n        case GET_RECIEVED_START:\r\n            return {\r\n                ...state,\r\n                recieved: {\r\n                    ...state.recieved,\r\n                    loading: true\r\n                }\r\n            };\r\n        case GET_RECIEVED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                recieved: {\r\n                    messages: [...state.recieved.messages, ...payload.messages],\r\n                    hasMore: payload.hasMore,\r\n                    loading: false\r\n                }\r\n            }\r\n        case GET_RECIEVED_FAIL:\r\n            return {\r\n                ...state,\r\n                recieved: {\r\n                    ...state.recieved,\r\n                    loading: false\r\n                }\r\n            };\r\n        // ===================\r\n        // Get sent messages\r\n        // ===================\r\n        case GET_SENT_START:\r\n            return {\r\n                ...state,\r\n                sent: {\r\n                    ...state.sent,\r\n                    loading: true\r\n                }\r\n            };\r\n        case GET_SENT_SUCCESS:\r\n            return {\r\n                ...state,\r\n                sent: {\r\n                    messages: [...state.sent.messages, ...payload.messages],\r\n                    hasMore: payload.hasMore,\r\n                    loading: false\r\n                }\r\n            }\r\n        case GET_SENT_FAIL:\r\n            return {\r\n                ...state,\r\n                sent: {\r\n                    ...state.sent,\r\n                    loading: false\r\n                }\r\n            };\r\n        // ===================\r\n        // Get a message\r\n        // ===================\r\n        case GET_MESSAGE_START:\r\n            let message = state.recieved.messages.find((msg) => msg._id.toString() === payload);\r\n            if (!message) {\r\n                message = state.sent.messages.find((msg) => msg._id.toString() === payload);\r\n            };\r\n            if (!message) message = null;\r\n\r\n            return {\r\n                ...state,\r\n                loading: {\r\n                    ...state.loading,\r\n                    getMessage: true\r\n                },\r\n                message\r\n            };\r\n        case GET_MESSAGE_SUCCESS:\r\n            let decrease = 0;\r\n            const newMessages = state.recieved.messages.map((message) => {\r\n                if (payload._id.toString() === message._id.toString() && message.seen === false) {\r\n                    message.seen = true;\r\n                    decrease++\r\n                }\r\n                return message;\r\n            });\r\n\r\n            return {\r\n                ...state,\r\n                message: payload,\r\n                loading: {\r\n                    ...state.loading,\r\n                    getMessage: false\r\n                },\r\n                recieved: {\r\n                    ...state.recieved,\r\n                    messages: newMessages\r\n                },\r\n                count: state.count - decrease\r\n            }\r\n        case GET_MESSAGE_FAIL:\r\n            return {\r\n                ...state,\r\n                sent: payload,\r\n                loading: {\r\n                    ...state.loading,\r\n                    getMessage: false\r\n                }\r\n            };\r\n        // ===================\r\n        // Send a message\r\n        // ===================\r\n        case SEND_MESSAGE_START:\r\n            return {\r\n                ...state,\r\n                loading: {\r\n                    ...state.loading,\r\n                    sendMessage: true\r\n                }\r\n            };\r\n        case SEND_MESSAGE_SUCCESS:\r\n            return {\r\n                ...state,\r\n                loading: {\r\n                    ...state.loading,\r\n                    sendMessage: false\r\n                }\r\n            }\r\n        case SEND_MESSAGE_FAIL:\r\n            return {\r\n                ...state,\r\n                loading: {\r\n                    ...state.loading,\r\n                    sendMessage: false\r\n                }\r\n            };\r\n\r\n        case CLEAR_MESSAGES:\r\n            return {\r\n                ...initialState\r\n            }\r\n        case COUNT_UNSEEN_MESSAGES:\r\n            return {\r\n                ...state,\r\n                count: payload\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n","import {\r\n    GET_PROFILE_START,\r\n    GET_PROFILE_SUCCESS,\r\n    GET_PROFILE_FAIL,\r\n    GET_PROFILE_PRODUCTS_START,\r\n    GET_PROFILE_PRODUCTS_SUCCESS,\r\n    GET_PROFILE_PRODUCTS_FAIL\r\n} from '../actions/actionType';\r\n\r\n\r\nconst profileReducerDefaultState = {\r\n    user: null,\r\n    loading: {\r\n        user: false,\r\n        products: false\r\n    },\r\n    products: {\r\n        products: [],\r\n        hasMore: true,\r\n    },\r\n};\r\n\r\nconst profileReducer = (state = profileReducerDefaultState, { type, payload }) => {\r\n    switch (type) {\r\n        // ==================\r\n        // Get profile\r\n        // ==================\r\n        case GET_PROFILE_START:\r\n            return {\r\n                ...state,\r\n                products: {\r\n                    ...profileReducerDefaultState.products\r\n                },\r\n                loading: {\r\n                    ...state.loading,\r\n                    user: true\r\n                }\r\n            };\r\n        case GET_PROFILE_SUCCESS:\r\n            return {\r\n                ...state,\r\n                user: payload,\r\n                loading: {\r\n                    ...state.loading,\r\n                    user: false\r\n                }\r\n            };\r\n        case GET_PROFILE_FAIL:\r\n            return profileReducerDefaultState;\r\n        // ==================\r\n        // Get Products\r\n        // ==================\r\n        case GET_PROFILE_PRODUCTS_START:\r\n            return {\r\n                ...state,\r\n                loading: {\r\n                    ...state.loading,\r\n                    products: true\r\n                }\r\n            };\r\n        case GET_PROFILE_PRODUCTS_SUCCESS:\r\n            return {\r\n                ...state,\r\n                products: {\r\n                    products: [...state.products.products, ...payload.products],\r\n                    hasMore: payload.hasMore,\r\n                },\r\n                loading: {\r\n                    ...state.loading,\r\n                    products: false\r\n                }\r\n            };\r\n        case GET_PROFILE_PRODUCTS_FAIL:\r\n            return {\r\n                ...state,\r\n                products: {\r\n                    products: [],\r\n                    hasMore: false\r\n                },\r\n                loading: {\r\n                    ...state.loading,\r\n                    products: false\r\n                }\r\n            };\r\n        default:\r\n            return state;\r\n    };\r\n};\r\n\r\nexport default profileReducer;","import {\r\n    GET_LIKED_START,\r\n    GET_LIKED_SUCCESS,\r\n    GET_LIKED_FAIL,\r\n    GET_PURCHASED_START,\r\n    GET_PURCHASED_SUCCESS,\r\n    GET_PURCHASED_FAIL,\r\n    GET_SELLINGS_START,\r\n    GET_SELLINGS_SUCCESS,\r\n    GET_SELLINGS_FAIL,\r\n    CLEAR_LIKED,\r\n    CLEAR_PURCHASED,\r\n    CLEAR_SELLINGS,\r\n} from '../actions/actionType.js';\r\n\r\nconst initialState = {\r\n    liked: {\r\n        products: [],\r\n        hasMore: true,\r\n        loading: false\r\n    },\r\n    purchased: {\r\n        products: [],\r\n        hasMore: true,\r\n        loading: false,\r\n    },\r\n    sellings: {\r\n        products: [],\r\n        hasMore: true,\r\n        loading: false\r\n    }\r\n};\r\n\r\nexport default (state = initialState, action) => {\r\n    const { type, payload } = action;\r\n\r\n    switch (type) {\r\n        // ===============\r\n        // CLEAR to refresh\r\n        // ===============\r\n        case CLEAR_LIKED:\r\n            return {\r\n                ...state,\r\n                liked: { ...initialState.liked }\r\n            }\r\n        case CLEAR_PURCHASED:\r\n            return {\r\n                ...state,\r\n                purchased: { ...initialState.purchased }\r\n            }\r\n        case CLEAR_SELLINGS:\r\n            return {\r\n                ...state,\r\n                sellings: { ...initialState.sellings }\r\n            }\r\n\r\n        // ===============\r\n        // GET LIKED\r\n        // ===============\r\n        case GET_LIKED_START:\r\n            return {\r\n                ...state,\r\n                liked: {\r\n                    ...state.liked,\r\n                    loading: true\r\n                }\r\n            }\r\n        case GET_LIKED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                liked: {\r\n                    products: [...state.liked.products, ...payload.products],\r\n                    loading: false,\r\n                    hasMore: payload.hasMore\r\n                }\r\n            }\r\n        case GET_LIKED_FAIL:\r\n            return {\r\n                ...state,\r\n                liked: {\r\n                    ...state.liked,\r\n                    loading: false,\r\n                }\r\n            }\r\n        // ===============\r\n        // GET Purchased\r\n        // ===============\r\n        case GET_PURCHASED_START:\r\n            return {\r\n                ...state,\r\n                purchased: {\r\n                    ...state.purchased,\r\n                    loading: true\r\n                }\r\n            }\r\n        case GET_PURCHASED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                purchased: {\r\n                    products: [...state.purchased.products, ...payload.products],\r\n                    loading: false,\r\n                    hasMore: payload.hasMore\r\n                }\r\n            }\r\n        case GET_PURCHASED_FAIL:\r\n            return {\r\n                ...state,\r\n                purchased: {\r\n                    ...state.purchased,\r\n                    loading: false,\r\n                }\r\n            }\r\n        // ===============\r\n        // GET SELLINGS\r\n        // ===============\r\n        case GET_SELLINGS_START:\r\n            return {\r\n                ...state,\r\n                sellings: {\r\n                    ...state.sellings,\r\n                    loading: true\r\n                }\r\n            }\r\n        case GET_SELLINGS_SUCCESS:\r\n            return {\r\n                ...state,\r\n                sellings: {\r\n                    products: [...state.sellings.products, ...payload.products],\r\n                    loading: false,\r\n                    hasMore: payload.hasMore\r\n                }\r\n            }\r\n        case GET_SELLINGS_FAIL:\r\n            return {\r\n                ...state,\r\n                sellings: {\r\n                    ...state.sellings,\r\n                    loading: false,\r\n                }\r\n            }\r\n        default:\r\n            return state\r\n    };\r\n};","import {\r\n    CLEAR_NOTIFICATIONS,\r\n\r\n    GET_NOTIFICATIONS_START,\r\n    GET_NOTIFICATIONS_SUCCESS,\r\n    GET_NOTIFICATIONS_FAIL,\r\n\r\n    COUNT_UNSEEN_NOTIFICATIONS\r\n} from '../actions/actionType';\r\n\r\nconst initialState = {\r\n    notifications: [],\r\n    hasMore: true,\r\n    loading: false,\r\n    count: null\r\n};\r\n\r\nexport default (state = initialState, action) => {\r\n    const { type, payload } = action;\r\n\r\n    switch (type) {\r\n        // ===================\r\n        // Get notifications\r\n        // ===================\r\n        case GET_NOTIFICATIONS_START:\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            };\r\n        case GET_NOTIFICATIONS_SUCCESS:\r\n            return {\r\n                ...state,\r\n                notifications: [...state.notifications, ...payload.notifications],\r\n                hasMore: payload.hasMore,\r\n                loading: false,\r\n                count: state.count - payload.countUnseenToSeen\r\n            }\r\n        case GET_NOTIFICATIONS_FAIL:\r\n            return {\r\n                ...state,\r\n                loading: false\r\n            };\r\n        case CLEAR_NOTIFICATIONS:\r\n            return {\r\n                ...initialState\r\n            }\r\n        case COUNT_UNSEEN_NOTIFICATIONS:\r\n            return {\r\n                ...state,\r\n                count: payload\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n","import { createStore, combineReducers, applyMiddleware, compose } from 'redux';\r\nimport thunk from 'redux-thunk';\r\n\r\nimport authReducer from './reducers/auth';\r\nimport alertReducer from './reducers/alert';\r\nimport productReducer from './reducers/product';\r\nimport messageReducer from './reducers/message';\r\nimport profileReducer from './reducers/profile';\r\nimport mylistReducer from './reducers/mylist';\r\nimport notificationReducer from './reducers/notification';\r\n\r\nconst middleware = [thunk];\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\n\r\n// Combine reducers\r\nconst rootReducer = combineReducers({\r\n    auth: authReducer,\r\n    alerts: alertReducer,\r\n    product: productReducer,\r\n    message: messageReducer,\r\n    profile: profileReducer,\r\n    mylist: mylistReducer,\r\n    notification: notificationReducer\r\n});\r\n\r\n\r\nexport default () => {\r\n    const store = createStore(\r\n        rootReducer,\r\n        {},\r\n        composeEnhancers(applyMiddleware(...middleware))\r\n    );\r\n\r\n    return store;\r\n};","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/base.module.scss';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { Provider } from 'react-redux';\nimport configStore from './store/configStore';\n\nconst store = configStore();\n\nconst app = (\n    <Provider store={store}>\n        <App />\n    </Provider>\n);\n\nReactDOM.render(app, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Product\":\"Product_Product__Z_Lb-\",\"imageWrapper\":\"Product_imageWrapper__IYGrF\",\"Image\":\"Product_Image__GQRK4\",\"soldOut\":\"Product_soldOut__UKplX\",\"TextBox\":\"Product_TextBox__2LvQ0\",\"Main\":\"Product_Main__1VFXs\",\"Sub\":\"Product_Sub__3O4Mf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Main\":\"Main_Main__3LxFC\",\"Container\":\"Main_Container__f0szg\",\"subContainer\":\"Main_subContainer__QsWvS\",\"card\":\"Main_card__1xhPd\",\"Image\":\"Main_Image__1MvjZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Link\":\"Message_Link__3VrXH\",\"Message\":\"Message_Message__2EobY\",\"Image\":\"Message_Image__3-1zg\",\"Name\":\"Message_Name__3Gdt1\",\"Time\":\"Message_Time__3zU3Z\",\"Text\":\"Message_Text__vwVPV\",\"unseen\":\"Message_unseen__17BNs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Link\":\"NavItem_Link__12IAj\",\"Icon\":\"NavItem_Icon__1GZEM\",\"menuTitle\":\"NavItem_menuTitle__3chF9\",\"counter\":\"NavItem_counter__2DtZd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Setting\":\"Setting_Setting__1i593\",\"links\":\"Setting_links__3mPc7\",\"Link\":\"Setting_Link__39YOm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Link\":\"Notification_Link__y_-qW\",\"Notification\":\"Notification_Notification__2szzd\",\"Image\":\"Notification_Image__3yVt-\",\"rightContainer\":\"Notification_rightContainer__3gWtb\",\"Text\":\"Notification_Text__1YX9B\",\"Time\":\"Notification_Time__2aaKv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Navigation\":\"Navigation_Navigation__1nrRq\",\"NavigationItems\":\"Navigation_NavigationItems__1WELQ\",\"active\":\"Navigation_active__1aO7i\",\"search\":\"Navigation_search__KlPGF\",\"searchInput\":\"Navigation_searchInput__10_TP\",\"searchIcon\":\"Navigation_searchIcon__2t3Ux\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"onSignupChange\":\"FormTypeChanger_onSignupChange__30JXm\",\"onLoginChange\":\"FormTypeChanger_onLoginChange__3UUq0\",\"active\":\"FormTypeChanger_active__2Ye0C\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Comments\":\"Comments_Comments__19-ir\",\"Textarea\":\"Comments_Textarea__38Jkm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Sell\":\"Sell_Sell__3svuu\",\"ImageDropAndCrop\":\"Sell_ImageDropAndCrop__sHfUJ\",\"sellForm\":\"Sell_sellForm__2npGY\",\"btn\":\"Sell_btn__1RQqR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Sell\":\"EditPage_Sell__2jcug\",\"ImageDropAndCrop\":\"EditPage_ImageDropAndCrop__zeY6h\",\"sellForm\":\"EditPage_sellForm__jeGFA\",\"btn\":\"EditPage_btn__3JLER\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mypage\":\"MyPage_mypage__3m3qU\",\"hr\":\"MyPage_hr__2ssgd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Switcher\":\"Switcher_Switcher__2O-qR\",\"button\":\"Switcher_button__2SrN7\",\"active\":\"Switcher_active__3q8Rj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Input\":\"Input_Input__3uJvy\",\"Textarea\":\"Input_Textarea__1RyLW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"BottomBar\":\"BottomBar_BottomBar__OkQhW\",\"text\":\"BottomBar_text__2fpYs\",\"button\":\"BottomBar_button__AW3jN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"likeButton\":\"LikeButton_likeButton__2hA4H\",\"Like\":\"LikeButton_Like__F3uYy\",\"Unlike\":\"LikeButton_Unlike__3ua1V\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Message\":\"Message_Message__P-CYd\",\"textsContainer\":\"Message_textsContainer__1J_Id\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"TopBar\":\"TopBar_TopBar__15alL\",\"GoBack\":\"TopBar_GoBack__zTm1I\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Comment\":\"Comment_Comment__3iocc\",\"User\":\"Comment_User__1DHJW\",\"UserPicture\":\"Comment_UserPicture__1JMaZ\",\"Text\":\"Comment_Text__2__P7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"User\":\"UserInfo_User__kVj8R\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Profile\":\"Profile_Profile__1WGBg\",\"hr\":\"Profile_hr__bKF3g\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileImage\":\"User_profileImage__3qETj\",\"icons\":\"User_icons__27lpR\"};"],"sourceRoot":""}