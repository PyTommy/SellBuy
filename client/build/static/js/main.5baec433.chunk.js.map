{"version":3,"sources":["hoc/Layout/Layout.module.scss","components/MyPage/DisplayProfile/DisplayProfile.module.scss","components/UI/Pictures/PictureRadius/PictureRadius.module.scss","components/MyList/MyList.module.scss","components/UI/Center/Center.module.scss","components/Auth/Auth.module.scss","components/Auth/AuthForm/AuthForm.module.scss","components/Products/Products.module.scss","components/SingleProduct/TopBar/TopBar.module.scss","components/UI/UserInfoCard/UserInfoCard.module.scss","components/Products/Search/Search.module.scss","components/Profile/Products/Products.module.scss","components/NotificationPage/Notification.module.scss","components/Inbox/Inbox.module.scss","components/MessageBox/MessageBox.module.scss","components/MessageForm/MessageForm.module.scss","components/UpdateAvatar/UpdateAvatar.module.scss","components/UpdateProfile/UpdateProfile.module.scss","components/UpdateEmail/UpdateEmail.module.scss","components/UpdatePassword/UpdatePassword.module.scss","components/Navigation/Search/Search.module.scss","components/UI/ImageDropAndCrop/ImageDropAndCrop.module.scss","assets/default.png","hoc/Layout/Alerts/Alerts.module.scss","components/UI/Button/Button.module.scss","hoc/PrivateRoute.js","axios.js","store/actions/alert.js","store/actions/actionType.js","store/actions/message.js","store/actions/notification.js","store/actions/mylist.js","store/actions/auth.js","components/Navigation/NavItem/NavItem.js","store/actions/filters.js","store/actions/product.js","components/Navigation/Search/Search.js","components/Navigation/Navigation.js","hoc/Layout/Alerts/Alerts.js","hoc/Layout/Layout.js","components/UI/Spinner/Spinner.js","utils/imageConverter.js","components/UI/Pictures/PictureRadius/PictureRadius.js","components/MyPage/DisplayProfile/DisplayProfile.js","components/UI/Button/Button.js","components/MyPage/Logout/Logout.js","components/MyPage/Setting/Setting.js","components/MyPage/MyPage.js","components/UI/Switcher/Switcher.js","components/UI/Scroller/Scroller.js","utils/textAbstract.js","components/UI/Product/Product.js","components/UI/Center/Center.js","components/MyList/MyList.js","components/UI/Input/Input.js","components/Auth/AuthForm/AuthForm.js","components/Auth/FormTypeChanger/FormTypeChanger.js","components/Auth/Auth.js","components/Products/Search/Search.js","components/Products/Products.js","components/ScrollToTop.js","components/UI/BottomBar/BottomBar.js","components/UI/TopBar/TopBar.js","components/UI/LikeButton/LikeButton.js","components/SingleProduct/TopBar/TopBar.js","components/UI/TextToJSX/TextToJSX.js","components/UI/UserInfo/UserInfo.js","components/SingleProduct/Comment/Comment.js","components/SingleProduct/Comments/Comments.js","components/UI/UserInfoCard/UserInfoCard.js","components/SingleProduct/Main/Main.js","components/SingleProduct/SingleProduct.js","components/UI/ImageDropAndCrop/utils/verify.js","components/UI/ImageDropAndCrop/ImageDropAndCrop.js","components/UI/ImageDropAndCrop/utils/base64.js","components/EditPage/EditPage.js","store/actions/profile.js","components/Profile/User/User.js","components/Profile/Products/Products.js","components/Profile/Profile.js","utils/ago.js","components/NotificationPage/Notification/Notification.js","components/NotificationPage/NotificationPage.js","components/Inbox/Message/Message.js","components/Inbox/Inbox.js","components/MessageBox/TopBar/TopBar.js","components/MessageBox/Message/Message.js","components/MessageBox/ReplyForm/ReplyForm.js","components/MessageBox/MessageBox.js","components/MessageForm/MessageForm.js","components/UpdateAvatar/UpdateAvatar.js","components/UpdateProfile/UpdateProfile.js","components/UpdateEmail/UpdateEmail.js","components/UpdatePassword/UpdatePassword.js","App.js","serviceWorker.js","store/reducers/auth.js","store/reducers/alert.js","store/reducers/product.js","store/reducers/message.js","store/reducers/profile.js","store/reducers/mylist.js","store/reducers/notification.js","store/reducers/filters.js","store/configStore.js","index.js","components/UI/Product/Product.module.scss","components/Inbox/Message/Message.module.scss","components/Navigation/NavItem/NavItem.module.scss","components/MyPage/Setting/Setting.module.scss","components/NotificationPage/Notification/Notification.module.scss","components/SingleProduct/Main/Main.module.scss","components/Auth/FormTypeChanger/FormTypeChanger.module.scss","components/SingleProduct/Comments/Comments.module.scss","components/EditPage/EditPage.module.scss","components/MyPage/MyPage.module.scss","components/UI/Switcher/Switcher.module.scss","components/UI/Input/Input.module.scss","components/UI/BottomBar/BottomBar.module.scss","components/UI/LikeButton/LikeButton.module.scss","components/MessageBox/Message/Message.module.scss","components/Navigation/Navigation.module.scss","components/UI/TopBar/TopBar.module.scss","components/SingleProduct/Comment/Comment.module.scss","components/UI/UserInfo/UserInfo.module.scss","components/Profile/Profile.module.scss","components/Profile/User/User.module.scss"],"names":["module","exports","connect","state","auth","Component","component","isAuthenticated","loading","rest","render","props","to","instance","axios","create","headers","setAuthToken","token","defaults","common","setAlert","message","alertType","timeout","dispatch","Array","forEach","singleMessage","id","uuid","v4","type","payload","msg","setTimeout","countUnseenMessages","a","async","get","res","data","count","response","sendMessage","recipientId","text","post","countUnseenNotifications","clearNotifications","clearLiked","clearPurchased","clearSellings","loadUser","localStorage","name","NavItem","WrapperComponent","linkTo","className","styles","Link","activeClassName","active","join","counter","Icon","menuTitle","children","setSearch","search","setCategory","category","config","refreshProducts","getProduct","productId","filter","product","useState","show","setShow","isModified","setIsModified","searchInput","React","createRef","onShowHandler","current","readOnly","focus","onSubmit","onCategoryClick","e","selectedCategory","target","getAttribute","onSubmitHandler","preventDefault","blur","categoryList","value","map","el","key","onClick","categoryActive","unfocusedSearchInput","topBox","searchInputContainer","placeholder","onChange","persist","ref","searchInputClear","categories","searchIcon","backdrop","msgCount","notificationCount","notification","withRouter","location","HomeNav","IoMdHome","MyList","IoIosList","SellNav","MdAttachMoney","NotificationNav","IoMdNotifications","InboxNav","IoMdMail","MyPageNav","IoMdContact","AuthNav","navItems","Navigation","pathname","NavigationItems","alerts","appliedAlertsClass","length","Alerts","alert","Alert","Success","Danger","Fragment","main","style","size","color","center","centeredStyle","position","width","height","display","alignItems","justifyContent","textAlign","buffer","require","binary","slice","call","Uint8Array","b","String","fromCharCode","window","btoa","PictureRadius","src","alt","appliedClasses","profilePic","push","user","history","avatar","avatarSrc","imageConverter","DisplayProfile","Button","btnType","spinnerSize","classes","includes","colorPrimary","colorOrange","colorDanger","borderGray","sizeSmall","sizeLarge","Spinner","logout","marginLeft","marginRight","Setting","links","margin","mypage","hr","Switcher","items","buttons","item","button","onClickHandler","gridTemplateColumns","Scroller","onRefreshFunc","loadMoreFunc","hasMore","spinnerMarginTop","invisible","activate","top","left","transform","marginTop","paddingBottom","deactivate","getScrollContainer","document","body","onRefresh","indicator","release","finish","distanceToRefresh","damping","pageStart","threshold","loadMore","loader","substring","_id","price","meetupAt","imageSrc","productImageLow","Product","imageWrapper","Image","sold","soldOut","TextBox","Main","toLocaleString","Sub","textAbstract","liked","mylist","purchased","sellings","getLiked","skip","products","getPurchased","getSellings","match","status","params","productArray","fetchProducts","refresh","productList","Center","Input","required","Textarea","login","email","password","failCB","register","isSignup","setLoading","password2","formData","setFormData","useEffect","prevState","AuthForm","FormTypeChanger","onChangeFormType","signupButtonClass","onSignupChange","loginButtonClass","onLoginChange","setIsSignup","form","boolean","Auth","onCloseHandler","Search","backIcon","getProducts","obj","limit","queries","singleProduct","Products","ScrollToTopOnMount","scrollTo","BottomBar","buttonText","onButtonClick","TopBar","GoBack","goBack","LikeButton","isLiked","likeButton","Like","Unlike","loadingLike","likes","deleteProduct","delete","setLike","callback","put","setUnlike","onLikeButtonClicked","TextToJSX","line","len","split","i","title","userId","imageSize","imageLeft","fontSize","fontWeight","marginBetween","marginForName","picture","UserPicture","nameDiv","User","Comment","comment","Text","comments","addComment","PropTypes","func","isRequired","newComment","setNewComment","Header","Comments","UserInfoCard","card","productImage","description","purchaser","Container","subContainer","purchaseProduct","cb","cancelProduct","rejectProduct","purchaseLoading","setPurchaseLoading","toString","files","maxSize","acceptedFileTypes","acceptedFileTypesArray","trim","currentFile","currentFileType","currentFileSize","ImgDropAndCrop","cropping","defaultImage","crop","unit","aspect","croppedImageBase64","onSelectFile","rejectedFiles","console","log","verifyFile","reader","FileReader","addEventListener","setState","result","readAsDataURL","onImageLoaded","image","imageRef","onCropComplete","canvas","createElement","scaleX","naturalWidth","scaleY","naturalHeight","originWidth","originHeight","targetWidth","targetHeight","Math","round","getContext","drawImage","x","y","toDataURL","getCroppedImg","onCropChange","percentCrop","readyToUpload","uploadableFile","base64String","filename","arr","mime","bstr","atob","n","u8arr","charCodeAt","File","base64StringtoFile","setImage","this","ReactCropContainer","ReactCrop","onComplete","edit","remove","onDrop","multiple","accept","getRootProps","getInputProps","Dropzone","DropzoneIcon","PureComponent","initFormState","inputValues","imgModified","formReducer","action","inputIdentifier","imageFile","initState","Error","EditPage","useSelector","useDispatch","useReducer","formState","formDispatch","onTextChange","newFormData","FormData","append","editProduct","Sell","ImageDropAndCrop","sellForm","btn","getProfile","profileImage","icons","facebook","href","profile","getProfileProducts","content","Profile","moment","updateLocale","relativeTime","future","past","s","m","mm","h","hh","d","dd","M","MM","yy","ago","date","fromNow","Notification","trigger","innerHTML","createdAt","rightContainer","parse","Time","getNotifications","notifications","countUnseenToSeen","refreshNotifications","noMsg","messageId","checkRecieved","partialPath","seen","Message","Name","unseen","clearRecievedMessages","clearSentMessages","getRecieved","messages","getSent","recieved","sent","senderName","sender","recipientName","recipient","getMessages","refreshMessages","counterParty","font-size","toOrFrom","amIRecipient","textsContainer","ReplyForm","setMessage","getMessage","path","MessageBoxMain","MessageForm","updateAvatar","avatarFile","setAvatarFile","updateProfile","updateEmail","successCB","curPassword","newPassword","confirmPassword","App","Layout","SingleProduct","exact","from","MyPage","UpdateAvatar","UpdateProfile","UpdateEmail","UpdatePassword","NotificationPage","MessageBox","Inbox","Boolean","hostname","authReducerDefaultState","authReducer","setItem","removeItem","alertReducerDefaultState","initialState","profileReducerDefaultState","profileReducer","middleware","thunk","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","rootReducer","combineReducers","alertReducer","existingProduct","find","shouldBeLoading","decrease","newMessages","store","createStore","applyMiddleware","app","ReactDOM","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.5baec433.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Layout_main__2dloT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"DisplayProfile\":\"DisplayProfile_DisplayProfile__12H36\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profilePic\":\"PictureRadius_profilePic__2fSaV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"items\":\"MyList_items__EMMVq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"center\":\"Center_center__ViOyr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Auth\":\"Auth_Auth__1OFxN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"AuthForm\":\"AuthForm_AuthForm__1VWQ-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Products\":\"Products_Products__XXD3D\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"items\":\"TopBar_items__3NgiL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"UserInfoCard_card__1tgD1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Search\":\"Search_Search__1vdXl\",\"topBox\":\"Search_topBox__2Kd0p\",\"searchInputContainer\":\"Search_searchInputContainer__3vff-\",\"searchInput\":\"Search_searchInput__ZhnTc\",\"searchInputClear\":\"Search_searchInputClear__SkrZH\",\"searchIcon\":\"Search_searchIcon__pNsQ-\",\"backIcon\":\"Search_backIcon__1rzCN\",\"categories\":\"Search_categories__2bvMH\",\"category\":\"Search_category__2PphB\",\"categoryActive\":\"Search_categoryActive__2Yz1c\",\"backdrop\":\"Search_backdrop__3yDze\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"items\":\"Products_items__106ib\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"notifications\":\"Notification_notifications__3CA5a\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"messages\":\"Inbox_messages__c4YXD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MessageBoxMain\":\"MessageBox_MessageBoxMain__4JQbt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MessageForm\":\"MessageForm_MessageForm__20LJv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"UpdateAvatar_form__3pVM_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"UpdateProfile_form__2O94o\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"UpdateEmail_form__3jI8y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"UpdatePassword_form__2KgnV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"topBox\":\"Search_topBox__3ouKg\",\"searchInputContainer\":\"Search_searchInputContainer__f2K-q\",\"searchInput\":\"Search_searchInput__1_Hb9\",\"searchInputClear\":\"Search_searchInputClear__32ZfU\",\"searchIcon\":\"Search_searchIcon__8-x32\",\"categories\":\"Search_categories__10cI-\",\"category\":\"Search_category__1x8NF\",\"categoryActive\":\"Search_categoryActive__39g28\",\"backdrop\":\"Search_backdrop__v2v5P\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Dropzone\":\"ImageDropAndCrop_Dropzone__1vl5_\",\"DropzoneIcon\":\"ImageDropAndCrop_DropzoneIcon__2PCi6\",\"ReactCropContainer\":\"ImageDropAndCrop_ReactCropContainer__1RYiJ\",\"ReactCrop\":\"ImageDropAndCrop_ReactCrop__3jfW8\",\"buttons\":\"ImageDropAndCrop_buttons__1u8Mc\",\"crop\":\"ImageDropAndCrop_crop__1anze\",\"edit\":\"ImageDropAndCrop_edit__jg8r1\",\"remove\":\"ImageDropAndCrop_remove__2Wpyt\"};","module.exports = \"data:image/png;base64,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\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Alerts\":\"Alerts_Alerts__1Jrc6\",\"Alert\":\"Alerts_Alert__2N5hN\",\"Success\":\"Alerts_Success__1lfyC\",\"Danger\":\"Alerts_Danger__19AZT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1HpPN\",\"colorPrimary\":\"Button_colorPrimary__2R2-X\",\"colorOrange\":\"Button_colorOrange__3vJte\",\"colorDanger\":\"Button_colorDanger__3LxcP\",\"borderGray\":\"Button_borderGray__27XZb\",\"sizeSmall\":\"Button_sizeSmall__4xYo6\",\"sizeLarge\":\"Button_sizeLarge__1Qcwy\"};","import React from 'react'\r\nimport {Route, Redirect} from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport {connect} from 'react-redux';\r\n\r\nconst PrivateRoute = ({ \r\n    component: Component, \r\n    auth: {isAuthenticated, loading},\r\n    ...rest\r\n}) => (\r\n    <Route \r\n        {...rest}\r\n        render={ (props) => !isAuthenticated && !loading \r\n            ? (<Redirect to=\"/login\" />)\r\n            : (<Component {...props} />)\r\n        } \r\n    />\r\n);\r\n\r\nPrivateRoute.propTypes = {\r\n    auth: PropTypes.object.isRequired\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n    auth: state.auth\r\n});\r\n\r\nexport default connect(mapStateToProps)(PrivateRoute);\r\n","import axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n    // baseURL: 'http://localhost:5000',\r\n    headers: {\r\n        'Content-Type': 'application/json'\r\n    }\r\n});\r\n\r\n// instance.interceptors.request.use(request => {\r\n//     console.log('Starting Request: ', request)\r\n//     return request\r\n// });\r\n// instance.interceptors.response.use(response => {\r\n//     console.log('Response: ', response)\r\n//     return response\r\n// })\r\n\r\n\r\ninstance.setAuthToken = token => {\r\n    if (token) {\r\n        instance.defaults.headers.common['Authorization'] = `Bearer ${token}`;\r\n    } else {\r\n        delete instance.defaults.headers.common['Authorization'];\r\n    }\r\n}\r\n\r\nexport default instance;\r\n\r\n","import uuid from 'uuid';\r\nimport { SET_ALERT, REMOVE_ALERT } from './actionType'\r\n\r\nexport const setAlert = (message, alertType, timeout = 3000) => dispatch => {\r\n    if ( message instanceof Array) {\r\n        message.forEach((singleMessage) => {\r\n            const id = uuid.v4();\r\n            dispatch({\r\n                type: SET_ALERT,\r\n                payload: {\r\n                    id,\r\n                    msg: singleMessage.msg,\r\n                    alertType\r\n                }\r\n            });\r\n            setTimeout(() => {\r\n                dispatch({\r\n                    type: REMOVE_ALERT,\r\n                    payload: id\r\n                })\r\n            }, timeout);\r\n        })\r\n    } else {\r\n        const id = uuid.v4();\r\n        dispatch({\r\n                type: SET_ALERT,\r\n                payload: {\r\n                    id,\r\n                    msg: message,\r\n                    alertType\r\n                }\r\n            });\r\n        setTimeout(() => {\r\n            dispatch({\r\n                type: REMOVE_ALERT,\r\n                payload: id\r\n            })\r\n        }, timeout);\r\n    }\r\n};","// ==========\r\n// Auth\r\n// ==========\r\nexport const REGISTER = \"REGISTER\";\r\nexport const LOGIN = \"LOGIN\";\r\nexport const LOGOUT = \"LOGOUT\";\r\n\r\n// Load Authorized User Data\r\nexport const LOAD_USER_START = \"LOAD_USER_START\";\r\nexport const LOAD_USER_SUCCESS = \"LOAD_USER_SUCCESS\";\r\nexport const LOAD_USER_FAIL = \"LOAD_USER_FAIL\";\r\n\r\n// Update\r\nexport const UPDATE_AVATAR = \"UPDATE_AVATAR\";\r\nexport const UPDATE_PROFILE = \"UPDATE_PROFILE\";\r\nexport const UPDATE_EMAIL = \"UPDATE_EMAIL\";\r\n\r\n\r\n// ==========\r\n// Alert\r\n// ==========\r\nexport const SET_ALERT = \"SET_ALERT\";\r\nexport const REMOVE_ALERT = \"REMOVE_ALERT\";\r\n\r\n\r\n// ==========\r\n// Products\r\n// ==========\r\n// GET products\r\nexport const GET_PRODUCTS_START = \"GET_PRODUCTS_START\";\r\nexport const GET_PRODUCTS_SUCCESS = \"GET_PRODUCTS_SUCCESS\";\r\nexport const GET_PRODUCTS_FAIL = \"GET_PRODUCTS_FAIL\";\r\n\r\n// Refresh Products\r\nexport const REFRESH_PRODUCTS = \"REFRESH_PRODUCTS\";\r\n\r\n// GET a product\r\nexport const GET_PRODUCT_START = \"GET_PRODUCT_START\";\r\nexport const GET_PRODUCT_SUCCESS = \"GET_PRODUCT_SUCCESS\";\r\nexport const GET_PRODUCT_FAIL = \"GET_PRODUCT_FAIL\";\r\n\r\n// DELETE a product\r\nexport const DELETE_PRODUCT = \"DELETE_PRODUCT\";\r\n\r\n// Comment\r\nexport const ADD_COMMENT = \"ADD_COMMENT\";\r\n\r\n// Like\r\nexport const SET_LIKE = \"SET_LIKE\";\r\nexport const SET_UNLIKE = \"SET_UNLIKE\";\r\n\r\n// Purchase\r\nexport const PURCHASE_PRODUCT = \"PURCHASE_PRODUCT\";\r\nexport const CANCEL_PRODUCT = \"CANCEL_PRODUCT\";\r\nexport const REJECT_PRODUCT = \"REJECT_PRODUCT\";\r\n\r\n\r\n// ==========\r\n// Messages\r\n// ==========\r\n// Get recieved Messages\r\nexport const GET_RECIEVED_START = \"GET_RECIEVED_START\";\r\nexport const GET_RECIEVED_SUCCESS = \"GET_RECIEVED_SUCCESS\";\r\nexport const GET_RECIEVED_FAIL = \"GET_RECIEVED_FAIL\";\r\n\r\n// GET sent messages\r\nexport const GET_SENT_START = \"GET_SENT_START\";\r\nexport const GET_SENT_SUCCESS = \"GET_SENT_SUCCESS\";\r\nexport const GET_SENT_FAIL = \"GET_SENT_FAIL\";\r\n\r\n// Get a message\r\nexport const GET_MESSAGE_START = \"GET_MESSAGE_START\";\r\nexport const GET_MESSAGE_SUCCESS = \"GET_MESSAGE_SUCCESS\";\r\nexport const GET_MESSAGE_FAIL = \"GET_MESSAGE_FAIL\";\r\n\r\n// Clear messages\r\nexport const CLEAR_MESSAGES = \"CLEAR_MESSAGES\";\r\nexport const CLEAR_RECIEVED_MESSAGES = \"CLEAR_RECIEVED_MESSAGES\";\r\nexport const CLEAR_SENT_MESSAGES = \"CLEAR_SENT_MESSAGES\";\r\n\r\n// Count unseen Messages\r\nexport const COUNT_UNSEEN_MESSAGES = \"COUNT_UNSEEN_MESSAGES\";\r\n\r\n// ==========\r\n// MyList\r\n// ==========\r\n// GET liked products\r\nexport const GET_LIKED_START = \"GET_LIKED_START\";\r\nexport const GET_LIKED_SUCCESS = \"GET_LIKED_SUCCESS\";\r\nexport const GET_LIKED_FAIL = \"GET_LIKED_FAIL\";\r\n\r\n// GET Purchased products\r\nexport const GET_PURCHASED_START = \"GET_PURCHASED_START\";\r\nexport const GET_PURCHASED_SUCCESS = \"GET_PURCHASED_SUCCESS\";\r\nexport const GET_PURCHASED_FAIL = \"GET_PURCHASED_FAIL\";\r\n\r\n// GET Selling products\r\nexport const GET_SELLINGS_START = \"GET_SELLINGS_START\";\r\nexport const GET_SELLINGS_SUCCESS = \"GET_SELLINGS_SUCCESS\";\r\nexport const GET_SELLINGS_FAIL = \"GET_SELLINGS_FAIL\";\r\n\r\n// Clear products from the store\r\nexport const CLEAR_LIKED = \"CLEAR_LIKED\";\r\nexport const CLEAR_PURCHASED = \"CLEAR_PURCHASED\";\r\nexport const CLEAR_SELLINGS = \"CLEAR_SELLINGS\";\r\n\r\n// ==========\r\n// Profile\r\n// ==========\r\n// Get a user's profile\r\nexport const GET_PROFILE_START = \"GET_PROFILE_START\";\r\nexport const GET_PROFILE_SUCCESS = \"GET_PROFILE_SUCCESS\";\r\nexport const GET_PROFILE_FAIL = \"GET_PROFILE_FAIL\";\r\n// GET selling products of a user\r\nexport const GET_PROFILE_PRODUCTS_START = \"GET_PROFILE_PRODUCTS_START\";\r\nexport const GET_PROFILE_PRODUCTS_SUCCESS = \"GET_PROFILE_PRODUCTS_SUCCESS\";\r\nexport const GET_PROFILE_PRODUCTS_FAIL = \"GET_PROFILE_PRODUCTS_FAIL\";\r\n\r\n// ==========\r\n// Notification\r\n// ==========\r\n// GET notifications\r\nexport const GET_NOTIFICATIONS_START = \"GET_NOTIFICATIONS_START\";\r\nexport const GET_NOTIFICATIONS_SUCCESS = \"GET_NOTIFICATIONS_SUCCESS\";\r\nexport const GET_NOTIFICATIONS_FAIL = \"GET_NOTIFICATIONS_FAIL\";\r\n// Count unseen notifications\r\nexport const COUNT_UNSEEN_NOTIFICATIONS = \"COUNT_UNSEEN_NOTIFICATIONS\";\r\n// Clear\r\nexport const CLEAR_NOTIFICATIONS = \"CLEAR_NOTIFICATIONS\";\r\n\r\n// ==========\r\n// Filters\r\n// ==========\r\nexport const SET_SEARCH = \"SET_SEARCH\";\r\nexport const SET_CATEGORY = \"SET_CATEGORY\";\r\n\r\n","import axios from '../../axios';\r\nimport {\r\n    CLEAR_RECIEVED_MESSAGES,\r\n\r\n    CLEAR_SENT_MESSAGES,\r\n\r\n    GET_RECIEVED_START,\r\n    GET_RECIEVED_SUCCESS,\r\n    GET_RECIEVED_FAIL,\r\n\r\n    GET_SENT_START,\r\n    GET_SENT_SUCCESS,\r\n    GET_SENT_FAIL,\r\n\r\n    GET_MESSAGE_START,\r\n    GET_MESSAGE_SUCCESS,\r\n    GET_MESSAGE_FAIL,\r\n\r\n    CLEAR_MESSAGES,\r\n\r\n    COUNT_UNSEEN_MESSAGES\r\n} from './actionType';\r\nimport { setAlert } from './alert';\r\n\r\nexport const countUnseenMessages = () => async dispatch => {\r\n    try {\r\n        const res = await axios.get(`/api/messages/count`);\r\n        dispatch({\r\n            type: COUNT_UNSEEN_MESSAGES,\r\n            payload: res.data.count\r\n        });\r\n    } catch (err) {\r\n        dispatch(setAlert(err.response.data.message, \"danger\"));\r\n    }\r\n};\r\n\r\nexport const clearRecievedMessages = () => async dispatch => {\r\n    dispatch({\r\n        type: CLEAR_RECIEVED_MESSAGES\r\n    });\r\n    dispatch(countUnseenMessages());\r\n};\r\n\r\nexport const clearSentMessages = () => async dispatch => {\r\n    dispatch({\r\n        type: CLEAR_SENT_MESSAGES\r\n    });\r\n};\r\n\r\nexport const getRecieved = (skip = 0, limit = 20) => async dispatch => {\r\n    dispatch({\r\n        type: GET_RECIEVED_START\r\n    });\r\n\r\n    try {\r\n        const res = await axios.get(`/api/messages/recieved?skip=${skip}&limit=${limit}`);\r\n        const hasMore = res.data.length < limit ? false : true;\r\n\r\n        dispatch({\r\n            type: GET_RECIEVED_SUCCESS,\r\n            payload: { messages: res.data, hasMore }\r\n        });\r\n    } catch (err) {\r\n        dispatch(setAlert(err.response.data.message, \"danger\"));\r\n        dispatch({\r\n            type: GET_RECIEVED_FAIL\r\n        });\r\n    }\r\n};\r\n\r\nexport const getSent = (skip = 0, limit = 20) => async dispatch => {\r\n    dispatch({\r\n        type: GET_SENT_START\r\n    });\r\n\r\n    try {\r\n        const res = await axios.get(`/api/messages/sent?skip=${skip}&limit=${limit}`);\r\n        const hasMore = res.data.length < limit ? false : true;\r\n\r\n        dispatch({\r\n            type: GET_SENT_SUCCESS,\r\n            payload: { messages: res.data, hasMore }\r\n        });\r\n    } catch (err) {\r\n        dispatch(setAlert(err.response.data.message, \"danger\"));\r\n        dispatch({\r\n            type: GET_SENT_FAIL\r\n        });\r\n    }\r\n};\r\n\r\nexport const getMessage = (messageId, cb) => async dispatch => {\r\n    dispatch({\r\n        type: GET_MESSAGE_START,\r\n        payload: messageId\r\n    });\r\n\r\n    try {\r\n        const res = await axios.get(`/api/messages/${messageId}`);\r\n\r\n        dispatch({\r\n            type: GET_MESSAGE_SUCCESS,\r\n            payload: res.data\r\n        });\r\n        cb();\r\n    } catch (err) {\r\n        dispatch(setAlert(err.response.data.message, \"danger\"));\r\n        dispatch({\r\n            type: GET_MESSAGE_FAIL\r\n        });\r\n        cb();\r\n    }\r\n}\r\n    ;\r\nexport const sendMessage = (recipientId, text) => async dispatch => {\r\n    try {\r\n        await axios.post(`/api/messages/${recipientId}`, { text });\r\n        dispatch(setAlert(\"Message Sent\", \"success\"));\r\n    } catch (err) {\r\n        dispatch(setAlert(err.response.data.message, \"danger\"));\r\n    }\r\n};\r\n\r\nexport const clearMessages = () => dispatch => {\r\n    dispatch({ type: CLEAR_MESSAGES })\r\n}\r\n","import axios from '../../axios';\r\nimport {\r\n    CLEAR_NOTIFICATIONS,\r\n    // GET\r\n    GET_NOTIFICATIONS_START,\r\n    GET_NOTIFICATIONS_SUCCESS,\r\n    GET_NOTIFICATIONS_FAIL,\r\n\r\n    COUNT_UNSEEN_NOTIFICATIONS\r\n} from './actionType';\r\nimport { setAlert } from './alert';\r\n\r\nexport const countUnseenNotifications = () => async dispatch => {\r\n    try {\r\n        const res = await axios.get(`/api/notifications/count`);\r\n        dispatch({\r\n            type: COUNT_UNSEEN_NOTIFICATIONS,\r\n            payload: res.data.count\r\n        })\r\n    } catch (err) {\r\n        dispatch(setAlert(err.response.data.message, \"danger\"));\r\n    }\r\n};\r\n\r\n\r\nexport const clearNotifications = () => async dispatch => {\r\n    dispatch({\r\n        type: CLEAR_NOTIFICATIONS\r\n    });\r\n};\r\nexport const refreshNotifications = () => dispatch => {\r\n    dispatch(clearNotifications());\r\n    dispatch(countUnseenNotifications());\r\n};\r\n\r\nexport const getNotifications = (skip = 0, limit = 20) => async dispatch => {\r\n    dispatch({\r\n        type: GET_NOTIFICATIONS_START\r\n    });\r\n\r\n    try {\r\n        const res = await axios.get(`/api/notifications?skip=${skip}&limit=${limit}`);\r\n        const hasMore = res.data.notifications.length < limit ? false : true;\r\n\r\n        dispatch({\r\n            type: GET_NOTIFICATIONS_SUCCESS,\r\n            payload: {\r\n                notifications: res.data.notifications,\r\n                countUnseenToSeen: res.data.countUnseenToSeen,\r\n                hasMore\r\n            }\r\n        });\r\n    } catch (err) {\r\n        dispatch(setAlert(err.response.data.message, \"danger\"));\r\n        dispatch({\r\n            type: GET_NOTIFICATIONS_FAIL\r\n        });\r\n    }\r\n};","import axios from '../../axios';\r\n\r\nimport {\r\n    GET_LIKED_START,\r\n    GET_LIKED_SUCCESS,\r\n    GET_LIKED_FAIL,\r\n    GET_PURCHASED_START,\r\n    GET_PURCHASED_SUCCESS,\r\n    GET_PURCHASED_FAIL,\r\n    GET_SELLINGS_START,\r\n    GET_SELLINGS_SUCCESS,\r\n    GET_SELLINGS_FAIL,\r\n    CLEAR_LIKED,\r\n    CLEAR_PURCHASED,\r\n    CLEAR_SELLINGS,\r\n} from './actionType.js';\r\nimport { setAlert } from './alert';\r\n\r\nconst limit = 10;\r\n\r\nexport const getLiked = (skip = 0) => async dispatch => {\r\n    dispatch({\r\n        type: GET_LIKED_START,\r\n    });\r\n\r\n    try {\r\n        const res = await axios.get(`/api/products?limit=${limit}&skip=${skip}&liked=true`);\r\n        const hasMore = res.data.length >= limit;\r\n\r\n        dispatch({\r\n            type: GET_LIKED_SUCCESS,\r\n            payload: {\r\n                products: res.data,\r\n                hasMore,\r\n            }\r\n        });\r\n    } catch (err) {\r\n        dispatch(setAlert(err.response.data.message, \"danger\"));\r\n        dispatch({\r\n            type: GET_LIKED_FAIL,\r\n        });\r\n    }\r\n};\r\nexport const getPurchased = (skip = 0) => async dispatch => {\r\n    dispatch({\r\n        type: GET_PURCHASED_START,\r\n    });\r\n\r\n    try {\r\n        const res = await axios.get(`/api/products?limit=${limit}&skip=${skip}&purchased=true`);\r\n        const hasMore = res.data.length >= limit;\r\n\r\n        dispatch({\r\n            type: GET_PURCHASED_SUCCESS,\r\n            payload: {\r\n                products: res.data,\r\n                hasMore,\r\n            }\r\n        });\r\n    } catch (err) {\r\n        dispatch(setAlert(err.response.data.message, \"danger\"));\r\n        dispatch({\r\n            type: GET_PURCHASED_FAIL,\r\n        });\r\n    }\r\n};\r\nexport const getSellings = (skip = 0) => async dispatch => {\r\n    dispatch({\r\n        type: GET_SELLINGS_START,\r\n    });\r\n\r\n    try {\r\n        const res = await axios.get(`/api/products?limit=${limit}&skip=${skip}&sellings=true`);\r\n        const hasMore = res.data.length >= limit;\r\n\r\n        dispatch({\r\n            type: GET_SELLINGS_SUCCESS,\r\n            payload: {\r\n                products: res.data,\r\n                hasMore,\r\n            }\r\n        });\r\n    } catch (err) {\r\n        dispatch(setAlert(err.response.data.message, \"danger\"));\r\n        dispatch({\r\n            type: GET_SELLINGS_FAIL,\r\n        });\r\n    }\r\n};\r\n\r\nexport const clearLiked = () => dispatch => {\r\n    dispatch({\r\n        type: CLEAR_LIKED,\r\n    });\r\n};\r\nexport const clearPurchased = () => dispatch => {\r\n    dispatch({\r\n        type: CLEAR_PURCHASED,\r\n    });\r\n};\r\nexport const clearSellings = () => dispatch => {\r\n    dispatch({\r\n        type: CLEAR_SELLINGS,\r\n    });\r\n};\r\nexport const clearAllMyList = () => dispatch => {\r\n    dispatch(clearLiked());\r\n    dispatch(clearPurchased());\r\n    dispatch(clearSellings());\r\n};","import axios from '../../axios';\r\nimport {\r\n    LOAD_USER_START,\r\n    LOAD_USER_SUCCESS,\r\n    LOAD_USER_FAIL,\r\n\r\n    REGISTER,\r\n    LOGIN,\r\n    LOGOUT,\r\n\r\n    // UPDATE\r\n    UPDATE_AVATAR,\r\n    UPDATE_PROFILE,\r\n    UPDATE_EMAIL,\r\n} from './actionType';\r\nimport { setAlert } from './alert';\r\nimport { clearMessages, countUnseenMessages } from './message';\r\nimport { clearNotifications, countUnseenNotifications } from './notification';\r\nimport { clearAllMyList } from './mylist';\r\n\r\n\r\n// Load user data on store\r\nexport const loadUser = () => async dispatch => {\r\n    if (!localStorage.token) return null;\r\n\r\n    // Set auth header on default http request\r\n    axios.setAuthToken(localStorage.token);\r\n\r\n    dispatch({ type: LOAD_USER_START });\r\n\r\n    try {\r\n        const res = await axios.get('/api/user');\r\n\r\n        dispatch(setAlert(`Welcome, ${res.data.name}`, \"success\"));\r\n        dispatch({\r\n            type: LOAD_USER_SUCCESS,\r\n            payload: res.data\r\n        });\r\n\r\n        // Check how many notifications and messages are.\r\n        dispatch(countUnseenMessages());\r\n        dispatch(countUnseenNotifications());\r\n    } catch (err) {\r\n        dispatch(setAlert(err.response.data.message, \"danger\"));\r\n        dispatch({ type: LOAD_USER_FAIL });\r\n    }\r\n\r\n};\r\n\r\nexport const login = ({ email, password }, failCB = () => { }) => async dispatch => {\r\n    try {\r\n        const res = await axios.post('/api/user/login', { email, password });\r\n\r\n        dispatch({\r\n            type: LOGIN,\r\n            payload: res.data\r\n        });\r\n        dispatch(loadUser(localStorage.token));\r\n    } catch (err) {\r\n        failCB();\r\n        dispatch(setAlert(err.response.data.message, \"danger\"));\r\n    }\r\n};\r\n\r\n// REGISTER\r\nexport const register = (\r\n    { name, email, password },\r\n    failCB = () => { }\r\n) => async dispatch => {\r\n    try {\r\n        const res = await axios.post('/api/user/signup', { name, email, password });\r\n\r\n        dispatch({\r\n            type: REGISTER,\r\n            payload: res.data\r\n        });\r\n        dispatch(loadUser(localStorage.token));\r\n    } catch (err) {\r\n        failCB();\r\n        dispatch(setAlert(err.response.data.message, \"danger\"));\r\n    }\r\n};\r\n\r\nexport const logout = () => dispatch => {\r\n    dispatch({ type: LOGOUT });\r\n    dispatch(clearMessages());\r\n    dispatch(clearNotifications());\r\n    dispatch(clearAllMyList());\r\n\r\n};\r\n\r\nexport const updateAvatar = (avatar) => async dispatch => {\r\n    const config = {\r\n        headers: { 'Content-Type': 'multipart/form-data' }\r\n    }\r\n\r\n    // Create form data\r\n    const formData = new FormData();\r\n    formData.append('avatar', avatar);\r\n\r\n    try {\r\n        const res = await axios.put('/api/user/avatar', formData, config);\r\n\r\n        dispatch(setAlert(`Uploaded profile image`, \"success\"));\r\n        dispatch({\r\n            type: UPDATE_AVATAR,\r\n            payload: res.data\r\n        });\r\n    } catch (err) {\r\n        dispatch(setAlert(err.response.data.message, \"danger\"));\r\n    }\r\n};\r\n\r\nexport const updateProfile = (obj) => async dispatch => {\r\n    try {\r\n        const res = await axios.put('/api/user/profile', obj);\r\n\r\n        dispatch(setAlert(`Updated Profile`, \"success\"));\r\n        dispatch({\r\n            type: UPDATE_PROFILE,\r\n            payload: res.data\r\n        });\r\n    } catch (err) {\r\n        dispatch(setAlert(err.response.data.message, \"danger\"));\r\n    }\r\n};\r\n\r\nexport const updateEmail = (obj, successCB = () => { }, failCB = () => { }) => async dispatch => {\r\n    try {\r\n        const res = await axios.put('/api/user/email', obj);\r\n        dispatch(setAlert(`Updated Email`, \"success\"));\r\n        dispatch({\r\n            type: UPDATE_EMAIL,\r\n            payload: res.data\r\n        });\r\n        successCB();\r\n    } catch (err) {\r\n        dispatch(setAlert(err.response.data.message, \"danger\"));\r\n        failCB();\r\n    }\r\n}\r\n\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport styles from './NavItem.module.scss';\r\n\r\nconst NavItem = (WrapperComponent, count = null) => {\r\n    return (props) => (\r\n        <li>\r\n            <NavLink to={props.linkTo} className={styles.Link} activeClassName={[styles.Link, styles.active].join(\" \")}>\r\n                {count ? <span className={styles.counter} >{count > 99 ? 99 : count}</span> : null}\r\n                <WrapperComponent className={styles.Icon} />\r\n                <span className={styles.menuTitle}>{props.children}</span>\r\n            </NavLink>\r\n        </li>\r\n    );\r\n};\r\n\r\nexport default NavItem;","import { SET_SEARCH, SET_CATEGORY } from '../actions/actionType';\r\n\r\nexport const setSearch = (search = \"\") => dispatch => {\r\n    dispatch({\r\n        type: SET_SEARCH,\r\n        payload: search\r\n    });\r\n};\r\n\r\nexport const setCategory = (category = \"\") => dispatch => {\r\n    dispatch({\r\n        type: SET_CATEGORY,\r\n        payload: category\r\n    });\r\n};\r\n\r\n","import axios from '../../axios';\r\n\r\nimport {\r\n    GET_PRODUCTS_START,\r\n    GET_PRODUCTS_SUCCESS,\r\n    GET_PRODUCTS_FAIL,\r\n    REFRESH_PRODUCTS,\r\n    GET_PRODUCT_START,\r\n    GET_PRODUCT_SUCCESS,\r\n    GET_PRODUCT_FAIL,\r\n    DELETE_PRODUCT,\r\n    ADD_COMMENT,\r\n    SET_LIKE,\r\n    SET_UNLIKE,\r\n    PURCHASE_PRODUCT,\r\n    CANCEL_PRODUCT,\r\n    REJECT_PRODUCT,\r\n} from './actionType.js';\r\nimport { setAlert } from './alert';\r\n\r\nconst config = {\r\n    headers: {\r\n        'Content-Type': 'multipart/form-data'\r\n    }\r\n}\r\n\r\nexport const createProduct = (formData) => async dispatch => {\r\n    try {\r\n        await axios.post('/api/products', formData, config);\r\n        dispatch(setAlert(\"Added Product\", \"success\"));\r\n    } catch (err) {\r\n        dispatch(setAlert(err.response.data.message, \"danger\"));\r\n    }\r\n};\r\n\r\nexport const editProduct = (productId, formData) => async dispatch => {\r\n    try {\r\n        await axios.put(`/api/products/${productId}`, formData, config);\r\n        dispatch(setAlert(\"Edited Product\", \"success\"));\r\n    } catch (err) {\r\n        dispatch(setAlert(err.response.data.message, \"danger\"));\r\n    }\r\n};\r\n\r\n\r\nexport const getProducts = ({ skip = 0, limit = 15, search = null, category = null }) => async dispatch => {\r\n    dispatch({\r\n        type: GET_PRODUCTS_START\r\n    });\r\n    let queries = [];\r\n    queries.push(`limit=${limit}`);\r\n    queries.push(`skip=${skip}`);\r\n    if (search) queries.push(`search=${search}`);\r\n    if (category) queries.push(`category=${category}`);\r\n\r\n    try {\r\n        const res = await axios.get(`/api/products?${queries.join('&')}`);\r\n        const hasMore = res.data.length === limit;\r\n        dispatch({\r\n            type: GET_PRODUCTS_SUCCESS,\r\n            payload: {\r\n                products: res.data,\r\n                hasMore\r\n            }\r\n        });\r\n    } catch (err) {\r\n        dispatch(setAlert(err.response.data.message, \"danger\"));\r\n        dispatch({\r\n            type: GET_PRODUCTS_FAIL\r\n        });\r\n    }\r\n};\r\n\r\nexport const refreshProducts = () => async dispatch => {\r\n    dispatch({\r\n        type: REFRESH_PRODUCTS\r\n    });\r\n};\r\n\r\n\r\nexport const getProduct = (productId) => async dispatch => {\r\n    dispatch({\r\n        type: GET_PRODUCT_START,\r\n        payload: productId\r\n    });\r\n\r\n    try {\r\n        const res = await axios.get(`/api/products/${productId}`);\r\n\r\n        dispatch({\r\n            type: GET_PRODUCT_SUCCESS,\r\n            payload: res.data\r\n        });\r\n    } catch (err) {\r\n        dispatch(setAlert(err.response.data.message, \"danger\"));\r\n        dispatch({\r\n            type: GET_PRODUCT_FAIL\r\n        });\r\n    }\r\n};\r\n\r\nexport const deleteProduct = (productId) => async dispatch => {\r\n    try {\r\n        await axios.delete(`/api/products/${productId}`);\r\n\r\n        dispatch({\r\n            type: DELETE_PRODUCT,\r\n            payload: productId\r\n        });\r\n        dispatch(setAlert(\"Product deleted\", \"success\"));\r\n    } catch (err) {\r\n        dispatch(setAlert(err.response.data.message, \"danger\"));\r\n    }\r\n};\r\n\r\nexport const addComment = (productId, text, callback = () => { }) => async dispatch => {\r\n    try {\r\n        const res = await axios.post(`/api/products/comment/${productId}`, { text });\r\n\r\n        dispatch(setAlert(\"Added Comment\", \"success\"));\r\n        dispatch({\r\n            type: ADD_COMMENT,\r\n            payload: res.data\r\n        });\r\n        callback();\r\n    } catch (err) {\r\n        dispatch(setAlert(err.response.data.message, \"danger\"));\r\n        callback();\r\n    }\r\n};\r\n\r\nexport const setLike = (productId, callback) => async dispatch => {\r\n    try {\r\n        const res = await axios.put(`/api/products/like/${productId}`);\r\n        dispatch({\r\n            type: SET_LIKE,\r\n            payload: res.data\r\n        });\r\n        callback();\r\n    } catch (err) {\r\n        dispatch(setAlert(err.response.data.message, \"danger\"));\r\n        callback();\r\n    }\r\n};\r\n\r\nexport const setUnlike = (productId, callback) => async dispatch => {\r\n    try {\r\n        const res = await axios.put(`/api/products/unlike/${productId}`);\r\n        dispatch({\r\n            type: SET_UNLIKE,\r\n            payload: res.data\r\n        });\r\n        callback();\r\n    } catch (err) {\r\n        dispatch(setAlert(err.response.data.message, \"danger\"));\r\n        callback();\r\n    }\r\n};\r\n\r\nexport const purchaseProduct = (productId, cb = () => { }) => async dispatch => {\r\n    try {\r\n        const res = await axios.put(`/api/products/purchase/${productId}`);\r\n        dispatch({\r\n            type: PURCHASE_PRODUCT,\r\n            payload: res.data\r\n        });\r\n        dispatch(setAlert(\"Purchased a product\", \"success\"));\r\n        cb();\r\n    } catch (err) {\r\n        dispatch(setAlert(err.response.data.message, \"danger\"));\r\n        cb();\r\n    }\r\n};\r\n\r\nexport const cancelProduct = (productId, cb = () => { }) => async dispatch => {\r\n    try {\r\n        const res = await axios.put(`/api/products/cancel/${productId}`);\r\n        dispatch({\r\n            type: CANCEL_PRODUCT,\r\n            payload: res.data\r\n        });\r\n        dispatch(setAlert(\"Canceled a product\", \"success\"));\r\n        cb();\r\n    } catch (err) {\r\n        dispatch(setAlert(err.response.data.message, \"danger\"));\r\n        cb();\r\n    }\r\n};\r\n\r\nexport const rejectProduct = (productId, cb = () => { }) => async dispatch => {\r\n    try {\r\n        const res = await axios.put(`/api/products/reject/${productId}`);\r\n        dispatch({\r\n            type: REJECT_PRODUCT,\r\n            payload: res.data\r\n        });\r\n        dispatch(setAlert(\"Reject a customer's purchase\", \"success\"));\r\n        cb();\r\n    } catch (err) {\r\n        dispatch(setAlert(err.response.data.message, \"danger\"));\r\n        cb();\r\n    }\r\n};","import React, { Fragment, useState } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux';\r\nimport styles from './Search.module.scss';\r\nimport { GoSearch } from 'react-icons/go'\r\nimport { IoIosClose } from 'react-icons/io';\r\nimport { setSearch, setCategory } from '../../../store/actions/filters';\r\nimport { refreshProducts } from '../../../store/actions/product';\r\n\r\nconst Search = ({ search, category, setSearch, setCategory, loading, refreshProducts }) => {\r\n    const [show, setShow] = useState(false);\r\n    const [isModified, setIsModified] = useState(false);\r\n    let searchInput = React.createRef();\r\n\r\n    const onShowHandler = () => {\r\n        setShow(true);\r\n        setIsModified(false);\r\n        searchInput.current.readOnly = false;\r\n        searchInput.current.focus();\r\n    };\r\n\r\n    const clearInput = () => {\r\n        setSearch(\"\");\r\n    };\r\n\r\n    const onSubmit = () => {\r\n        !loading && refreshProducts();\r\n    };\r\n\r\n    const onCloseHandler = () => {\r\n        setShow(false);\r\n        searchInput.current.readOnly = true;\r\n        searchInput.current.blur();\r\n        isModified && onSubmit();\r\n    };\r\n\r\n\r\n    const onSearchChange = (e) => {\r\n        e.persist();\r\n        setSearch(e.target.value);\r\n        !isModified && setIsModified(true);\r\n    }\r\n\r\n    const onCategoryClick = (e) => {\r\n        const selectedCategory = e.target.getAttribute(\"category\");\r\n        setCategory(selectedCategory);\r\n        setShow(false);\r\n        onSubmit();\r\n    }\r\n\r\n    const onSubmitHandler = (e) => {\r\n        e.preventDefault();\r\n        setShow(false);\r\n        searchInput.current.readOnly = true;\r\n        searchInput.current.blur();\r\n        onSubmit();\r\n    };\r\n\r\n    const categories = [\r\n        { value: \"\", text: \"All\" },\r\n        { value: \"Home\", text: \"Home\" },\r\n        { value: \"Academic\", text: \"Academic\" },\r\n        { value: \"Ticket\", text: \"Ticket\" },\r\n        { value: \"Electronics\", text: \"Electronics\" },\r\n        { value: \"Women\", text: \"Women\" },\r\n        { value: \"Men\", text: \"Men\" },\r\n        { value: \"Other\", text: \"Other\" },\r\n    ];\r\n\r\n    const categoryList = categories.map((el) => (\r\n        <li\r\n            key={el.text}\r\n            onClick={onCategoryClick}\r\n            className={\r\n                category === el.value\r\n                    ? [styles.category, styles.categoryActive].join(\" \")\r\n                    : styles.category\r\n            }\r\n            category={el.value}>\r\n            {el.text}\r\n        </li>\r\n    ));\r\n\r\n    let unfocusedSearchInput = \"\";\r\n    if (category && search) unfocusedSearchInput = [category, search].join(\"  \")\r\n    else if (category) unfocusedSearchInput = category\r\n    else if (search) unfocusedSearchInput = search\r\n\r\n\r\n    return (\r\n        <div className={styles.topBox}>\r\n            <form onSubmit={onSubmitHandler} className={styles.searchInputContainer}>\r\n                <input\r\n                    onClick={!show ? onShowHandler : () => { }}\r\n                    className={styles.searchInput}\r\n                    type=\"text\"\r\n                    placeholder=\"Search\"\r\n                    value={show\r\n                        ? search\r\n                        : unfocusedSearchInput\r\n                    }\r\n                    onChange={onSearchChange}\r\n                    ref={searchInput}\r\n                    readOnly\r\n                />\r\n                {show && <IoIosClose className={styles.searchInputClear} onClick={clearInput} />}\r\n                {show &&\r\n                    <Fragment>\r\n                        <ul className={styles.categories}>\r\n                            {categoryList}\r\n                        </ul>\r\n                    </Fragment>\r\n                }\r\n            </form>\r\n            <GoSearch className={styles.searchIcon} onClick={!show ? onShowHandler : onSubmitHandler} />\r\n            {show && <div className={styles.backdrop} onClick={onCloseHandler}>\r\n            </div>}\r\n        </div >\r\n    )\r\n}\r\n\r\nSearch.propTypes = {\r\n    search: PropTypes.string.isRequired,\r\n    category: PropTypes.string.isRequired,\r\n    setSearch: PropTypes.func.isRequired,\r\n    setCategory: PropTypes.func.isRequired,\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    search: state.filter.search,\r\n    category: state.filter.category,\r\n    loading: state.product.loading.getProduct\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    setSearch: (search) => dispatch(setSearch(search)),\r\n    setCategory: (category) => dispatch(setCategory(category)),\r\n    refreshProducts: () => dispatch(refreshProducts())\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Search);","import React, { Fragment } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { IoMdHome, IoIosList, IoMdMail, IoMdContact, IoMdNotifications } from \"react-icons/io\";\r\nimport { MdAttachMoney } from \"react-icons/md\";\r\nimport NavItem from './NavItem/NavItem';\r\nimport Search from './Search/Search';\r\n\r\nimport styles from './Navigation.module.scss';\r\n\r\n\r\nconst Navigation = (props) => {\r\n    const { auth, msgCount, notificationCount, location } = props\r\n    const HomeNav = NavItem(IoMdHome);\r\n    const MyList = NavItem(IoIosList);\r\n    const SellNav = NavItem(MdAttachMoney);\r\n    const NotificationNav = NavItem(IoMdNotifications, notificationCount);\r\n    const InboxNav = NavItem(IoMdMail, msgCount);\r\n    const MyPageNav = NavItem(IoMdContact);\r\n    const AuthNav = NavItem(IoMdContact);\r\n\r\n\r\n\r\n    // Changing Navigations depend on isAuthentication\r\n    const navItems = auth.isAuthenticated ? (\r\n        <Fragment>\r\n            <HomeNav linkTo=\"/products\">Home</HomeNav>\r\n            <MyList linkTo=\"/mylist\">My List</MyList>\r\n            <SellNav linkTo=\"/sell\">Sell</SellNav>\r\n            <NotificationNav linkTo=\"/notification\">Notification</NotificationNav>\r\n            <InboxNav linkTo=\"/inbox\">Inbox</InboxNav>\r\n            <MyPageNav linkTo=\"/mypage\">My Page</MyPageNav>\r\n        </Fragment>\r\n    ) : (\r\n            <Fragment>\r\n                <HomeNav linkTo=\"/products\">Home</HomeNav>\r\n                <AuthNav linkTo=\"/auth\">Auth</AuthNav>\r\n            </Fragment>\r\n        );\r\n\r\n    return (\r\n        <header className={styles.Navigation} >\r\n            {location.pathname === \"/products\" && <Search />}\r\n            <ul className={styles.NavigationItems}>\r\n                {navItems}\r\n            </ul>\r\n        </header>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        auth: state.auth,\r\n        msgCount: state.message.count,\r\n        notificationCount: state.notification.count,\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps)(withRouter(Navigation));","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport styles from './Alerts.module.scss';\r\n\r\nconst Alerts = ({ alerts }) => {\r\n    const appliedAlertsClass = alerts.length > 0\r\n        ? [styles.Alerts].join(\" \")\r\n        : [styles.Alerts, styles.show].join(\" \");\r\n\r\n\r\n    return (\r\n        <div className={appliedAlertsClass}>\r\n            {alerts !== null && alerts.length > 0 && alerts.map(alert => (\r\n                <div\r\n                    key={alert.id}\r\n                    className={alert.alertType === \"success\" ?\r\n                        [styles.Alert, styles.Success].join(\" \") :\r\n                        [styles.Alert, styles.Danger].join(\" \")}\r\n                >{alert.msg}\r\n                </div>\r\n            ))}\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\nAlerts.propTypes = {\r\n    alerts: PropTypes.array.isRequired\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        alerts: state.alerts\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps)(Alerts);\r\n","import React, { useEffect, useState } from 'react';\r\nimport Navigation from '../../components/Navigation/Navigation';\r\nimport styles from './Layout.module.scss';\r\nimport { connect } from 'react-redux';\r\nimport Alerts from './Alerts/Alerts';\r\n\r\nconst layout = (props) => {\r\n\r\n    // let alerts = null;\r\n    // if (props.alerts.length > 0) {\r\n    //     alerts = <Alerts />;\r\n    // }\r\n\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <Alerts />\r\n            <Navigation />\r\n            <main className={styles.main}>\r\n                {props.children}\r\n            </main>\r\n        </React.Fragment>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        alerts: state.alerts\r\n    };\r\n};\r\n\r\n\r\nexport default connect(mapStateToProps)(layout);\r\n\r\n","import React from 'react';\r\nimport Loader from 'react-loader-spinner'\r\n\r\n\r\nexport default ({\r\n    style = {},\r\n    type = \"TailSpin\",\r\n    size = 50,\r\n    color = \"#0084FF\",\r\n    timeout = 0,\r\n    center = false,\r\n}) => {\r\n    let centeredStyle = {};\r\n    if (center) {\r\n        centeredStyle = {\r\n            position: \"fixed\",\r\n            width: \"100vw\",\r\n            height: \"100vw\",\r\n            display: \"flex\",\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n        };\r\n    };\r\n    return (\r\n        <div\r\n            style={{\r\n                ...style,\r\n                width: \"100%\",\r\n                textAlign: \"center\",\r\n                ...centeredStyle\r\n            }}\r\n        >\r\n            <Loader\r\n                type={type}\r\n                color={color}\r\n                height={size}\r\n                width={size}\r\n                timeout={timeout} //3 secs\r\n            />\r\n        </div>\r\n    )\r\n};","export default (buffer) => {\r\n    if (!buffer) {\r\n        return require('../assets/default.png');\r\n    }\r\n    let binary = '';\r\n    const bytes = [].slice.call(new Uint8Array(buffer));\r\n    bytes.forEach((b) => binary += String.fromCharCode(b));\r\n    return `data:image/jpeg;base64,${window.btoa(binary)}`;\r\n};","import React, {Fragment} from 'react'\r\nimport styles from './PictureRadius.module.scss';\r\n\r\n// @@@ FORMAT @@@\r\n// <PictureRadius \r\n//    alt=\"Hiroki Tominaga\"\r\n//    src={require(\"../../../assets/profile-pic.JPG\")}\r\n//    size=\"4rem\"\r\n//    className={styles....}\r\n// />\r\n\r\n\r\n\r\nconst PictureRadius = ({ style = {}, className, size = \"3.5rem\", src, alt, onClick}) => {\r\n    let appliedClasses = [styles.profilePic];\r\n    if (className) {\r\n        appliedClasses.push(className);\r\n    }\r\n\r\n    return (\r\n        <Fragment>\r\n            <img \r\n                onClick={onClick}\r\n                className={appliedClasses.join(\" \")} \r\n                style={{width: size, height: size, ...style}}\r\n                src={src} \r\n                alt={alt} \r\n                />\r\n        </Fragment>\r\n    );\r\n};\r\n\r\nexport default PictureRadius\r\n","import React from 'react'\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types'\r\nimport styles from './DisplayProfile.module.scss'\r\nimport imageConverter from '../../../utils/imageConverter';\r\n\r\n// Components\r\nimport PictureRadius from '../../UI/Pictures/PictureRadius/PictureRadius';\r\n\r\nconst DisplayProfile = ({\r\n    history,\r\n    user: {\r\n        avatar,\r\n        name\r\n    }\r\n}) => {\r\n    const avatarSrc = avatar\r\n        ? imageConverter(avatar.data)\r\n        : imageConverter(null);\r\n\r\n    const profileClickedHandler = () => history.push('mypage/update/avatar');\r\n\r\n    return (\r\n        <div className={styles.DisplayProfile}>\r\n            <div>{name}</div>\r\n            <PictureRadius\r\n                onClick={profileClickedHandler}\r\n                src={avatarSrc}\r\n                size=\"5rem\" />\r\n        </div>\r\n    )\r\n}\r\n\r\nDisplayProfile.propTypes = {\r\n    user: PropTypes.object.isRequired,\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    user: state.auth.user\r\n});\r\n\r\nexport default connect(mapStateToProps)(withRouter(DisplayProfile));\r\n","import React from 'react'\r\nimport classes from './Button.module.scss';\r\nimport Spinner from '../Spinner/Spinner';\r\n\r\nconst Button = ({\r\n    children,\r\n    className,\r\n    style,\r\n    onClick,\r\n    btnType = \"\",\r\n    loading = false\r\n}) => {\r\n    let spinnerSize = 15;\r\n    let appliedClasses = [classes.Button];\r\n    className && appliedClasses.push(className);\r\n\r\n    // Colors\r\n    btnType.includes(\"color-primary\") && appliedClasses.push(classes.colorPrimary);\r\n    btnType.includes(\"color-orange\") && appliedClasses.push(classes.colorOrange);\r\n    btnType.includes(\"color-danger\") && appliedClasses.push(classes.colorDanger);\r\n    btnType.includes(\"border-gray\") && appliedClasses.push(classes.borderGray);\r\n\r\n    // Size\r\n    if (btnType.includes(\"size-sm\")) {\r\n        appliedClasses.push(classes.sizeSmall);\r\n        spinnerSize = 10;\r\n    }\r\n    if (btnType.includes(\"size-lg\")) {\r\n        appliedClasses.push(classes.sizeLarge);\r\n        spinnerSize = 20;\r\n    }\r\n\r\n    return (\r\n        <button\r\n            onClick={loading ? () => { } : onClick}\r\n            style={style}\r\n            className={appliedClasses.join(\" \")}\r\n        >\r\n            {loading ? <Spinner size={spinnerSize} /> : children}\r\n        </button>\r\n    )\r\n}\r\n\r\nexport default Button\r\n","import React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport { logout } from '../../../store/actions/auth';\r\n\r\nimport Button from '../../UI/Button/Button';\r\n\r\nconst Logout = ({\r\n    logout,\r\n    history\r\n}) => {\r\n    const logoutHandler = () => {\r\n        logout();\r\n        history.push('/');\r\n    };\r\n\r\n    return (\r\n        <Button\r\n            style={{ marginLeft: \"auto\", marginRight: \"auto\" }}\r\n            btnType=\"border-gray size-lg\"\r\n            onClick={logoutHandler}\r\n        >Logout\r\n        </Button>\r\n    )\r\n}\r\n\r\nLogout.propTypes = {\r\n    logout: PropTypes.func.isRequired\r\n};\r\n\r\nexport default connect(null, { logout })(withRouter(Logout));","import React from 'react'\r\nimport { Link } from 'react-router-dom';\r\nimport styles from './Setting.module.scss'\r\n\r\nconst Setting = () => {\r\n    return (\r\n        <div className={styles.Setting}>\r\n            <h3>Setting</h3>\r\n            <ul className={styles.links}>\r\n                <Link className={styles.Link} to=\"/mypage/update/profile\">Update Profile</Link>\r\n                <Link className={styles.Link} to=\"/mypage/update/avatar\">Update Profile Image</Link>\r\n                <Link className={styles.Link} to=\"/mypage/update/email\">Change Email</Link>\r\n                <Link className={styles.Link} to=\"/mypage/update/password\">Change Password</Link>\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Setting\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './MyPage.module.scss';\r\n\r\n// components\r\nimport Spinner from '../UI/Spinner/Spinner';\r\nimport DisplayProfile from './DisplayProfile/DisplayProfile';\r\nimport Logout from './Logout/Logout';\r\nimport Setting from './Setting/Setting';\r\n\r\n\r\nconst MyPage = ({\r\n    auth\r\n}) => {\r\n    if (auth.loading) {\r\n        return <Spinner size={100} style={{ margin: \"2rem\" }} />;\r\n    }\r\n\r\n    return (\r\n        <div className={styles.mypage}>\r\n            <DisplayProfile />\r\n            <div className={styles.hr}></div>\r\n            <Setting />\r\n            <div className={styles.hr}></div>\r\n            <Logout />\r\n        </div>\r\n    );\r\n};\r\n\r\nMyPage.propTypes = {\r\n    auth: PropTypes.object.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    auth: state.auth\r\n});\r\n\r\nexport default connect(mapStateToProps, null)(MyPage);","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport styles from './Switcher.module.scss';\r\n\r\nconst Switcher = ({ items }) => {\r\n    const buttons = items.map((item) => {\r\n        let appliedClasses = [styles.button];\r\n        if (item.active) appliedClasses.push(styles.active);\r\n\r\n        return (\r\n            <button\r\n                key={item.text}\r\n                onClick={item.onClickHandler}\r\n                className={appliedClasses.join(\" \")}\r\n            >{item.text}\r\n            </button>\r\n        );\r\n    });\r\n\r\n    return (\r\n        <div className={styles.Switcher} style={{ gridTemplateColumns: `repeat(${items.length}, 1fr)` }}>\r\n            {buttons}\r\n        </div>\r\n    )\r\n}\r\n\r\nSwitcher.propTypes = {\r\n    items: PropTypes.array.isRequired,\r\n}\r\n\r\nexport default Switcher\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport InfiniteScroll from 'react-infinite-scroller';\r\nimport PullToRefresh from 'rmc-pull-to-refresh';\r\nimport Spinner from '../Spinner/Spinner';\r\n\r\nconst Scroller = ({\r\n    onRefreshFunc,\r\n    loadMoreFunc,\r\n    hasMore,\r\n    children,\r\n    spinnerSize = 40,\r\n    spinnerMarginTop = \"2rem\",\r\n}) => {\r\n    const switchContainer = true;\r\n    const invisible = <span style={{ display: \"none\" }}></span>;\r\n    const activate = <p style={{\r\n        position: \"absolute\",\r\n        top: 0,\r\n        left: \"50%\",\r\n        transform: \"translate(-50%, -100%)\",\r\n        marginTop: \"-1.5rem\",\r\n        paddingBottom: \"1rem\"\r\n    }}>Release to Refresh</p>;\r\n    const deactivate = <p style={{\r\n        position: \"absolute\",\r\n        top: 0,\r\n        left: \"50%\",\r\n        transform: \"translate(-50%, -100%)\",\r\n        marginTop: \"-1.5rem\",\r\n        paddingBottom: \"1rem\"\r\n    }}>Pull to refresh</p>;\r\n\r\n    return (\r\n        <PullToRefresh\r\n            key={switchContainer}\r\n            {...(switchContainer ? { getScrollContainer: () => document.body } : {})}\r\n            style={{ width: \"100%\", position: \"relative\" }}\r\n            onRefresh={onRefreshFunc}\r\n            indicator={{ activate, deactivate, release: invisible, finish: invisible }\r\n            }\r\n            distanceToRefresh={80}\r\n            damping={250}\r\n        >\r\n            <InfiniteScroll\r\n                pageStart={0}\r\n                threshold={250}\r\n                loadMore={loadMoreFunc}\r\n                hasMore={hasMore}\r\n                loader={<Spinner key={\"abc\"} size={spinnerSize} style={{ marginTop: spinnerMarginTop }} />}\r\n            >\r\n                {children}\r\n            </InfiniteScroll>\r\n        </PullToRefresh >\r\n    )\r\n}\r\n\r\nScroller.propTypes = {\r\n    onRefreshFunc: PropTypes.func.isRequired,\r\n    loadMoreFunc: PropTypes.func.isRequired,\r\n    hasMore: PropTypes.bool.isRequired,\r\n    spinnerSize: PropTypes.number,\r\n    spinnerMargin: PropTypes.string,\r\n}\r\n\r\nexport default Scroller;","export default (text, length) => {\r\n    if (text == null) {\r\n        return \"\";\r\n    }\r\n    if (text.length <= length) {\r\n        return text;\r\n    }\r\n    text = text.substring(0, length);\r\n    return text + \"...\";\r\n};","import React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport imageConverter from '../../../utils/imageConverter';\r\nimport textAbstract from '../../../utils/textAbstract';\r\n\r\n\r\nimport styles from './Product.module.scss';\r\n\r\nconst product = ({ history, product }) => {\r\n    const { _id, price, meetupAt } = product;\r\n\r\n    const imageSrc = imageConverter(product.productImageLow.data);\r\n\r\n\r\n    return (\r\n        <div className={styles.Product} onClick={(e) => { history.push(`/products/${_id}`) }}>\r\n            <div className={styles.imageWrapper}>\r\n                <img alt=\"pic\" className={styles.Image} src={imageSrc} />\r\n                {product.sold &&\r\n                    <div className={styles.soldOut}>SOLD-OUT</div>\r\n                }\r\n            </div>\r\n            <div className={styles.TextBox}>\r\n                <div className={styles.Main}> {price.toLocaleString()}</div>\r\n                <div className={styles.Sub}>{textAbstract(meetupAt, 9)}</div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default withRouter(product);","import React from 'react'\r\nimport styles from './Center.module.scss';\r\nexport default props => {\r\n    return (\r\n        <div className={styles.center}>\r\n            {props.children}\r\n        </div>\r\n    )\r\n}\r\n","import React, { Fragment } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types'\r\nimport { clearLiked, getLiked, clearPurchased, getPurchased, clearSellings, getSellings } from '../../store/actions/mylist';\r\nimport styles from './MyList.module.scss';\r\n\r\nimport Switcher from '../UI/Switcher/Switcher';\r\nimport Scroller from '../UI/Scroller/Scroller';\r\nimport Product from '../UI/Product/Product';\r\nimport Center from '../UI/Center/Center';\r\n\r\nconst MyList = ({\r\n    match,\r\n    history,\r\n    // store\r\n    auth,\r\n    liked,\r\n    purchased,\r\n    sellings,\r\n    // actions\r\n    clearLiked,\r\n    getLiked,\r\n    clearPurchased,\r\n    getPurchased,\r\n    clearSellings,\r\n    getSellings\r\n}) => {\r\n    // Assign \"liked\", \"purchased\" or \"sellings\"\r\n    const status = match.params.status;\r\n\r\n    const buttons = [\r\n        {\r\n            text: \"Liked\",\r\n            active: status === 'liked',\r\n            onClickHandler: () => status !== \"liked\" && history.push('/mylist/liked')\r\n        },\r\n        {\r\n            text: \"Purchased\",\r\n            active: status === 'purchased',\r\n            onClickHandler: () => status !== \"purchased\" && history.push('/mylist/purchased')\r\n        },\r\n        {\r\n            text: \"Sellings\",\r\n            active: status === 'sellings',\r\n            onClickHandler: () => status !== \"sellings\" && history.push('/mylist/sellings')\r\n        }\r\n    ];\r\n\r\n\r\n    let\r\n        hasMore = true,\r\n        productArray = [],\r\n        fetchProducts = () => null,\r\n        refresh = () => null;\r\n    switch (status) {\r\n        case \"liked\":\r\n            productArray = liked.products;\r\n            hasMore = liked.hasMore;\r\n            if (auth.isAuthenticated && !liked.loading) {\r\n                fetchProducts = () => getLiked(liked.products.length);\r\n                refresh = () => clearLiked();\r\n            }\r\n            break;\r\n        case \"purchased\":\r\n            productArray = purchased.products;\r\n            hasMore = purchased.hasMore;\r\n            if (auth.isAuthenticated && !purchased.loading) {\r\n                fetchProducts = () => getPurchased(purchased.products.length);\r\n                refresh = () => clearPurchased();\r\n            }\r\n            break;\r\n        case \"sellings\":\r\n            productArray = sellings.products;\r\n            hasMore = sellings.hasMore;\r\n            if (auth.isAuthenticated && !sellings.loading) {\r\n                fetchProducts = () => getSellings(sellings.products.length);\r\n                refresh = () => clearSellings();\r\n            }\r\n            break;\r\n        default:\r\n            return <Redirect to=\"404\" />\r\n    }\r\n\r\n    const productList = productArray.map((product) => {\r\n        return <Product key={product._id} product={product} />;\r\n    });\r\n\r\n    return (\r\n        <Fragment>\r\n            <Switcher items={buttons} />\r\n            <div style={{ marginTop: \"5.5rem\" }}>\r\n                <Scroller\r\n                    onRefreshFunc={refresh}\r\n                    loadMoreFunc={fetchProducts}\r\n                    hasMore={hasMore}\r\n                >\r\n                    {\r\n                        !hasMore && productList.length === 0\r\n                            ?\r\n                            <Center>No product found</Center>\r\n                            :\r\n                            <div className={styles.items}>\r\n                                {productList}\r\n                            </div>\r\n                    }\r\n                </Scroller>\r\n            </div>\r\n        </Fragment>\r\n    );\r\n}\r\n\r\nMyList.propTypes = {\r\n    liked: PropTypes.object.isRequired,\r\n    clearLiked: PropTypes.func.isRequired,\r\n    getLiked: PropTypes.func.isRequired,\r\n    clearPurchased: PropTypes.func.isRequired,\r\n    getPurchased: PropTypes.func.isRequired,\r\n    clearSellings: PropTypes.func.isRequired,\r\n    getSellings: PropTypes.func.isRequired,\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    liked: state.mylist.liked,\r\n    purchased: state.mylist.purchased,\r\n    sellings: state.mylist.sellings,\r\n    auth: state.auth,\r\n});\r\n\r\nexport default connect(mapStateToProps, { clearLiked, getLiked, clearPurchased, getPurchased, clearSellings, getSellings })(MyList)\r\n","import React from 'react'\r\nimport classes from './Input.module.scss';\r\n\r\nconst Input = ({\r\n    id,\r\n    type,\r\n    placeholder,\r\n    value = \"\",\r\n    onChange,\r\n    name,\r\n    required = false,\r\n    className,\r\n    style,\r\n    children\r\n}) => {\r\n    let input;\r\n    if (type === \"textarea\") {\r\n        input = (<textarea\r\n            placeholder={placeholder}\r\n            value={value}\r\n            onChange={onChange}\r\n            name={name}\r\n            required={required}\r\n            className={[classes.Textarea, className].join(\" \")}\r\n            style={style}\r\n        />);\r\n\r\n    } else if (type === \"select\") {\r\n        input = (<select\r\n            value={value}\r\n            onChange={onChange}\r\n            name={name}\r\n            required={required}\r\n            className={[classes.Input, className].join(\" \")}\r\n            style={style}\r\n        >{children}</select>);\r\n    } else {\r\n        input = (<input\r\n            type={type}\r\n            placeholder={placeholder}\r\n            value={value}\r\n            onChange={onChange}\r\n            name={name}\r\n            required={required}\r\n            className={[classes.Input, className].join(\" \")}\r\n            style={style}\r\n        />);\r\n    }\r\n\r\n    return input;\r\n}\r\n\r\nexport default Input;\r\n","import React, { useState, useEffect } from 'react'\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './AuthForm.module.scss';\r\nimport Spinner from '../../UI/Spinner/Spinner'\r\n\r\n// Actions\r\nimport { setAlert } from '../../../store/actions/alert';\r\nimport { register, login } from '../../../store/actions/auth';\r\n\r\n// Components\r\nimport Input from '../../UI/Input/Input';\r\nimport Button from '../../UI/Button/Button';\r\n\r\n\r\nconst AuthForm = ({\r\n    isSignup,\r\n    // Actions\r\n    setAlert,\r\n    register,\r\n    login\r\n}) => {\r\n    const [loading, setLoading] = useState(false);\r\n    // State\r\n    const [formData, setFormData] = useState({\r\n        name: \"\",\r\n        email: isSignup ? \"\" : \"test@test.com\",\r\n        password: isSignup ? \"\" : \"testtest\",\r\n        password2: \"\"\r\n    });\r\n\r\n    useEffect(() => {\r\n        if (isSignup) {\r\n            setFormData(() => ({\r\n                name: \"\",\r\n                email: \"\",\r\n                password: \"\",\r\n                password2: \"\",\r\n            }));\r\n        } else {\r\n            setFormData(() => ({\r\n                email: \"test@test.com\",\r\n                password: \"testtest\"\r\n            }));\r\n        }\r\n    }, [isSignup]);\r\n\r\n\r\n    const onChange = (e) => {\r\n        e.preventDefault();\r\n        e.persist();\r\n\r\n        setFormData((prevState) => ({\r\n            ...prevState,\r\n            [e.target.name]: e.target.value\r\n        }));\r\n    };\r\n\r\n\r\n    const onSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        const { name, email, password, password2 } = formData;\r\n\r\n        const failCB = () => { setLoading(false) };\r\n        setLoading(true);\r\n\r\n        // SignUp\r\n        if (isSignup) {\r\n            if (password !== password2) return setAlert(\"password do not much\", \"danger\", failCB);\r\n            register({ name, email, password }, failCB);\r\n        } else {\r\n            login({ email, password }, failCB);\r\n        }\r\n    }\r\n    if (loading) return <Spinner style={{ margin: \"2rem\" }} />;\r\n\r\n    return (\r\n        <form onSubmit={onSubmit} className={styles.AuthForm}>\r\n            {isSignup && (\r\n                <Input\r\n                    type=\"text\"\r\n                    placeholder=\"Username\"\r\n                    value={formData.name}\r\n                    onChange={e => onChange(e)}\r\n                    name=\"name\"\r\n                    required\r\n                />\r\n            )}\r\n            <Input\r\n                type=\"email\"\r\n                placeholder=\"Email\"\r\n                value={formData.email}\r\n                onChange={onChange}\r\n                name=\"email\"\r\n                required\r\n            />\r\n            <Input\r\n                type=\"password\"\r\n                placeholder=\"Password\"\r\n                value={formData.password}\r\n                onChange={onChange}\r\n                name=\"password\"\r\n                required\r\n            />\r\n            {isSignup &&\r\n                <Input\r\n                    type=\"password\"\r\n                    placeholder=\"Comfirm Password\"\r\n                    value={formData.password2}\r\n                    onChange={onChange}\r\n                    name=\"password2\"\r\n                    required\r\n                />\r\n            }\r\n            <Button btnType=\"color-primary\">{isSignup ? \"Signup\" : \"Login\"}</Button>\r\n        </form>\r\n    )\r\n}\r\n\r\nAuthForm.propTypes = {\r\n    setAlert: PropTypes.func.isRequired,\r\n    register: PropTypes.func.isRequired,\r\n    login: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default connect(null, { setAlert, login, register })(AuthForm);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './FormTypeChanger.module.scss';\r\n\r\nconst FormTypeChanger = ({isSignup, onChangeFormType}) => {\r\n\r\n    // Default style\r\n    const signupButtonClass = [styles.onSignupChange];\r\n    const loginButtonClass = [styles.onLoginChange];\r\n    \r\n    // Add active style\r\n    if (isSignup) {\r\n        signupButtonClass.push(styles.active);\r\n    } else {\r\n        loginButtonClass.push(styles.active);\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <button\r\n                className={signupButtonClass.join(\" \")}\r\n                onClick={() => onChangeFormType(true)}\r\n                >Signup\r\n            </button>\r\n            <button\r\n                className={loginButtonClass.join(\" \")}\r\n                onClick={() => onChangeFormType(false)}\r\n                >Login\r\n            </button>\r\n        </div>\r\n    )\r\n}\r\n\r\nFormTypeChanger.propTypes = {\r\n    isSignup: PropTypes.bool.isRequired\r\n};\r\n\r\nexport default FormTypeChanger;\r\n","import React, { useState, Fragment } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Auth.module.scss';\r\n\r\n// Components\r\nimport Spinner from '../UI/Spinner/Spinner';\r\nimport AuthFrom from './AuthForm/AuthForm';\r\nimport FormTypeChanger from './FormTypeChanger/FormTypeChanger';\r\n\r\n\r\nconst Auth = ({ auth: { isAuthenticated } }) => {\r\n    const [isSignup, setIsSignup] = useState(false);\r\n\r\n\r\n    const onChangeFormType = (boolean) => {\r\n        boolean !== isSignup && setIsSignup(boolean)\r\n    }\r\n\r\n    // Redirect authenticated user\r\n    if (isAuthenticated) {\r\n        return <Redirect to=\"/\" />;\r\n    };\r\n\r\n    const form = (\r\n        <Fragment>\r\n            <FormTypeChanger isSignup={isSignup} onChangeFormType={onChangeFormType} />\r\n            <AuthFrom isSignup={isSignup} />\r\n        </Fragment>\r\n    );\r\n\r\n    return (\r\n        <div className={styles.Auth}>\r\n            {form}\r\n        </div>\r\n    );\r\n};\r\n\r\nAuth.propTypes = {\r\n    auth: PropTypes.object.isRequired\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    auth: state.auth\r\n});\r\n\r\nexport default connect(mapStateToProps, null)(Auth);","import React, { Fragment, useState } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { connect } from 'react-redux';\r\nimport styles from './Search.module.scss';\r\nimport { GoSearch } from 'react-icons/go'\r\nimport { IoMdArrowRoundBack, IoIosClose } from 'react-icons/io';\r\nimport { setSearch, setCategory } from '../../../store/actions/filters';\r\nimport { refreshProducts } from '../../../store/actions/product';\r\n\r\nconst Search = ({ search, category, setSearch, setCategory, loading, refreshProducts }) => {\r\n    const [show, setShow] = useState(false);\r\n    const [isModified, setIsModified] = useState(false);\r\n    let searchInput = React.createRef();\r\n\r\n    const onShowHandler = () => {\r\n        setShow(true);\r\n        setIsModified(false);\r\n        searchInput.current.readOnly = false;\r\n        searchInput.current.focus();\r\n    };\r\n\r\n    const clearInput = () => {\r\n        setSearch(\"\");\r\n    };\r\n\r\n\r\n    const onSearchChange = (e) => {\r\n        e.persist();\r\n        setSearch(e.target.value);\r\n        !isModified && setIsModified(true);\r\n    }\r\n\r\n    const onSubmit = () => {\r\n        !loading && refreshProducts();\r\n    };\r\n\r\n    const onCategoryClick = (e) => {\r\n        const selectedCategory = e.target.getAttribute(\"category\");\r\n        setCategory(selectedCategory);\r\n        setShow(false);\r\n        onSubmit();\r\n    }\r\n\r\n    const onCloseHandler = () => {\r\n        setShow(false);\r\n        searchInput.current.readOnly = true;\r\n        searchInput.current.blur();\r\n        isModified && onSubmit();\r\n    };\r\n\r\n    const onSubmitHandler = (e) => {\r\n        e.preventDefault();\r\n        setShow(false);\r\n        searchInput.current.readOnly = true;\r\n        searchInput.current.blur();\r\n        onSubmit();\r\n    };\r\n\r\n    const categories = [\r\n        { value: \"\", text: \"All\" },\r\n        { value: \"Home\", text: \"Home\" },\r\n        { value: \"Academic\", text: \"Academic\" },\r\n        { value: \"Ticket\", text: \"Ticket\" },\r\n        { value: \"Electronics\", text: \"Electronics\" },\r\n        { value: \"Women\", text: \"Women\" },\r\n        { value: \"Men\", text: \"Men\" },\r\n        { value: \"Other\", text: \"Other\" },\r\n    ];\r\n\r\n    const categoryList = categories.map((el) => (\r\n        <li\r\n            key={el.text}\r\n            onClick={onCategoryClick}\r\n            className={\r\n                category === el.value\r\n                    ? [styles.category, styles.categoryActive].join(\" \")\r\n                    : styles.category\r\n            }\r\n            category={el.value}>\r\n            {el.text}\r\n        </li>\r\n    ));\r\n\r\n    // Current filter \"<<Category>><<SearchTerm>>\"\r\n    let unfocusedSearchInput = \"\";\r\n    if (category && search) unfocusedSearchInput = [category, search].join(\"  \")\r\n    else if (category) unfocusedSearchInput = category\r\n    else if (search) unfocusedSearchInput = search\r\n\r\n\r\n    return (\r\n        <div className={styles.Search}>\r\n            <div className={styles.topBox} onClick={!show ? onShowHandler : () => { }}>\r\n                {show &&\r\n                    <IoMdArrowRoundBack\r\n                        className={styles.backIcon}\r\n                        onClick={onCloseHandler} />\r\n                }\r\n                <form onSubmit={onSubmitHandler} className={styles.searchInputContainer}>\r\n                    <input\r\n                        className={styles.searchInput}\r\n                        type=\"text\"\r\n                        placeholder=\"Search\"\r\n                        value={show\r\n                            ? search\r\n                            : unfocusedSearchInput\r\n                        }\r\n                        onChange={onSearchChange}\r\n                        ref={searchInput}\r\n                        readOnly\r\n                    />\r\n                    {show && <IoIosClose className={styles.searchInputClear} onClick={clearInput} />}\r\n                </form>\r\n                <GoSearch className={styles.searchIcon} onClick={onSubmitHandler} />\r\n            </div>\r\n            {show &&\r\n                <Fragment>\r\n                    <ul className={styles.categories}>\r\n                        {categoryList}\r\n                    </ul>\r\n                    <div className={styles.backdrop} onClick={onCloseHandler}>\r\n                    </div>\r\n                </Fragment>\r\n            }\r\n        </div >\r\n    )\r\n}\r\n\r\nSearch.propTypes = {\r\n    search: PropTypes.string.isRequired,\r\n    category: PropTypes.string.isRequired,\r\n    setSearch: PropTypes.func.isRequired,\r\n    setCategory: PropTypes.func.isRequired,\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    search: state.filter.search,\r\n    category: state.filter.category,\r\n    loading: state.product.loading.getProduct\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    setSearch: (search) => dispatch(setSearch(search)),\r\n    setCategory: (category) => dispatch(setCategory(category)),\r\n    refreshProducts: () => dispatch(refreshProducts())\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Search);","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport { getProducts, refreshProducts } from '../../store/actions/product';\r\n\r\n\r\nimport Center from '../UI/Center/Center';\r\nimport Product from '../UI/Product/Product';\r\nimport Scroller from '../UI/Scroller/Scroller';\r\nimport Search from './Search/Search';\r\nimport styles from './Products.module.scss';\r\n\r\n\r\nconst Products = ({\r\n    getProducts,\r\n    refreshProducts,\r\n    product: { products, hasMore, loading },\r\n    filter: { search, category }\r\n}) => {\r\n    const loadMore = () => {\r\n        if (!loading.getProducts) {\r\n            getProducts({\r\n                skip: products.length,\r\n                limit: 10,\r\n                search,\r\n                category\r\n            })\r\n        }\r\n    };\r\n\r\n\r\n    const refresh = () => !loading.getProducts && refreshProducts();\r\n\r\n    const productList = products.map((singleProduct) => {\r\n        return <Product key={singleProduct._id} product={singleProduct} />;\r\n    });\r\n\r\n    return (\r\n        <div>\r\n            <Search />\r\n            <Scroller\r\n                onRefreshFunc={refresh}\r\n                loadMoreFunc={loadMore}\r\n                hasMore={hasMore}\r\n            >\r\n                <div className={styles.Products}>\r\n                    {\r\n                        productList.length === 0 && !hasMore ? (\r\n                            <Center>No product found</Center>\r\n                        ) : productList\r\n\r\n                    }\r\n                </div>\r\n            </Scroller>\r\n        </div>\r\n    );\r\n};\r\n\r\nProducts.propTypes = {\r\n    product: PropTypes.object.isRequired,\r\n    filter: PropTypes.object.isRequired,\r\n    getProducts: PropTypes.func.isRequired,\r\n    refreshProducts: PropTypes.func.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n    product: state.product,\r\n    filter: state.filter\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n    getProducts: (obj) => dispatch(getProducts(obj)),\r\n    refreshProducts: () => dispatch(refreshProducts())\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Products);","import { useEffect } from \"react\";\r\n\r\nexport default function ScrollToTopOnMount() {\r\n    useEffect(() => {\r\n        window.scrollTo(0, 0);\r\n    }, []);\r\n\r\n    return null;\r\n}\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport styles from './BottomBar.module.scss';\r\n\r\nconst BottomBar = ({ text, buttonText, onButtonClick }) => {\r\n    return (\r\n        <div className={styles.BottomBar}>\r\n            <div className={styles.text}>{text}</div>\r\n            <button\r\n                className={styles.button}\r\n                onClick={onButtonClick}\r\n            >{buttonText}\r\n            </button>\r\n        </div>\r\n    )\r\n}\r\n\r\nBottomBar.propTypes = {\r\n    text: PropTypes.string,\r\n    onButtonClick: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default BottomBar;\r\n","import React from 'react'\r\nimport { withRouter } from 'react-router-dom';\r\nimport styles from './TopBar.module.scss';\r\nimport { IoIosArrowBack } from 'react-icons/io';\r\n\r\nconst TopBar = ({ children, history }) => {\r\n    return (\r\n        <div className={styles.TopBar}>\r\n            <div\r\n                className={styles.GoBack}\r\n                onClick={e => history.goBack()}\r\n            >\r\n                <IoIosArrowBack />\r\n            </div>\r\n            {children}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(TopBar);\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types';\r\nimport { IoIosHeartEmpty, IoIosHeart } from 'react-icons/io';\r\nimport styles from './LikeButton.module.scss';\r\nimport Spinner from '../Spinner/Spinner';\r\n\r\nconst LikeButton = ({\r\n    spinnerSize = 35,\r\n    onClick,\r\n    isLiked,\r\n    loading = false\r\n}) => {\r\n    if (loading) return <Spinner style={{ margin: 0 }} size={spinnerSize} color=\"pink\" />;\r\n\r\n    return (\r\n        <button className={styles.likeButton} onClick={(e) => onClick()} >\r\n            {isLiked\r\n                ? <IoIosHeart className={styles.Like} />\r\n                : <IoIosHeartEmpty className={styles.Unlike} />\r\n            }\r\n        </button>\r\n    );\r\n}\r\n\r\nLikeButton.propTypes = {\r\n    onClick: PropTypes.func.isRequired,\r\n    isLiked: PropTypes.bool.isRequired,\r\n    spinnerSize: PropTypes.number,\r\n}\r\n\r\nexport default LikeButton;\r\n","import React, { Fragment, useState } from 'react'\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport PropTypes from 'prop-types'\r\nimport { deleteProduct, setLike, setUnlike } from '../../../store/actions/product';\r\nimport styles from './TopBar.module.scss';\r\n\r\nimport UITopBar from '../../UI/TopBar/TopBar';\r\nimport Button from '../../UI/Button/Button';\r\nimport LikeButton from '../../UI/LikeButton/LikeButton';\r\n\r\nconst TopBar = ({\r\n    history,\r\n    match,\r\n    // store    \r\n    auth,\r\n    product,\r\n    // actions\r\n    deleteProduct,\r\n    setLike,\r\n    setUnlike,\r\n}) => {\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    let isLiked = false;\r\n    if (auth.isAuthenticated && product) {\r\n        isLiked = product.likes.includes(auth.user._id);\r\n    }\r\n\r\n    const onLikeButtonClicked = () => {\r\n        if (!auth.isAuthenticated) return history.push('/auth');\r\n\r\n        setLoading(true);\r\n        const callback = () => setLoading(false);\r\n\r\n        isLiked ? setUnlike(match.params.id, callback) : setLike(match.params.id, callback);\r\n    }\r\n\r\n    const onEditButtonClicked = () => {\r\n        history.push(`/edit/${product._id}`)\r\n    };\r\n\r\n    const onDeleteButtonClicked = () => {\r\n        deleteProduct(match.params.id);\r\n        history.push('/products');\r\n    };\r\n\r\n    return (\r\n        <UITopBar>\r\n            <div className={styles.items}>\r\n                {auth.isAuthenticated && auth.user._id === product.user && product.sold === false && (\r\n                    <Fragment>\r\n                        <Button\r\n                            btnType=\"color-orange size-sm\"\r\n                            onClick={onEditButtonClicked}\r\n                        >Edit\r\n                        </Button>\r\n                        <Button\r\n                            btnType=\"color-danger size-sm\"\r\n                            onClick={onDeleteButtonClicked}\r\n                        >Delete\r\n                        </Button>\r\n                    </Fragment>)\r\n                }\r\n                <LikeButton\r\n                    loading={loading}\r\n                    onClick={() => onLikeButtonClicked()}\r\n                    isLiked={isLiked}\r\n                />\r\n            </div>\r\n        </UITopBar>\r\n    )\r\n}\r\n\r\nTopBar.propTypes = {\r\n    product: PropTypes.object,\r\n    auth: PropTypes.object,\r\n    deleteProduct: PropTypes.func.isRequired,\r\n    setLike: PropTypes.func.isRequired,\r\n    setUnlike: PropTypes.func.isRequired,\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    product: state.product.product,\r\n    loadingLike: state.product.loading.likes,\r\n    auth: state.auth\r\n});\r\n\r\nexport default connect(mapStateToProps, { deleteProduct, setLike, setUnlike })(withRouter(TopBar));\r\n","import React, { Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './TextToJSX.module.scss';\r\n\r\n\r\nconst TextToJSX = ({\r\n    children,\r\n    style,\r\n    className\r\n}) => {\r\n    const appliedClasses = [styles.line, className].join(\" \");\r\n    const paragraphArray = children.split(\"\\n\");\r\n    const len = paragraphArray.len;\r\n    const paragraphsJSX = children.split(\"\\n\").map((line, i) => (\r\n        <Fragment key={i}>\r\n            <span\r\n                style={style}\r\n                className={appliedClasses}\r\n            >{line}\r\n            </span>\r\n            {i !== len - 1 && <br />}\r\n        </Fragment>\r\n    ));\r\n\r\n    return paragraphsJSX;\r\n};\r\n\r\nTextToJSX.propTypes = ({\r\n    children: PropTypes.string.isRequired,\r\n});\r\n\r\nexport default TextToJSX;\r\n","import React, { Fragment } from 'react'\r\nimport { withRouter } from 'react-router-dom';\r\nimport PropTypes from 'prop-types'\r\nimport imageConverter from '../../../utils/imageConverter';\r\nimport styles from './UserInfo.module.scss';\r\n\r\nimport PictureRadius from '../Pictures/PictureRadius/PictureRadius';\r\n\r\n\r\nconst UserInfo = ({\r\n    title = null,\r\n    name,\r\n    avatar,\r\n    userId,\r\n    history,\r\n\r\n    // styles\r\n    imageSize = \"3rem\",\r\n    imageLeft = true,\r\n    fontSize = \"1.4rem\",\r\n    color = \"inherit\",\r\n    fontWeight = \"bold\",\r\n    marginBetween = \"1.5rem\",\r\n    style\r\n}) => {\r\n    const avatarSrc = avatar\r\n        ? imageConverter(avatar.data)\r\n        : imageConverter(null);\r\n\r\n    const marginForName = imageLeft ? { marginLeft: marginBetween } : { marginRight: marginBetween };\r\n    const picture = <PictureRadius\r\n        alt=\"Profile Picture\"\r\n        src={avatarSrc}\r\n        size={imageSize}\r\n        className={styles.UserPicture}\r\n    />;\r\n    const nameDiv =\r\n        <div\r\n            style={{\r\n                ...marginForName,\r\n                fontSize,\r\n                fontWeight,\r\n                color\r\n            }}\r\n        >{title && <span style={{ fontWeight: \"normal\" }}>{`${title} `}</span>}{name}\r\n        </div>;\r\n\r\n    return (\r\n        <div className={[styles.User, style].join(\" \")} onClick={userId ? () => history.push(`/profile/${userId}`) : () => null}>\r\n            {\r\n                imageLeft\r\n                    ? <Fragment>{picture}{nameDiv}</Fragment>\r\n                    : <Fragment>{nameDiv}{picture}</Fragment>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nUserInfo.propTypes = {\r\n    name: PropTypes.string,\r\n    userId: PropTypes.string,\r\n\r\n    // styles\r\n    imageSize: PropTypes.string,\r\n    imageLeft: PropTypes.bool,\r\n    fontSize: PropTypes.string,\r\n    color: PropTypes.string,\r\n    fontWeight: PropTypes.string,\r\n    marginBetween: PropTypes.string\r\n};\r\n\r\nexport default withRouter(UserInfo);\r\n","import React from 'react'\r\nimport styles from './Comment.module.scss';\r\nimport TextToJSX from '../../UI/TextToJSX/TextToJSX';\r\nimport UserInfo from '../../UI/UserInfo/UserInfo'\r\n\r\nconst Comment = ({ comment }) => {\r\n    return (\r\n        <div className={styles.Comment}>\r\n            <UserInfo name={comment.name} avatar={comment.avatar} userId={comment.user} />\r\n            <div className={styles.Text}>\r\n                <TextToJSX>{comment.text}</TextToJSX>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Comment;\r\n","import React, { useState, useEffect, Fragment } from 'react'\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport { addComment } from '../../../store/actions/product';\r\n\r\nimport styles from './Comments.module.scss';\r\nimport Comment from '../Comment/Comment';\r\nimport Button from '../../UI/Button/Button';\r\n\r\nconst Comments = ({ addComment, auth, comments, history, match }) => {\r\n    const [loading, setLoading] = useState(false);\r\n    const [newComment, setNewComment] = useState(\"\");\r\n\r\n    useEffect(() => {\r\n        setNewComment(() => \"\");\r\n    }, [comments]);\r\n\r\n    const onChangeHandler = (e) => {\r\n        e.persist();\r\n        setNewComment(e.target.value);\r\n    };\r\n\r\n    const onSubmit = e => {\r\n        if (!auth.isAuthenticated) return history.push('/auth');\r\n        if (newComment === \"\") return alert(\"Comment needed\");\r\n\r\n        setLoading(true);\r\n        addComment(match.params.id, newComment, () => setLoading(false));\r\n    }\r\n\r\n    return (\r\n        <Fragment>\r\n            <h3 className={styles.Header}>Comments</h3>\r\n            <div className={styles.Comments}>\r\n                {comments.length === 0 && <p>No Comment yet</p>}\r\n                {comments.map(comment => <Comment key={comment._id} comment={comment} />)}\r\n                <textarea\r\n                    className={styles.Textarea}\r\n                    placeholder=\"New comment here\"\r\n                    value={newComment}\r\n                    onChange={onChangeHandler}\r\n                ></textarea>\r\n                <Button\r\n                    btnType=\"color-primary\"\r\n                    className={styles.button}\r\n                    onClick={onSubmit}\r\n                    loading={loading}\r\n                >SEND\r\n                </Button>\r\n            </div>\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nComments.propTypes = {\r\n    comments: PropTypes.array,\r\n    auth: PropTypes.object,\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    comments: state.product.product.comments,\r\n    auth: state.auth,\r\n    addComment: PropTypes.func.isRequired,\r\n});\r\n\r\nexport default connect(mapStateToProps, { addComment })(withRouter(Comments));\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nimport styles from './UserInfoCard.module.scss';\r\nimport UserInfo from '../UserInfo/UserInfo';\r\nimport { IoIosArrowForward } from 'react-icons/io';\r\n\r\n// props\r\n// onClick : Function\r\n// name : String\r\n// (opt) avatar : Obj \r\n\r\nconst UserInfoCard = props => {\r\n    return (\r\n        <div className={styles.card} onClick={props.onClick} >\r\n            <UserInfo\r\n                name={props.name}\r\n                avatar={props.avatar}\r\n                imageLeft={false}\r\n                fontSize=\"1.6rem\"\r\n                imageSize=\"4rem\"\r\n            />\r\n            <IoIosArrowForward />\r\n        </div>\r\n    )\r\n}\r\n\r\nUserInfoCard.propTypes = {\r\n    linkTo: PropTypes.string,\r\n}\r\n\r\nexport default UserInfoCard\r\n","import React, { Fragment } from 'react'\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport imageConverter from '../../../utils/imageConverter';\r\nimport styles from './Main.module.scss';\r\n\r\nimport Comments from '../Comments/Comments';\r\nimport UserInfoCard from '../../UI/UserInfoCard/UserInfoCard';\r\nimport TextToJSX from '../../UI/TextToJSX/TextToJSX';\r\n\r\nconst Main = ({\r\n    history,\r\n    product: {\r\n        productImage,\r\n        productImageLow,\r\n        avatar,\r\n        name,\r\n        description,\r\n        meetupAt,\r\n        title,\r\n        user,\r\n        purchaser\r\n    }\r\n}) => {\r\n    const imageSrc = productImage\r\n        ? imageConverter(productImage.data)\r\n        : imageConverter(productImageLow.data);\r\n\r\n    return (\r\n        <div className={styles.Main}>\r\n            <img alt=\"pic\" className={styles.Image} src={imageSrc} />\r\n            <div className={styles.Container}>\r\n                <h2 >{title}</h2>\r\n                <div className={styles.subContainer} ><TextToJSX>{description}</TextToJSX></div>\r\n\r\n                <h3>Meetup Place</h3>\r\n                <div className={styles.subContainer}>\r\n                    <p>{meetupAt}</p>\r\n                </div>\r\n\r\n                <h3>Seller</h3>\r\n                <UserInfoCard\r\n                    name={name}\r\n                    avatar={avatar}\r\n                    onClick={() => history.push(`/profile/${user}`)}\r\n                />\r\n\r\n                {purchaser && purchaser.name &&\r\n                    <Fragment>\r\n                        <h3> Purchaser</h3>\r\n                        <UserInfoCard\r\n                            name={purchaser.name}\r\n                            avatar={purchaser.avatar}\r\n                            onClick={() => history.push(`/profile/${purchaser._id}`)}\r\n                        />\r\n                    </Fragment>\r\n                }\r\n\r\n                <Comments />\r\n            </div>\r\n        </div >\r\n    )\r\n}\r\n\r\nMain.propTypes = {\r\n    product: PropTypes.object,\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    product: state.product.product\r\n});\r\n\r\nexport default connect(mapStateToProps, null)(withRouter(Main));\r\n","import React, { useEffect, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport { getProduct, purchaseProduct, cancelProduct, rejectProduct } from '../../store/actions/product';\r\n\r\n\r\n// Components\r\nimport ScrollToTop from '../ScrollToTop';\r\nimport Spinner from '../UI/Spinner/Spinner';\r\nimport BottomBar from '../UI/BottomBar/BottomBar';\r\nimport TopBar from './TopBar/TopBar';\r\nimport Main from './Main/Main';\r\n\r\nconst Product = ({\r\n    loading,\r\n    product,\r\n    auth,\r\n    getProduct,\r\n    history,\r\n    match,\r\n    purchaseProduct,\r\n    cancelProduct,\r\n    rejectProduct\r\n}) => {\r\n    const [purchaseLoading, setPurchaseLoading] = useState(false);\r\n\r\n    useEffect(() => {\r\n        getProduct(match.params.id);\r\n    }, [getProduct, match.params.id]);\r\n\r\n    if (loading.getProduct) return <Spinner style={{ margin: \"2rem\" }} />;\r\n    if (!product) return <p>Not found!</p>;\r\n\r\n\r\n    const callback = () => { setPurchaseLoading(false) };\r\n\r\n    const onPurchaseHandler = () => {\r\n        setPurchaseLoading(true);\r\n        purchaseProduct(match.params.id, callback)\r\n    };\r\n\r\n    const onCancelHandler = () => {\r\n        setPurchaseLoading(true);\r\n        cancelProduct(match.params.id, callback);\r\n    };\r\n\r\n    const onRejectHandler = () => {\r\n        setPurchaseLoading(true);\r\n        rejectProduct(match.params.id, callback);\r\n    };\r\n\r\n    const onUnauthorizedHandler = () => history.push('/auth');\r\n\r\n    const { purchaser } = product;\r\n    let buttonText = \"Purchase\";\r\n    let onClickHandler = onPurchaseHandler;\r\n    if (!product.sold && auth.isAuthenticated && product.user.toString() === auth.user._id.toString()) {\r\n        buttonText = \"EDIT\";\r\n        onClickHandler = () => history.push(`/edit/${match.params.id}`);\r\n    } else if (product.sold && auth.isAuthenticated && product.user.toString() === auth.user._id.toString()) {\r\n        buttonText = \"REJECT\";\r\n        onClickHandler = onRejectHandler;\r\n    } else if (product.sold && auth.isAuthenticated && purchaser._id && purchaser._id.toString() === auth.user._id.toString()) {\r\n        buttonText = \"CANCEL\";\r\n        onClickHandler = onCancelHandler;\r\n    } else if (product.sold) {\r\n        buttonText = \"SOLD OUT\";\r\n        onClickHandler = () => null;\r\n    }\r\n    if (!auth.isAuthenticated) onClickHandler = onUnauthorizedHandler;\r\n\r\n\r\n    if (purchaseLoading) {\r\n        buttonText = <Spinner size={15} style={{ margin: 0 }} color=\"white\" ></Spinner>;\r\n        onClickHandler = () => null;\r\n    }\r\n    return (\r\n        <div>\r\n            <ScrollToTop />\r\n            <TopBar />\r\n            <Main />\r\n            <BottomBar\r\n                text={` ${product.price.toLocaleString()}`}\r\n                buttonText={buttonText}\r\n                onButtonClick={onClickHandler}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n\r\nProduct.propTypes = {\r\n    product: PropTypes.object,\r\n    loading: PropTypes.object.isRequired,\r\n    getProduct: PropTypes.func.isRequired,\r\n    auth: PropTypes.object,\r\n    purchaseProduct: PropTypes.func.isRequired,\r\n    cancelProduct: PropTypes.func.isRequired,\r\n    rejectProduct: PropTypes.func.isRequired,\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    product: state.product.product,\r\n    loading: state.product.loading,\r\n    auth: state.auth\r\n});\r\n\r\nexport default connect(mapStateToProps, { getProduct, purchaseProduct, cancelProduct, rejectProduct })(Product);","export default (\r\n    files,\r\n    maxSize = 10000000,\r\n    acceptedFileTypes = 'image/png, image/jpg, image/jpeg'\r\n) => {\r\n    const acceptedFileTypesArray = acceptedFileTypes\r\n        .split(',')\r\n        .map(item => item.trim());\r\n\r\n    if (files && files.length > 0) {\r\n        const currentFile = files[0];\r\n        const currentFileType = currentFile.type;\r\n        const currentFileSize = currentFile.size;\r\n        if (currentFileSize > maxSize) {\r\n            alert('This file is too big (Max: 10MB)');\r\n            return false;\r\n        }\r\n        if (!acceptedFileTypesArray.includes(currentFileType)) {\r\n            alert(\r\n                'This file is not allowed. Only jpg, jpeg and png are allowed.'\r\n            );\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n};\r\n","import React, { PureComponent } from 'react';\r\nimport Dropzone from 'react-dropzone';\r\nimport ReactCrop from 'react-image-crop';\r\nimport 'react-image-crop/lib/ReactCrop.scss';\r\nimport { getCroppedImg, base64StringtoFile } from './utils/base64';\r\nimport verifyFile from './utils/verify';\r\nimport styles from './ImageDropAndCrop.module.scss';\r\nimport { IoMdImage } from 'react-icons/io';\r\n\r\n// Props\r\n// [Func] setImage( uploadableFile ) \r\n// (option) [Num] maxSize @default = 10000000 (10MB)\r\n// (option) [String(base64)] defaultImage (default Image shown if it is provided)\r\n\r\n\r\nclass ImgDropAndCrop extends PureComponent {\r\n    state = {\r\n        cropping: false,\r\n        src: this.props.defaultImage ? true : null,\r\n        crop: {\r\n            unit: '%',\r\n            width: 70,\r\n            aspect: 4 / 3\r\n        },\r\n        croppedImageBase64: this.props.defaultImage || null,\r\n        isModified: this.props.defaultImage ? false : true,\r\n    };\r\n\r\n    onSelectFile = (files, rejectedFiles) => {\r\n        if (rejectedFiles && rejectedFiles.length > 0) {\r\n            console.log('File rejected');\r\n            verifyFile(rejectedFiles, this.props.maxSize);\r\n        }\r\n\r\n        if (files && files.length > 0) {\r\n            const isVerified = verifyFile(files, this.props.maxSize);\r\n            if (isVerified) {\r\n                // imageBase64Data\r\n                const currentFile = files[0];\r\n                const reader = new FileReader();\r\n\r\n                reader.addEventListener(\r\n                    'load',\r\n                    () => {\r\n                        this.setState({ src: reader.result, cropping: true });\r\n                    },\r\n                    false\r\n                );\r\n\r\n                reader.readAsDataURL(currentFile);\r\n            }\r\n        }\r\n    };\r\n\r\n    onImageLoaded = image => {\r\n        this.imageRef = image;\r\n    };\r\n    onCropComplete = crop => {\r\n        if (this.imageRef && crop.width && crop.height) {\r\n            const croppedImageBase64 = getCroppedImg(\r\n                this.imageRef,\r\n                crop,\r\n                'newFile.png'\r\n            );\r\n            this.setState({\r\n                croppedImageBase64,\r\n                isModified: true\r\n            });\r\n        }\r\n    };\r\n    onCropChange = (crop, percentCrop) => {\r\n        this.setState({ crop });\r\n    };\r\n\r\n    readyToUpload = () => {\r\n        const uploadableFile = base64StringtoFile(this.state.croppedImageBase64, \"newFile\");\r\n        this.setState({ cropping: false });\r\n        this.props.setImage(uploadableFile);\r\n    };\r\n\r\n    render() {\r\n        // Var\r\n        const { cropping, src, crop, croppedImageBase64 } = this.state;\r\n        const maxSize = this.props.maxSize || 10000000;\r\n        const acceptedFileTypes = 'image/png, image/jpg, image/jpeg';\r\n\r\n        return (\r\n            <div>\r\n                <div className={styles.ReactCropContainer}>\r\n                    {src && cropping && (\r\n                        <div className={styles.ReactCrop}>\r\n                            <ReactCrop\r\n                                src={src}\r\n                                crop={crop}\r\n                                onImageLoaded={this.onImageLoaded}\r\n                                onComplete={this.onCropComplete}\r\n                                onChange={this.onCropChange}\r\n                            />\r\n                        </div>\r\n                    )}\r\n                    {src && !cropping && (\r\n                        <img\r\n                            alt=\"Crop\"\r\n                            style={{ width: '100%' }}\r\n                            src={croppedImageBase64}\r\n                        />\r\n                    )}\r\n                    <div className={styles.buttons}>\r\n                        {src && cropping &&\r\n                            <button\r\n                                className={styles.crop}\r\n                                onClick={this.readyToUpload}\r\n                            >\r\n                                Crop\r\n                            </button>\r\n                        }\r\n                        {src && !cropping && this.state.isModified &&\r\n                            <button\r\n                                className={styles.edit}\r\n                                onClick={() => {\r\n                                    this.setState({ cropping: true });\r\n                                }}\r\n                            >\r\n                                Edit\r\n                            </button>\r\n                        }\r\n                        {src && (\r\n                            <button\r\n                                className={styles.remove}\r\n                                onClick={() => {\r\n                                    this.setState({\r\n                                        src: null,\r\n                                        croppedImageBase64: null\r\n                                    });\r\n                                    this.props.setImage(null);\r\n                                }}\r\n                            >\r\n                                Remove\r\n                            </button>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n\r\n                {!src && (\r\n                    <Dropzone\r\n                        onDrop={this.onSelectFile}\r\n                        maxSize={maxSize}\r\n                        multiple={false}\r\n                        accept={acceptedFileTypes}\r\n                    >\r\n                        {({ getRootProps, getInputProps }) => (\r\n                            <section className={styles.Dropzone}>\r\n                                <div {...getRootProps()}>\r\n                                    <input {...getInputProps()} />\r\n                                    <IoMdImage\r\n                                        size=\"10rem\"\r\n                                        color=\"#ddd\"\r\n                                        className={styles.DropzoneIcon}\r\n                                    />\r\n                                </div>\r\n                            </section>\r\n                        )}\r\n                    </Dropzone>\r\n                )}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ImgDropAndCrop;\r\n\r\n","function downloadBase64File(base64Data, filename) {\r\n  var element = document.createElement('a');\r\n  element.setAttribute('href', base64Data);\r\n  element.setAttribute('download', filename);\r\n  element.style.display = 'none';\r\n  document.body.appendChild(element);\r\n  element.click();\r\n  document.body.removeChild(element);\r\n}\r\n\r\nfunction base64StringtoFile(base64String, filename) {\r\n    var arr = base64String.split(','),\r\n        mime = arr[0].match(/:(.*?);/)[1],\r\n        bstr = atob(arr[1]),\r\n        n = bstr.length,\r\n        u8arr = new Uint8Array(n);\r\n    while (n--) {\r\n        u8arr[n] = bstr.charCodeAt(n);\r\n    }\r\n    return new File([u8arr], filename, { type: mime });\r\n}\r\n\r\nfunction extractImageFileExtensionFromBase64(base64Data) {\r\n    return base64Data.substring(\r\n        'data:image/'.length,\r\n        base64Data.indexOf(';base64')\r\n    );\r\n}\r\n\r\nfunction image64toCanvasRef(canvasRef, image64, pixelCrop) {\r\n    const canvas = canvasRef; // document.createElement('canvas');\r\n    canvas.width = pixelCrop.width;\r\n    canvas.height = pixelCrop.height;\r\n    const ctx = canvas.getContext('2d');\r\n    const image = new Image();\r\n    image.src = image64;\r\n    image.onload = function() {\r\n        ctx.drawImage(\r\n            image,\r\n            pixelCrop.x,\r\n            pixelCrop.y,\r\n            pixelCrop.width,\r\n            pixelCrop.height,\r\n            0,\r\n            0,\r\n            pixelCrop.width,\r\n            pixelCrop.height\r\n        );\r\n    };\r\n}\r\n\r\nfunction getCroppedImg(image, crop) {\r\n    const canvas = document.createElement(\"canvas\");\r\n    const scaleX = image.naturalWidth / image.width;\r\n    const scaleY = image.naturalHeight / image.height;\r\n    var originWidth = crop.width * scaleX;\r\n    var originHeight = crop.height * scaleY;\r\n    // maximum width/height\r\n    var maxWidth = 1200, maxHeight = 1200 / (16 / 9);\r\n    var targetWidth = originWidth,\r\n      targetHeight = originHeight;\r\n    if (originWidth > maxWidth || originHeight > maxHeight) {\r\n      if (originWidth / originHeight > maxWidth / maxHeight) {\r\n        targetWidth = maxWidth;\r\n        targetHeight = Math.round(maxWidth * (originHeight / originWidth));\r\n      } else {\r\n        targetHeight = maxHeight;\r\n        targetWidth = Math.round(maxHeight * (originWidth / originHeight));\r\n      }\r\n    }\r\n    // set canvas size\r\n    canvas.width = targetWidth;\r\n    canvas.height = targetHeight;\r\n    const ctx = canvas.getContext(\"2d\");\r\n\r\n    ctx.drawImage(\r\n      image, \r\n      crop.x * scaleX, \r\n      crop.y * scaleY, \r\n      crop.width * scaleX, \r\n      crop.height * scaleY, \r\n      0, \r\n      0, \r\n      targetWidth, \r\n      targetHeight \r\n    );\r\n    return canvas.toDataURL('image/jpeg', 0.9);\r\n  }\r\n\r\nexport {\r\n    downloadBase64File,\r\n    base64StringtoFile,\r\n    extractImageFileExtensionFromBase64,\r\n    image64toCanvasRef,\r\n    getCroppedImg\r\n};","import React, { useState, useEffect, useReducer, Fragment } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { getProduct, editProduct, createProduct } from '../../store/actions/product';\r\nimport imageConverter from '../../utils/imageConverter';\r\n\r\n//Components\r\nimport Input from '../UI/Input/Input';\r\nimport Button from '../UI/Button/Button';\r\nimport styles from './EditPage.module.scss';\r\nimport Spinner from '../UI/Spinner/Spinner';\r\nimport ImageDropAndCrop from '../UI/ImageDropAndCrop/ImageDropAndCrop';\r\nimport TopBar from '../UI/TopBar/TopBar';\r\n\r\n\r\n// Local action types\r\nconst UPDATE_FORM_INPUT = 'UPDATE_FORM_INPUT';\r\nconst UPDATE_FORM_IMAGE = 'UPDATE_FORM_IMAGE';\r\nconst INIT_STATE = 'INIT_STATE';\r\n\r\n// initial form state\r\nconst initFormState = {\r\n    inputValues: {\r\n        title: \"\",\r\n        price: \"\",\r\n        category: \"Home\",\r\n        meetupAt: \"\",\r\n        description: \"\",\r\n        productImage: \"\",\r\n    },\r\n    imgModified: true,\r\n};\r\n\r\n// Reducer\r\nconst formReducer = (state, action) => {\r\n    switch (action.type) {\r\n        case UPDATE_FORM_INPUT:\r\n            return {\r\n                ...state,\r\n                inputValues: {\r\n                    ...state.inputValues,\r\n                    [action.inputIdentifier]: action.value\r\n                }\r\n            }\r\n        case UPDATE_FORM_IMAGE:\r\n            return {\r\n                ...state,\r\n                inputValues: {\r\n                    ...state.inputValues,\r\n                    productImage: action.imageFile\r\n                },\r\n                imgModified: true,\r\n            }\r\n        case INIT_STATE:\r\n            return action.initState\r\n        default:\r\n            throw new Error('No action type matched!!');\r\n    }\r\n};\r\n\r\nconst EditPage = ({ match, history }) => {\r\n    const [loading, setLoading] = useState(true);\r\n    const product = useSelector(state => state.product.product);\r\n    const dispatch = useDispatch();\r\n    const [formState, formDispatch] = useReducer(formReducer, initFormState);\r\n\r\n    // Get Product data and set them to edit. \r\n    const productId = match.params.id;\r\n    useEffect(() => {\r\n        const initForm = async () => {\r\n            try {\r\n                if (productId && (!product || (product && productId !== product._id.toString()))) {\r\n                    await dispatch(getProduct(productId));\r\n                }\r\n                setLoading(false);\r\n                if (!product || !productId) return;\r\n                formDispatch({\r\n                    type: INIT_STATE,\r\n                    initState: {\r\n                        inputValues: {\r\n                            title: product.title,\r\n                            price: product.price,\r\n                            category: product.category,\r\n                            meetupAt: product.meetupAt,\r\n                            description: product.description,\r\n                            productImage: imageConverter(product.productImage.data)\r\n                        },\r\n                        imgModified: false\r\n                    }\r\n                });\r\n            } catch (err) {\r\n                console.log(err);\r\n            }\r\n        }\r\n        initForm();\r\n    }, [formDispatch, productId, product]);\r\n\r\n    // Variable\r\n    const {\r\n        inputValues: {\r\n            title,\r\n            price,\r\n            category,\r\n            meetupAt,\r\n            description,\r\n            productImage\r\n        },\r\n        imgModified\r\n    } = formState;\r\n\r\n    // Functions\r\n    const onTextChange = (e) => {\r\n        formDispatch({\r\n            type: UPDATE_FORM_INPUT,\r\n            value: e.target.value,\r\n            inputIdentifier: e.target.name\r\n        });\r\n    };\r\n\r\n    const setImage = (uploadableFile) => {\r\n        formDispatch({\r\n            type: UPDATE_FORM_IMAGE,\r\n            imageFile: uploadableFile\r\n        });\r\n    };\r\n\r\n    const onSubmit = (e) => {\r\n        e.preventDefault();\r\n        const newFormData = new FormData();\r\n        newFormData.append('title', title);\r\n        newFormData.append('price', price);\r\n        newFormData.append('category', category);\r\n        newFormData.append('meetupAt', meetupAt);\r\n        newFormData.append('description', description);\r\n\r\n        if (!productImage) return alert(\"Please set Image\");\r\n\r\n        // do not submit image if the image is not edited in edit mode\r\n        imgModified && newFormData.append('productImage', productImage);\r\n\r\n        if (productId) {\r\n            dispatch(editProduct(match.params.id, newFormData));\r\n        } else {\r\n            dispatch(createProduct(newFormData));\r\n        }\r\n        history.push('/products');\r\n    };\r\n\r\n    return (\r\n        <Fragment>\r\n            {productId && <TopBar />}\r\n            {loading ? (\r\n                <Spinner center={true} />\r\n            ) : (\r\n\r\n                    <div className={styles.Sell}>\r\n                        <div className={styles.ImageDropAndCrop}>\r\n                            <ImageDropAndCrop\r\n                                maxSize={10000000}\r\n                                setImage={(uploadableFile) => setImage(uploadableFile)}\r\n                                defaultImage={!imgModified ? productImage : null}\r\n                            />\r\n                        </div>\r\n                        <form className={styles.sellForm} onSubmit={e => onSubmit(e)}>\r\n                            <label>Product</label>\r\n                            <Input\r\n                                type=\"text\"\r\n                                placeholder=\"Product Name (20 words or less)\"\r\n                                name=\"title\"\r\n                                value={title}\r\n                                onChange={e => onTextChange(e)}\r\n                                required\r\n                            />\r\n\r\n                            <label>Price</label>\r\n                            <Input\r\n                                type=\"number\"\r\n                                placeholder=\"Price in Yen\"\r\n                                name=\"price\"\r\n                                value={price}\r\n                                onChange={e => onTextChange(e)}\r\n                                required\r\n                            />\r\n\r\n                            <label>Category</label>\r\n                            <Input\r\n                                type=\"select\"\r\n                                name=\"category\"\r\n                                value={category}\r\n                                onChange={e => onTextChange(e)}>\r\n                                <option value=\"Home\">Home</option>\r\n                                <option value=\"Academic\">Academic</option>\r\n                                <option value=\"Electronics\">Electronics</option>\r\n                                <option value=\"Ticket\">Ticket</option>\r\n                                <option value=\"Women\">Women</option>\r\n                                <option value=\"Men\">Men</option>\r\n                                <option value=\"Other\">Other</option>\r\n                            </Input>\r\n\r\n                            <label>Meetup Place</label>\r\n                            <Input\r\n                                type=\"text\"\r\n                                placeholder=\"Meetup Place\"\r\n                                name=\"meetupAt\"\r\n                                value={meetupAt}\r\n                                onChange={e => onTextChange(e)}\r\n                                required\r\n                            />\r\n\r\n                            <label>Description</label>\r\n                            <Input\r\n                                type=\"textarea\"\r\n                                placeholder=\"Description here\"\r\n                                name=\"description\"\r\n                                value={description}\r\n                                onChange={e => onTextChange(e)}\r\n                                required\r\n                            />\r\n                            <Button className={styles.btn} btnType=\"color-primary size-lg\">\r\n                                Submit\r\n                        </Button>\r\n                        </form>\r\n                    </div>\r\n                )\r\n            }\r\n        </Fragment>\r\n    );\r\n}\r\n\r\nexport default EditPage;\r\n","import axios from '../../axios';\r\nimport {\r\n    GET_PROFILE_START,\r\n    GET_PROFILE_SUCCESS,\r\n    GET_PROFILE_FAIL,\r\n    GET_PROFILE_PRODUCTS_START,\r\n    GET_PROFILE_PRODUCTS_SUCCESS,\r\n    GET_PROFILE_PRODUCTS_FAIL\r\n} from './actionType';\r\nimport { setAlert } from './alert';\r\n\r\nexport const getProfile = (userId, cb = () => { }) => async dispatch => {\r\n    dispatch({\r\n        type: GET_PROFILE_START\r\n    });\r\n\r\n    try {\r\n        const res = await axios.get(`/api/user/${userId}`);\r\n\r\n        dispatch({\r\n            type: GET_PROFILE_SUCCESS,\r\n            payload: res.data\r\n        });\r\n        cb()\r\n    } catch (err) {\r\n        dispatch(setAlert(err.response.data.message, \"danger\"));\r\n        dispatch({\r\n            type: GET_PROFILE_FAIL,\r\n        });\r\n        cb()\r\n    }\r\n};\r\n\r\nexport const getProfileProducts = (userId, skip = 0, limit = 10) => async dispatch => {\r\n    dispatch({\r\n        type: GET_PROFILE_PRODUCTS_START\r\n    });\r\n\r\n    try {\r\n        const res = await axios.get(`/api/products/sellings/${userId}?skip=${skip}&limit=${limit}`);\r\n        const hasMore = res.data.length === limit;\r\n\r\n        dispatch({\r\n            type: GET_PROFILE_PRODUCTS_SUCCESS,\r\n            payload: { products: res.data, hasMore }\r\n        });\r\n    } catch (err) {\r\n        dispatch(setAlert(err.response.data.message, \"danger\"));\r\n        dispatch({\r\n            type: GET_PROFILE_PRODUCTS_FAIL,\r\n        });\r\n    }\r\n};","import React, { Fragment } from 'react';\r\nimport { withRouter, Link } from 'react-router-dom';\r\nimport PropTypes from 'prop-types'\r\nimport imageConverter from '../../../utils/imageConverter';\r\nimport styles from './User.module.scss';\r\nimport { AiOutlineMessage } from 'react-icons/ai';\r\nimport { IoLogoFacebook } from 'react-icons/io';\r\n\r\nconst User = ({ user, match }) => {\r\n\r\n    let avatarSrc;\r\n    if (user) {\r\n        avatarSrc = user.avatar\r\n            ? imageConverter(user.avatar.data)\r\n            : imageConverter(null);\r\n    }\r\n\r\n    return (\r\n        <Fragment>\r\n\r\n            <img\r\n                src={avatarSrc}\r\n                alt=\"Profile\"\r\n                className={styles.profileImage} />\r\n            <h2>{user.name}</h2>\r\n            <div className={styles.icons}>\r\n                <Link to={`/messages/${match.params.id}`}>\r\n                    <AiOutlineMessage\r\n                        size={\"4rem\"}\r\n                    />\r\n                </Link>\r\n                {user.facebook &&\r\n                    <a target=\"_blank\" style={{ marginLeft: \"1rem\" }} href={user.facebook}>\r\n                        <IoLogoFacebook\r\n                            size={\"4rem\"}\r\n                            color={\"#0084ff\"}\r\n                        />\r\n                    </a>\r\n                }\r\n            </div>\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nUser.propTypes = {\r\n    user: PropTypes.object.isRequired,\r\n}\r\n\r\nexport default withRouter(User)\r\n","import React from 'react'\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types'\r\nimport styles from './Products.module.scss';\r\n\r\n// Action\r\nimport { getProfileProducts } from '../../../store/actions/profile';\r\n\r\n// Components\r\nimport Product from '../../UI/Product/Product';\r\nimport Spinner from '../../UI/Spinner/Spinner';\r\nimport InfiniteScroller from 'react-infinite-scroller';\r\n\r\nconst Products = ({ match, products, hasMore, loading, getProfileProducts }) => {\r\n    const loadMore = loading\r\n        ? () => null\r\n        : () => getProfileProducts(match.params.id, products.length);\r\n\r\n    let productList = null;\r\n    if (!loading && products.length === 0) productList = <p>No selling products</p>;\r\n    if (products.length > 0) {\r\n        productList = products.map((product) => <Product key={product._id} product={product} />);\r\n    }\r\n\r\n    return (\r\n        <div style={{ width: \"100%\" }}>\r\n            <InfiniteScroller\r\n                pageStart={0}\r\n                threshold={250}\r\n                loadMore={loadMore}\r\n                hasMore={hasMore}\r\n                loader={<Spinner key={\"abc\"} size={50} style={{ marginTop: \"3rem\" }} />}\r\n            >\r\n                <div className={styles.items}>\r\n                    {productList}\r\n                </div>\r\n            </InfiniteScroller>\r\n        </div>\r\n    )\r\n}\r\n\r\nProducts.propTypes = {\r\n    products: PropTypes.array.isRequired,\r\n    hasMore: PropTypes.bool.isRequired,\r\n    loading: PropTypes.bool.isRequired,\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    products: state.profile.products.products,\r\n    hasMore: state.profile.products.hasMore,\r\n    loading: state.profile.products.loading\r\n});\r\n\r\nexport default connect(mapStateToProps, { getProfileProducts })(withRouter(Products));\r\n","import React, { Fragment, useEffect, useState } from 'react'\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types'\r\nimport styles from './Profile.module.scss'\r\n// action\r\nimport { getProfile } from '../../store/actions/profile';\r\n// Components\r\nimport TopBar from '../UI/TopBar/TopBar';\r\nimport Spinner from '../UI/Spinner/Spinner';\r\nimport User from './User/User';\r\nimport Products from './Products/Products';\r\n\r\nconst Profile = ({\r\n    history,\r\n    match,\r\n    //store\r\n    user,\r\n    // actions\r\n    getProfile,\r\n}) => {\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (!user || user._id.toString() !== match.params.id) {\r\n            setLoading(true);\r\n            getProfile(match.params.id, () => { setLoading(false) });\r\n        }\r\n    }, [getProfile, user, match.params.id]);\r\n\r\n    let content = <p>User not found</p>;\r\n    if (loading) content = <Spinner style={{ marginTop: \"5rem\" }} />;\r\n    if (!loading && user) {\r\n        content =\r\n            <Fragment>\r\n                <User user={user} />\r\n                <div className={styles.hr}></div>\r\n                <Products />\r\n            </Fragment>\r\n    };\r\n\r\n    return (\r\n        <Fragment>\r\n            <TopBar goBack={() => history.goBack()} />\r\n            <div className={styles.Profile}>\r\n                {content}\r\n            </div>\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nProfile.propTypes = {\r\n    getProfile: PropTypes.func.isRequired,\r\n    user: PropTypes.object,\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    user: state.profile.user,\r\n});\r\n\r\nexport default connect(mapStateToProps, { getProfile })(Profile);\r\n","import moment from 'moment';\r\n\r\nmoment.updateLocale('en', {\r\n    relativeTime: {\r\n        future: \"in %s\",\r\n        past: \"%s \",\r\n        s: \"%ds\",\r\n        m: \"%dm\",\r\n        mm: \"%dm\",\r\n        h: \"%dh\",\r\n        hh: \"%dh\",\r\n        d: \"%dd\",\r\n        dd: \"%dd\",\r\n        M: \"%dmth\",\r\n        MM: \"%dmths\",\r\n        y: \"%dy\",\r\n        yy: \"%d y\"\r\n    }\r\n});\r\n\r\nconst ago = (date) => {\r\n    return moment(date).fromNow();\r\n};\r\n\r\nexport default ago;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport parse from 'html-react-parser';\r\nimport imageConverter from '../../../utils/imageConverter';\r\nimport ago from '../../../utils/ago';\r\n\r\nimport classes from './Notification.module.scss';\r\n\r\nconst Notification = ({\r\n    notification: {\r\n        trigger,\r\n        innerHTML,\r\n        product,\r\n        createdAt\r\n    }\r\n}) => {\r\n    let avatarSrc = trigger.avatar\r\n        ? imageConverter(trigger.avatar.data)\r\n        : imageConverter(null);\r\n    return (\r\n        <Link className={classes.Link} to={`/products/${product}`}>\r\n            <div className={classes.Notification}>\r\n                <img className={classes.Image} src={avatarSrc} alt=\"profile_picture\" />\r\n                <div className={classes.rightContainer}>\r\n                    <p className={classes.Text}>{parse(innerHTML)}</p>\r\n                    <p className={classes.Time}>{`${ago(createdAt)} ago`}</p>\r\n                </div>\r\n            </div>\r\n        </Link>\r\n    );\r\n};\r\n\r\nexport default Notification;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport { getNotifications, refreshNotifications } from '../../store/actions/notification';\r\n\r\nimport styles from './Notification.module.scss';\r\nimport Notification from './Notification/Notification';\r\nimport Scroller from '../UI/Scroller/Scroller';\r\nimport Center from '../UI/Center/Center';\r\n\r\nconst Inbox\r\n    = ({\r\n        auth,\r\n        notification: {\r\n            notifications,\r\n            hasMore,\r\n            loading\r\n        },\r\n        getNotifications,\r\n        refreshNotifications\r\n    }) => {\r\n\r\n        let items;\r\n        items = notifications.map((notification) => {\r\n            return (\r\n                <Notification\r\n                    key={notification._id}\r\n                    notification={notification}\r\n                />\r\n            );\r\n        })\r\n\r\n        const noMsg = <Center>No notification yet</Center>;\r\n\r\n        let loadMore = () => null,\r\n            refresh = () => null;\r\n        if (auth.isAuthenticated && !loading) {\r\n            loadMore = () => getNotifications(notifications.length);\r\n            refresh = () => refreshNotifications();\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                <Scroller\r\n                    onRefreshFunc={refresh}\r\n                    loadMoreFunc={loadMore}\r\n                    hasMore={hasMore}\r\n                >\r\n                    <ul className={styles.notifications}>\r\n                        {!hasMore && items.length === 0 ? noMsg : items}\r\n                    </ul>\r\n                </Scroller>\r\n            </div>\r\n        );\r\n    };\r\n\r\nInbox.propTypes = {\r\n    notification: PropTypes.object.isRequired,\r\n    auth: PropTypes.object.isRequired,\r\n    getNotifications: PropTypes.func.isRequired,\r\n    refreshNotifications: PropTypes.func.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    notification: state.notification,\r\n    auth: state.auth,\r\n});\r\n\r\nexport default connect(mapStateToProps, { getNotifications, refreshNotifications })(Inbox\r\n);","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport imageConverter from '../../../utils/imageConverter';\r\nimport textAbstract from '../../../utils/textAbstract';\r\nimport ago from '../../../utils/ago';\r\n\r\nimport classes from './Message.module.scss';\r\n\r\nconst message = ({\r\n    messageId,\r\n    name,\r\n    createdAt,\r\n    text,\r\n    checkRecieved,\r\n    partialPath,\r\n    avatar,\r\n    seen = true\r\n}) => {\r\n    let avatarSrc = avatar\r\n        ? imageConverter(avatar.data)\r\n        : imageConverter(null);\r\n    return (\r\n        <Link className={classes.Link} to={`/inbox/${partialPath}/${messageId}`}>\r\n            <div className={classes.Message}>\r\n                <img className={classes.Image} src={avatarSrc} alt=\"profile_picture\" />\r\n                <p className={classes.Name}>\r\n                    <span style={{ fontWeight: \"normal\" }}>\r\n                        {checkRecieved\r\n                            ? \"From \"\r\n                            : \"To \"\r\n                        }\r\n                    </span>\r\n                    {name}\r\n                </p>\r\n                <p className={classes.Time}>{`${ago(createdAt)} ago`}</p>\r\n                <p className={classes.Text}>{textAbstract(text, 40)}</p>\r\n                {!seen && <span className={classes.unseen}></span>}\r\n            </div>\r\n        </Link>\r\n    );\r\n};\r\n\r\nexport default message;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport { clearRecievedMessages, clearSentMessages, getRecieved, getSent } from '../../store/actions/message';\r\nimport Switcher from '../UI/Switcher/Switcher';\r\n\r\nimport styles from './Inbox.module.scss';\r\nimport Message from './Message/Message';\r\nimport Scroller from '../UI/Scroller/Scroller';\r\nimport Center from '../UI/Center/Center';\r\n\r\nconst Inbox\r\n    = ({\r\n        history,\r\n        match,\r\n        auth,\r\n        message: {\r\n            recieved,\r\n            sent,\r\n        },\r\n        clearRecievedMessages,\r\n        clearSentMessages,\r\n        getRecieved,\r\n        getSent,\r\n    }) => {\r\n        const checkRecieved = match.params.status === \"recieved\" ? true : false;\r\n\r\n        const buttons = [\r\n            {\r\n                text: \"Recieved\",\r\n                active: checkRecieved,\r\n                onClickHandler: () => !checkRecieved && history.push('/inbox/recieved')\r\n            },\r\n            {\r\n                text: \"Sent\",\r\n                active: !checkRecieved,\r\n                onClickHandler: () => checkRecieved && history.push('/inbox/sent')\r\n            }\r\n        ];\r\n\r\n        let items;\r\n        if (checkRecieved) {\r\n            items = recieved.messages.map((msg) => {\r\n                return (\r\n                    <Message\r\n                        key={msg._id}\r\n                        name={msg.senderName}\r\n                        messageId={msg._id}\r\n                        text={msg.text}\r\n                        createdAt={msg.createdAt}\r\n                        avatar={msg.sender.avatar}\r\n                        partialPath='recieved'\r\n                        checkRecieved={checkRecieved}\r\n                        seen={msg.seen}\r\n                    />\r\n                );\r\n            })\r\n        } else {\r\n            items = sent.messages.map((msg) => {\r\n                return (\r\n                    <Message\r\n                        key={msg._id}\r\n                        name={msg.recipientName}\r\n                        messageId={msg._id}\r\n                        text={msg.text}\r\n                        avatar={msg.recipient.avatar}\r\n                        createdAt={msg.createdAt}\r\n                        partialPath='sent'\r\n                        checkRecieved={checkRecieved}\r\n                    />\r\n                );\r\n            })\r\n        }\r\n\r\n        const noMsg = <Center>No recieved message yet</Center>;\r\n\r\n        let getMessages = () => null,\r\n            refreshMessages = () => null;\r\n        if (auth.isAuthenticated && checkRecieved && !recieved.loading) {\r\n            getMessages = () => getRecieved(recieved.messages.length);\r\n            refreshMessages = () => clearRecievedMessages();\r\n        }\r\n        if (auth.isAuthenticated && !checkRecieved && !sent.loading) {\r\n            getMessages = () => getSent(sent.messages.length);\r\n            refreshMessages = () => clearSentMessages();\r\n        }\r\n\r\n        const hasMore = checkRecieved ? recieved.hasMore : sent.hasMore;\r\n\r\n        return (\r\n            <div>\r\n                <Switcher\r\n                    items={buttons}\r\n                />\r\n                <div className={styles.messages}>\r\n                    <Scroller\r\n                        onRefreshFunc={refreshMessages}\r\n                        loadMoreFunc={getMessages}\r\n                        hasMore={hasMore}\r\n                    >\r\n                        <ul>\r\n                            {!hasMore && items.length === 0 ? noMsg : items}\r\n                        </ul>\r\n                    </Scroller>\r\n                </div>\r\n            </div>\r\n        );\r\n    };\r\n\r\nInbox.propTypes = {\r\n    message: PropTypes.object.isRequired,\r\n    auth: PropTypes.object.isRequired,\r\n    clearRecievedMessages: PropTypes.func.isRequired,\r\n    clearSentMessages: PropTypes.func.isRequired,\r\n    getRecieved: PropTypes.func.isRequired,\r\n    getSent: PropTypes.func.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    message: state.message,\r\n    auth: state.auth,\r\n});\r\n\r\nexport default connect(mapStateToProps, { clearRecievedMessages, clearSentMessages, getRecieved, getSent })(Inbox\r\n);","import React from 'react';\r\n\r\nimport UITopBar from '../../UI/TopBar/TopBar';\r\nimport UserInfo from '../../UI/UserInfo/UserInfo';\r\n\r\nconst TopBar = ({\r\n    counterParty\r\n}) => {\r\n    return (\r\n        <UITopBar>\r\n            {counterParty &&\r\n                <UserInfo\r\n                    name={counterParty.name}\r\n                    avatar={counterParty.avatar}\r\n                    userId={counterParty._id}\r\n                    font-size=\"1.5rem\"\r\n                />\r\n            }\r\n        </UITopBar>\r\n    )\r\n}\r\n\r\nexport default TopBar;\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nimport styles from './Message.module.scss';\r\nimport TextToJSX from '../../UI/TextToJSX/TextToJSX';\r\n\r\nconst Message = ({ message, counterParty, amIRecipient }) => {\r\n\r\n    const toOrFrom = amIRecipient\r\n        ? \"from\"\r\n        : \"to\";\r\n\r\n\r\n    return (\r\n        <div className={styles.Message}>\r\n            <div className={styles.Message}>\r\n                <div>Message {toOrFrom} {counterParty.name}</div>\r\n                <div className={styles.textsContainer} >\r\n                    <TextToJSX>{message.text}</TextToJSX>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nMessage.propTypes = {\r\n    amIRecipient: PropTypes.bool.isRequired,\r\n    message: PropTypes.object.isRequired,\r\n    counterParty: PropTypes.object.isRequired,\r\n}\r\n\r\nexport default Message\r\n","import React, { useState } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Input from '../../UI/Input/Input';\r\nimport Button from '../../UI/Button/Button';\r\n\r\n\r\nconst ReplyForm = (props) => {\r\n    const [message, setMessage] = useState('');\r\n\r\n    const onSubmitHandler = (e) => {\r\n        e.preventDefault();\r\n        props.onSubmitHandler(message);\r\n    };\r\n\r\n    return (\r\n        <form onSubmit={(e) => onSubmitHandler(e)}>\r\n            <Input\r\n                type=\"textarea\"\r\n                placeholder=\"Reply message here...\"\r\n                value={message}\r\n                onChange={(e) => setMessage(e.target.value)}\r\n                required={true}\r\n            />\r\n            <Button\r\n                btnType=\"color-primary\"\r\n                loading={props.loading}\r\n            >Reply\r\n            </Button>\r\n        </form>\r\n    )\r\n}\r\n\r\nReplyForm.propTypes = {\r\n    onSubmitHandler: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default ReplyForm;\r\n","import React, { useEffect, Fragment, useState } from 'react'\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport { getMessage, sendMessage } from '../../store/actions/message'\r\n\r\nimport styles from './MessageBox.module.scss';\r\nimport Spinner from '../UI/Spinner/Spinner';\r\nimport TopBar from './TopBar/TopBar';\r\nimport Message from './Message/Message';\r\nimport ReplyForm from './ReplyForm/ReplyForm';\r\n\r\nconst MessageBox = ({\r\n    match,\r\n    history,\r\n    message,\r\n    getMessage,\r\n    sendMessage\r\n}) => {\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    useEffect(() => {\r\n        setLoading(true);\r\n        getMessage(match.params.id, () => setLoading(false));\r\n    }, [getMessage, match.params.id]);\r\n\r\n    const onSubmitHandler = (text) => {\r\n        sendMessage(message.sender._id, text);\r\n        history.goBack();\r\n    };\r\n\r\n    const amIRecipient = match.path === \"/inbox/recieved/:id\"\r\n        ? true\r\n        : false;\r\n\r\n    let counterParty = {};\r\n    if (message) {\r\n        if (amIRecipient) {\r\n            counterParty = message.sender;\r\n            counterParty.name = message.senderName;\r\n        } else {\r\n            if (message.recipient.avatar) { // avoiding cases that recipient has not populated yet\r\n                counterParty = message.recipient;\r\n            }\r\n            counterParty.name = message.senderName;\r\n        }\r\n    }\r\n\r\n    let content = <p>Not found</p>;\r\n    if (!message && loading.getMessage) {\r\n        content = <Spinner style={{ marginTop: \"8rem\" }} />\r\n    }\r\n    if (message) {\r\n        content = (\r\n            <Fragment>\r\n                <Message message={message} counterParty={counterParty} amIRecipient={amIRecipient} />\r\n                {amIRecipient &&\r\n                    <ReplyForm\r\n                        onSubmitHandler={onSubmitHandler}\r\n                        loading={loading.sendMessage}\r\n                    />\r\n                }\r\n            </Fragment>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <TopBar\r\n                counterParty={counterParty}\r\n            />\r\n            <div className={styles.MessageBoxMain}>\r\n                {content}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nMessageBox.propTypes = {\r\n    message: PropTypes.object,\r\n    getMessage: PropTypes.func.isRequired,\r\n    sendMessage: PropTypes.func.isRequired,\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    message: state.message.message,\r\n});\r\n\r\nexport default connect(mapStateToProps, { getMessage, sendMessage })(MessageBox);\r\n","import React, { useState, useEffect, Fragment } from 'react'\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types'\r\nimport { sendMessage } from '../../store/actions/message';\r\nimport { getProfile } from '../../store/actions/profile';\r\n\r\nimport styles from './MessageForm.module.scss';\r\nimport Input from '../UI/Input/Input';\r\nimport UserInfo from '../UI/UserInfo/UserInfo';\r\nimport UITopBar from '../UI/TopBar/TopBar';\r\nimport Button from '../UI/Button/Button';\r\n\r\nconst MessageForm = ({ profile, match, history, sendMessage, getProfile }) => {\r\n    const [message, setMessage] = useState('');\r\n\r\n    useEffect(() => {\r\n        if (!profile.user || profile.user._id.toString() !== match.params.id) {\r\n            getProfile(match.params.id);\r\n        };\r\n    }, [profile.user, match.params.id, getProfile]);\r\n\r\n    const onSubmitHandler = (e) => {\r\n        e.preventDefault();\r\n        sendMessage(match.params.id, message);\r\n        history.goBack();\r\n    };\r\n\r\n    return (\r\n        <Fragment>\r\n            <UITopBar>\r\n                {(profile.user && profile.user._id.toString() === match.params.id) &&\r\n                    <UserInfo\r\n                        name={profile.user.name}\r\n                        avatar={profile.user.avatar}\r\n                        userId={profile.user._id}\r\n                        font-size=\"1.5rem\"\r\n                    />\r\n                }\r\n            </UITopBar>\r\n            <form onSubmit={onSubmitHandler} className={styles.MessageForm}>\r\n                <Input\r\n                    type=\"textarea\"\r\n                    placeholder=\"Message here...\"\r\n                    value={message}\r\n                    onChange={(e) => setMessage(e.target.value)}\r\n                    required={true}\r\n                />\r\n                <Button btnType=\"color-primary\">Send</Button>\r\n            </form>\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nMessageForm.propTypes = {\r\n    sendMessage: PropTypes.func.isRequired,\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    profile: state.profile\r\n});\r\n\r\nexport default connect(mapStateToProps, { sendMessage, getProfile })(MessageForm);","import React, { useState, Fragment } from 'react'\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport { updateAvatar } from '../../store/actions/auth'\r\nimport styles from './UpdateAvatar.module.scss';\r\n\r\nimport TopBar from '../UI/TopBar/TopBar';\r\nimport Button from '../UI/Button/Button';\r\n\r\n\r\nconst Avatar = ({ updateAvatar, history }) => {\r\n    const [avatarFile, setAvatarFile] = useState(\"\");\r\n\r\n    const onSubmit = (e) => {\r\n        e.preventDefault();\r\n        updateAvatar(avatarFile);\r\n        history.push('/mypage');\r\n    };\r\n\r\n    return (\r\n        <Fragment>\r\n            <TopBar />\r\n            <form onSubmit={e => onSubmit(e)} className={styles.form}>\r\n                <label>Profile Image</label>\r\n                <input\r\n                    type=\"file\"\r\n                    onChange={e => setAvatarFile(() => e.target.files[0])}\r\n                    required\r\n                />\r\n                <Button btnType=\"color-primary size-lg\">\r\n                    Update\r\n                </Button>\r\n            </form>\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nAvatar.propTypes = {\r\n    updateAvatar: PropTypes.func.isRequired,\r\n    auth: PropTypes.object.isRequired,\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    auth: state.auth\r\n});\r\n\r\nexport default connect(mapStateToProps, { updateAvatar })(Avatar);\r\n","import React, { Fragment, useEffect, useState } from 'react'\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport { updateProfile } from '../../store/actions/auth';\r\nimport styles from './UpdateProfile.module.scss';\r\n\r\nimport TopBar from '../UI/TopBar/TopBar';\r\nimport Input from '../UI/Input/Input';\r\nimport Button from '../UI/Button/Button';\r\nimport Spinner from '../UI/Spinner/Spinner';\r\n\r\n\r\n\r\nconst UpdateProfile = ({ auth, updateProfile, history }) => {\r\n    const [formData, setFormData] = useState({\r\n        name: \"\",\r\n        facebook: \"\",\r\n    });\r\n\r\n    useEffect(() => {\r\n        setFormData(() => ({\r\n            name: auth.user ? auth.user.name : \"\",\r\n            facebook: auth.user && auth.user.facebook ? auth.user.facebook : \"\",\r\n        }));\r\n    }, [auth.user, setFormData]);\r\n\r\n    if (!auth.isAuthenticated) return <Spinner style={{ margin: \"2rem\" }} />;\r\n\r\n    const onChange = (e) => {\r\n        e.preventDefault();\r\n        e.persist()\r\n        setFormData(() => ({\r\n            ...formData,\r\n            [e.target.name]: e.target.value\r\n        }));\r\n    };\r\n\r\n    const onSubmit = (e) => {\r\n        e.preventDefault();\r\n        updateProfile(formData);\r\n        history.push('/mypage');\r\n    };\r\n\r\n\r\n    return (\r\n        <Fragment>\r\n            <TopBar />\r\n            <form onSubmit={e => onSubmit(e)} className={styles.form}>\r\n                <label>Username</label>\r\n                <Input\r\n                    type=\"name\"\r\n                    placeholder=\"Your name\"\r\n                    name=\"name\"\r\n                    value={formData.name}\r\n                    onChange={e => onChange(e)}\r\n                    required\r\n                />\r\n                <label>Facebook URL (Optional)</label>\r\n                <Input\r\n                    type=\"Facebook\"\r\n                    placeholder=\"Facebook URL (optional)\"\r\n                    name=\"facebook\"\r\n                    value={formData.facebook}\r\n                    onChange={e => onChange(e)}\r\n                />\r\n                <Button btnType=\"color-primary size-lg\">\r\n                    Update\r\n                </Button>\r\n            </form>\r\n        </Fragment >\r\n    )\r\n}\r\n\r\nUpdateProfile.propTypes = {\r\n    auth: PropTypes.object.isRequired,\r\n    updateProfile: PropTypes.func.isRequired,\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    auth: state.auth,\r\n});\r\n\r\nexport default connect(mapStateToProps, { updateProfile })(UpdateProfile);\r\n","import React, { Fragment, useEffect, useState } from 'react'\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport { updateEmail } from '../../store/actions/auth';\r\nimport styles from './UpdateEmail.module.scss';\r\n\r\nimport TopBar from '../UI/TopBar/TopBar';\r\nimport Input from '../UI/Input/Input';\r\nimport Button from '../UI/Button/Button';\r\nimport Spinner from '../UI/Spinner/Spinner';\r\n\r\n\r\n\r\nconst UpdateProfile = ({ auth, updateEmail, history }) => {\r\n    const [formData, setFormData] = useState({\r\n        email: \"\",\r\n        password: \"\",\r\n    });\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    useEffect(() => {\r\n        setFormData((prevState) => ({\r\n            ...prevState,\r\n            email: auth.user ? auth.user.email : \"\",\r\n        }));\r\n    }, [auth.user, setFormData]);\r\n\r\n    if (!auth.isAuthenticated) return <Spinner style={{ margin: \"2rem\" }} />;\r\n\r\n    const onChange = (e) => {\r\n        e.preventDefault();\r\n        e.persist()\r\n        setFormData(() => ({\r\n            ...formData,\r\n            [e.target.name]: e.target.value\r\n        }));\r\n    };\r\n\r\n    const onSubmit = (e) => {\r\n        e.preventDefault();\r\n        if (loading) return null;\r\n        setLoading(true);\r\n        updateEmail(formData, () => history.push('/mypage'), () => setLoading(false));\r\n    };\r\n\r\n    return (\r\n        <Fragment>\r\n            <TopBar />\r\n            <form onSubmit={e => onSubmit(e)} className={styles.form}>\r\n                <label>Email</label>\r\n                <Input\r\n                    type=\"email\"\r\n                    placeholder=\"Your email\"\r\n                    name=\"email\"\r\n                    value={formData.email}\r\n                    onChange={e => onChange(e)}\r\n                    required\r\n                />\r\n                <label>Current Password</label>\r\n                <Input\r\n                    type=\"password\"\r\n                    placeholder=\"Current Password\"\r\n                    name=\"password\"\r\n                    value={formData.password}\r\n                    onChange={e => onChange(e)}\r\n                    required\r\n                />\r\n                <Button btnType=\"color-primary size-lg\" loading={loading}>\r\n                    Update\r\n                </Button>\r\n            </form>\r\n        </Fragment >\r\n    )\r\n}\r\n\r\nUpdateProfile.propTypes = {\r\n    auth: PropTypes.object.isRequired,\r\n    updateEmail: PropTypes.func.isRequired,\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    auth: state.auth,\r\n});\r\n\r\nexport default connect(mapStateToProps, { updateEmail })(UpdateProfile);\r\n","import React, { Fragment, useState } from 'react'\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './UpdatePassword.module.scss';\r\nimport axios from '../../axios';\r\nimport { setAlert } from '../../store/actions/alert';\r\n\r\nimport TopBar from '../UI/TopBar/TopBar';\r\nimport Input from '../UI/Input/Input';\r\nimport Button from '../UI/Button/Button';\r\nimport Spinner from '../UI/Spinner/Spinner';\r\n\r\n\r\n\r\nconst UpdateProfile = ({ auth, setAlert, history }) => {\r\n    const [formData, setFormData] = useState({\r\n        curPassword: \"\",\r\n        newPassword: \"\",\r\n        confirmPassword: \"\",\r\n    });\r\n    const { curPassword, newPassword, confirmPassword } = formData;\r\n\r\n    if (!auth.isAuthenticated) return <Spinner style={{ margin: \"2rem\" }} />;\r\n\r\n    const onChange = (e) => {\r\n        e.preventDefault();\r\n        e.persist()\r\n        setFormData(() => ({\r\n            ...formData,\r\n            [e.target.name]: e.target.value\r\n        }));\r\n    };\r\n\r\n    const onSubmit = async (e) => {\r\n        e.preventDefault();\r\n        if (newPassword !== confirmPassword) {\r\n            return setAlert('New Password does not match Comfirm Password');\r\n        };\r\n        try {\r\n            await axios.put('/api/user/password', { curPassword, newPassword });\r\n            setAlert(\"Password Updated\", \"success\");\r\n            history.push('/mypage');\r\n        } catch (err) {\r\n            setAlert(err.response.data.message, \"danger\");\r\n        }\r\n\r\n\r\n\r\n    };\r\n\r\n\r\n    return (\r\n        <Fragment>\r\n            <TopBar />\r\n            <form onSubmit={e => onSubmit(e)} className={styles.form}>\r\n\r\n                <label>Current Password</label>\r\n                <Input\r\n                    type=\"password\"\r\n                    placeholder=\"Current Password\"\r\n                    name=\"curPassword\"\r\n                    value={curPassword}\r\n                    onChange={e => onChange(e)}\r\n                    required\r\n                />\r\n                <label>New Password</label>\r\n                <Input\r\n                    type=\"password\"\r\n                    placeholder=\"New Password\"\r\n                    name=\"newPassword\"\r\n                    value={newPassword}\r\n                    onChange={e => onChange(e)}\r\n                    required\r\n                />\r\n                <label>Confirm New Password</label>\r\n                <Input\r\n                    type=\"password\"\r\n                    placeholder=\"Confirm new password\"\r\n                    name=\"confirmPassword\"\r\n                    value={confirmPassword}\r\n                    onChange={e => onChange(e)}\r\n                    required\r\n                />\r\n                <Button btnType=\"color-primary size-lg\">\r\n                    Update\r\n                </Button>\r\n            </form>\r\n        </Fragment >\r\n    )\r\n}\r\n\r\nUpdateProfile.propTypes = {\r\n    auth: PropTypes.object.isRequired,\r\n    setAlert: PropTypes.func.isRequired,\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    auth: state.auth,\r\n});\r\n\r\nexport default connect(mapStateToProps, { setAlert })(UpdateProfile);\r\n","import React, { Component } from 'react';\nimport { BrowserRouter, Route, Switch, Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport PrivateRoute from './hoc/PrivateRoute';\n\n// Actions\nimport { loadUser } from './store/actions/auth';\n\n// Import Components\nimport Layout from './hoc/Layout/Layout';\nimport MyPage from './components/MyPage/MyPage';\nimport MyList from './components/MyList/MyList';\nimport Auth from './components/Auth/Auth';\nimport Products from './components/Products/Products';\nimport SingleProduct from './components/SingleProduct/SingleProduct';\nimport EditPage from './components/EditPage/EditPage';\nimport Profile from './components/Profile/Profile';\nimport NotificationPage from './components/NotificationPage/NotificationPage';\nimport Inbox from './components/Inbox/Inbox';\nimport MessageBox from './components/MessageBox/MessageBox';\nimport MessageForm from './components/MessageForm/MessageForm';\nimport UpdateAvatar from './components/UpdateAvatar/UpdateAvatar';\nimport UpdateProfile from './components/UpdateProfile/UpdateProfile';\nimport UpdateEmail from './components/UpdateEmail/UpdateEmail';\nimport UpdatePassword from './components/UpdatePassword/UpdatePassword';\n\nclass App extends Component {\n  componentDidMount() {\n    this.props.loadUser();\n  }\n\n  render() {\n    const NotFoundPage = () => (\n      <p>404</p>\n    );\n\n    return (\n      <BrowserRouter>\n        <Layout>\n          <Switch>\n            <Route path=\"/products/:id\" component={SingleProduct} />\n            <Route path=\"/products\" exact component={Products} />\n            <Redirect from=\"/mylist\" exact to=\"/mylist/liked\" />\n            <PrivateRoute path=\"/mylist/:status\" component={MyList} />\n            <PrivateRoute path=\"/sell\" exact component={EditPage} />\n            <PrivateRoute path=\"/edit/:id\" exact component={EditPage} />\n            <PrivateRoute path=\"/mypage\" exact component={MyPage} />\n            <PrivateRoute path=\"/mypage/update/avatar\" exact component={UpdateAvatar} />\n            <PrivateRoute path=\"/mypage/update/profile\" exact component={UpdateProfile} />\n            <PrivateRoute path=\"/mypage/update/email\" exact component={UpdateEmail} />\n            <PrivateRoute path=\"/mypage/update/password\" exact component={UpdatePassword} />\n            <PrivateRoute path=\"/notification\" exact component={NotificationPage} />\n            <Redirect from=\"/inbox\" exact to=\"/inbox/recieved\" />\n            <PrivateRoute path=\"/inbox/recieved/:id\" component={MessageBox} />\n            <PrivateRoute path=\"/inbox/sent/:id\" component={MessageBox} />\n            <PrivateRoute path=\"/inbox/:status\" component={Inbox} />\n            <PrivateRoute path=\"/messages/:id\" component={MessageForm} />\n            <Route path=\"/profile/:id\" component={Profile} />\n            <Route path=\"/auth\" component={Auth} />\n            <Redirect from=\"/\" exact to=\"/products\" />\n            <Route component={NotFoundPage} />\n          </Switch>\n        </Layout>\n      </BrowserRouter>\n    );\n  };\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    auth: state.auth\n  };\n};\n\nApp.propTypes = {\n  auth: PropTypes.object,\n};\n\nexport default connect(mapStateToProps, { loadUser })(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import {\r\n    LOAD_USER_START,\r\n    LOAD_USER_SUCCESS,\r\n    LOAD_USER_FAIL,\r\n\r\n    REGISTER,\r\n    LOGIN,\r\n    LOGOUT,\r\n\r\n    UPDATE_AVATAR,\r\n    UPDATE_PROFILE,\r\n    UPDATE_EMAIL\r\n} from '../actions/actionType';\r\nimport axios from '../../axios';\r\n\r\n// ==========\r\n// Reducers\r\n// ==========\r\nconst authReducerDefaultState = {\r\n    token: localStorage.token,\r\n    isAuthenticated: false,\r\n    loading: true,\r\n    user: null\r\n};\r\n\r\nconst authReducer = (state = authReducerDefaultState, { type, payload }) => {\r\n    switch (type) {\r\n        case LOAD_USER_START:\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            };\r\n        case LOAD_USER_SUCCESS:\r\n            return {\r\n                ...state,\r\n                isAuthenticated: true,\r\n                loading: false,\r\n                user: { ...payload }\r\n            };\r\n        case REGISTER:\r\n        case LOGIN:\r\n            localStorage.setItem('token', payload.token);\r\n            return {\r\n                ...state,\r\n                ...payload,\r\n                isAuthenticated: true,\r\n            };\r\n        case UPDATE_AVATAR:\r\n            return {\r\n                ...state,\r\n                user: {\r\n                    ...state.user,\r\n                    avatar: payload.avatar\r\n                }\r\n            };\r\n        case UPDATE_PROFILE:\r\n            return {\r\n                ...state,\r\n                user: payload\r\n            };\r\n        case UPDATE_EMAIL:\r\n            return {\r\n                ...state,\r\n                user: {\r\n                    ...state.user,\r\n                    email: payload\r\n                }\r\n            }\r\n        case LOAD_USER_FAIL:\r\n        case LOGOUT:\r\n            localStorage.removeItem('token');\r\n            axios.setAuthToken(null);\r\n            return {\r\n                token: null,\r\n                isAuthenticated: false,\r\n                loading: false,\r\n                user: null\r\n            }\r\n        default:\r\n            return state;\r\n    };\r\n};\r\n\r\nexport default authReducer;","import { SET_ALERT, REMOVE_ALERT } from '../actions/actionType';\r\n\r\n// Initial state\r\nconst alertReducerDefaultState = [];\r\n\r\n// Example of the state\r\n// [{ id, alertType, msg }, ...]\r\n\r\nconst authReducer = (state = alertReducerDefaultState, action) => {\r\n    const { type, payload } = action;\r\n\r\n    switch (type) {\r\n        case SET_ALERT:\r\n            return [...state, payload];\r\n        case REMOVE_ALERT:\r\n            return state.filter(alert => alert.id !== payload);\r\n        default:\r\n            return state;\r\n    };\r\n};\r\n\r\nexport default authReducer;","import {\r\n    GET_PRODUCTS_START,\r\n    GET_PRODUCTS_SUCCESS,\r\n    GET_PRODUCTS_FAIL,\r\n    REFRESH_PRODUCTS,\r\n\r\n    GET_PRODUCT_START,\r\n    GET_PRODUCT_SUCCESS,\r\n    GET_PRODUCT_FAIL,\r\n\r\n    DELETE_PRODUCT,\r\n\r\n    ADD_COMMENT,\r\n    SET_LIKE,\r\n    SET_UNLIKE,\r\n    PURCHASE_PRODUCT,\r\n    CANCEL_PRODUCT,\r\n    REJECT_PRODUCT,\r\n} from '../actions/actionType.js';\r\n\r\nconst initialState = {\r\n    products: [],\r\n    hasMore: true,\r\n    product: null,\r\n    loading: {\r\n        getProduct: false,\r\n        getProducts: false,\r\n    },\r\n    mylist: {\r\n        liked: {\r\n            hasMore: true,\r\n            products: []\r\n        },\r\n        purchased: {\r\n            hasMore: true,\r\n            products: []\r\n        },\r\n        sellings: {\r\n            hasMore: true,\r\n            products: []\r\n        }\r\n    },\r\n};\r\n\r\nexport default (state = initialState, action) => {\r\n    const { type, payload } = action;\r\n\r\n    switch (type) {\r\n        // ====================\r\n        // Start\r\n        // ====================\r\n        case GET_PRODUCTS_START:\r\n            return {\r\n                ...state,\r\n                loading: {\r\n                    ...state.loading,\r\n                    getProducts: true\r\n                }\r\n            };\r\n        case REFRESH_PRODUCTS:\r\n            return {\r\n                ...state,\r\n                hasMore: true,\r\n                products: [],\r\n            };\r\n        case GET_PRODUCT_START:\r\n            // concat state.products,\r\n            let existingProduct = state.products.find((product) => product._id.toString() === payload);\r\n            let shouldBeLoading = false;\r\n            if (!existingProduct) {\r\n                existingProduct = null;\r\n                shouldBeLoading = true;\r\n            }\r\n            return {\r\n                ...state,\r\n                loading: {\r\n                    ...state.loading,\r\n                    getProduct: shouldBeLoading\r\n                },\r\n                product: existingProduct\r\n            };\r\n        // ====================\r\n        // SUCCESS\r\n        // ====================\r\n        case GET_PRODUCTS_SUCCESS:\r\n            return {\r\n                ...state,\r\n                loading: {\r\n                    ...state.loading,\r\n                    getProducts: false\r\n                },\r\n                hasMore: payload.hasMore,\r\n                products: [...state.products, ...payload.products]\r\n            };\r\n        case GET_PRODUCT_SUCCESS:\r\n            return {\r\n                ...state,\r\n                product: payload,\r\n                loading: {\r\n                    ...state.loading,\r\n                    getProduct: false\r\n                },\r\n            };\r\n        case ADD_COMMENT:\r\n            return {\r\n                ...state,\r\n                product: {\r\n                    ...state.product,\r\n                    comments: payload\r\n                }\r\n            };\r\n        case SET_LIKE:\r\n        case SET_UNLIKE:\r\n            return {\r\n                ...state,\r\n                product: {\r\n                    ...state.product,\r\n                    likes: payload\r\n                }\r\n            };\r\n        case PURCHASE_PRODUCT:\r\n        case CANCEL_PRODUCT:\r\n        case REJECT_PRODUCT:\r\n            return {\r\n                ...state,\r\n                product: {\r\n                    ...state.product,\r\n                    ...payload\r\n                }\r\n            };\r\n        case DELETE_PRODUCT:\r\n            let product = state.product;\r\n            if (state.product._id.toString() === payload) {\r\n                product = null\r\n            }\r\n            return {\r\n                ...state,\r\n                product\r\n            }\r\n\r\n        // ====================\r\n        // FAIL\r\n        // ====================\r\n        case GET_PRODUCTS_FAIL:\r\n            return {\r\n                ...state,\r\n                loading: {\r\n                    ...state.loading,\r\n                    getProducts: false\r\n                },\r\n            };\r\n        case GET_PRODUCT_FAIL:\r\n            return {\r\n                ...state,\r\n                loading: {\r\n                    ...state.loading,\r\n                    getProduct: false\r\n                },\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};","import {\r\n    CLEAR_RECIEVED_MESSAGES,\r\n    CLEAR_SENT_MESSAGES,\r\n    GET_RECIEVED_START,\r\n    GET_RECIEVED_SUCCESS,\r\n    GET_RECIEVED_FAIL,\r\n    GET_SENT_START,\r\n    GET_SENT_SUCCESS,\r\n    GET_SENT_FAIL,\r\n    GET_MESSAGE_START,\r\n    GET_MESSAGE_SUCCESS,\r\n    GET_MESSAGE_FAIL,\r\n    CLEAR_MESSAGES,\r\n    COUNT_UNSEEN_MESSAGES\r\n} from '../actions/actionType';\r\n\r\nconst initialState = {\r\n    recieved: {\r\n        messages: [],\r\n        hasMore: true,\r\n        loading: false,\r\n    },\r\n    sent: {\r\n        messages: [],\r\n        hasMore: true,\r\n        loading: false\r\n    },\r\n    message: null,\r\n    count: null\r\n};\r\n\r\nexport default (state = initialState, action) => {\r\n    const { type, payload } = action;\r\n\r\n    switch (type) {\r\n        // ===================\r\n        // CLEAR messages\r\n        // ===================\r\n        case CLEAR_RECIEVED_MESSAGES:\r\n            return {\r\n                ...state,\r\n                recieved: {\r\n                    ...initialState.recieved\r\n                }\r\n            };\r\n        case CLEAR_SENT_MESSAGES:\r\n            return {\r\n                ...state,\r\n                sent: {\r\n                    ...initialState.sent\r\n                }\r\n            };\r\n        // ===================\r\n        // Get recieved messages\r\n        // ===================\r\n        case GET_RECIEVED_START:\r\n            return {\r\n                ...state,\r\n                recieved: {\r\n                    ...state.recieved,\r\n                    loading: true\r\n                }\r\n            };\r\n        case GET_RECIEVED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                recieved: {\r\n                    messages: [...state.recieved.messages, ...payload.messages],\r\n                    hasMore: payload.hasMore,\r\n                    loading: false\r\n                }\r\n            }\r\n        case GET_RECIEVED_FAIL:\r\n            return {\r\n                ...state,\r\n                recieved: {\r\n                    ...state.recieved,\r\n                    loading: false\r\n                }\r\n            };\r\n        // ===================\r\n        // Get sent messages\r\n        // ===================\r\n        case GET_SENT_START:\r\n            return {\r\n                ...state,\r\n                sent: {\r\n                    ...state.sent,\r\n                    loading: true\r\n                }\r\n            };\r\n        case GET_SENT_SUCCESS:\r\n            return {\r\n                ...state,\r\n                sent: {\r\n                    messages: [...state.sent.messages, ...payload.messages],\r\n                    hasMore: payload.hasMore,\r\n                    loading: false\r\n                }\r\n            }\r\n        case GET_SENT_FAIL:\r\n            return {\r\n                ...state,\r\n                sent: {\r\n                    ...state.sent,\r\n                    loading: false\r\n                }\r\n            };\r\n        // ===================\r\n        // Get a message\r\n        // ===================\r\n        case GET_MESSAGE_START:\r\n            // Find target message from store\r\n            let message = state.recieved.messages.find((msg) => msg._id.toString() === payload);\r\n            if (!message) message = state.sent.messages.find((msg) => msg._id.toString() === payload);\r\n            if (!message) message = null;\r\n\r\n            return {\r\n                ...state,\r\n                message\r\n            };\r\n        case GET_MESSAGE_SUCCESS:\r\n            // Change message status to seen and decrease the number of unseen count\r\n            let decrease = 0;\r\n            const newMessages = state.recieved.messages.map((message) => {\r\n                if (payload._id.toString() === message._id.toString() && message.seen === false) {\r\n                    message.seen = true;\r\n                    decrease++\r\n                }\r\n                return message;\r\n            });\r\n\r\n            return {\r\n                ...state,\r\n                message: payload,\r\n                recieved: {\r\n                    ...state.recieved,\r\n                    messages: newMessages\r\n                },\r\n                count: state.count - decrease\r\n            }\r\n        case GET_MESSAGE_FAIL:\r\n            return {\r\n                ...state,\r\n                message: null\r\n            };\r\n        // ===================\r\n        // Init\r\n        // ===================\r\n        case CLEAR_MESSAGES:\r\n            return {\r\n                ...initialState\r\n            }\r\n        // ===================\r\n        // Count unseen messages\r\n        // ===================\r\n        case COUNT_UNSEEN_MESSAGES:\r\n            return {\r\n                ...state,\r\n                count: payload\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n","import {\r\n    GET_PROFILE_START,\r\n    GET_PROFILE_SUCCESS,\r\n    GET_PROFILE_FAIL,\r\n    GET_PROFILE_PRODUCTS_START,\r\n    GET_PROFILE_PRODUCTS_SUCCESS,\r\n    GET_PROFILE_PRODUCTS_FAIL\r\n} from '../actions/actionType';\r\n\r\n\r\nconst profileReducerDefaultState = {\r\n    user: null,\r\n    products: {\r\n        products: [],\r\n        hasMore: true,\r\n        loading: false\r\n    },\r\n};\r\n\r\nconst profileReducer = (state = profileReducerDefaultState, { type, payload }) => {\r\n    switch (type) {\r\n        // ==================\r\n        // Get profile\r\n        // ==================\r\n        case GET_PROFILE_START:\r\n            return {\r\n                ...state,\r\n                products: {\r\n                    ...profileReducerDefaultState.products\r\n                }\r\n            };\r\n        case GET_PROFILE_SUCCESS:\r\n            return {\r\n                ...state,\r\n                user: payload,\r\n            };\r\n        case GET_PROFILE_FAIL:\r\n            return profileReducerDefaultState;\r\n        // ==================\r\n        // Get Products\r\n        // ==================\r\n        case GET_PROFILE_PRODUCTS_START:\r\n            return {\r\n                ...state,\r\n                products: {\r\n                    ...state.products,\r\n                    loading: true\r\n                }\r\n            };\r\n        case GET_PROFILE_PRODUCTS_SUCCESS:\r\n            return {\r\n                ...state,\r\n                products: {\r\n                    products: [...state.products.products, ...payload.products],\r\n                    hasMore: payload.hasMore,\r\n                    loading: false\r\n                }\r\n            };\r\n        case GET_PROFILE_PRODUCTS_FAIL:\r\n            return {\r\n                ...state,\r\n                products: {\r\n                    products: [],\r\n                    hasMore: false,\r\n                    loading: false\r\n                }\r\n            };\r\n        default:\r\n            return state;\r\n    };\r\n};\r\n\r\nexport default profileReducer;","import {\r\n    GET_LIKED_START,\r\n    GET_LIKED_SUCCESS,\r\n    GET_LIKED_FAIL,\r\n    GET_PURCHASED_START,\r\n    GET_PURCHASED_SUCCESS,\r\n    GET_PURCHASED_FAIL,\r\n    GET_SELLINGS_START,\r\n    GET_SELLINGS_SUCCESS,\r\n    GET_SELLINGS_FAIL,\r\n    CLEAR_LIKED,\r\n    CLEAR_PURCHASED,\r\n    CLEAR_SELLINGS,\r\n} from '../actions/actionType.js';\r\n\r\nconst initialState = {\r\n    liked: {\r\n        products: [],\r\n        hasMore: true,\r\n        loading: false\r\n    },\r\n    purchased: {\r\n        products: [],\r\n        hasMore: true,\r\n        loading: false,\r\n    },\r\n    sellings: {\r\n        products: [],\r\n        hasMore: true,\r\n        loading: false\r\n    }\r\n};\r\n\r\nexport default (state = initialState, action) => {\r\n    const { type, payload } = action;\r\n\r\n    switch (type) {\r\n        // ===============\r\n        // CLEAR to refresh\r\n        // ===============\r\n        case CLEAR_LIKED:\r\n            return {\r\n                ...state,\r\n                liked: { ...initialState.liked }\r\n            }\r\n        case CLEAR_PURCHASED:\r\n            return {\r\n                ...state,\r\n                purchased: { ...initialState.purchased }\r\n            }\r\n        case CLEAR_SELLINGS:\r\n            return {\r\n                ...state,\r\n                sellings: { ...initialState.sellings }\r\n            }\r\n\r\n        // ===============\r\n        // GET LIKED\r\n        // ===============\r\n        case GET_LIKED_START:\r\n            return {\r\n                ...state,\r\n                liked: {\r\n                    ...state.liked,\r\n                    loading: true\r\n                }\r\n            }\r\n        case GET_LIKED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                liked: {\r\n                    products: [...state.liked.products, ...payload.products],\r\n                    loading: false,\r\n                    hasMore: payload.hasMore\r\n                }\r\n            }\r\n        case GET_LIKED_FAIL:\r\n            return {\r\n                ...state,\r\n                liked: {\r\n                    ...state.liked,\r\n                    loading: false,\r\n                }\r\n            }\r\n        // ===============\r\n        // GET Purchased\r\n        // ===============\r\n        case GET_PURCHASED_START:\r\n            return {\r\n                ...state,\r\n                purchased: {\r\n                    ...state.purchased,\r\n                    loading: true\r\n                }\r\n            }\r\n        case GET_PURCHASED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                purchased: {\r\n                    products: [...state.purchased.products, ...payload.products],\r\n                    loading: false,\r\n                    hasMore: payload.hasMore\r\n                }\r\n            }\r\n        case GET_PURCHASED_FAIL:\r\n            return {\r\n                ...state,\r\n                purchased: {\r\n                    ...state.purchased,\r\n                    loading: false,\r\n                }\r\n            }\r\n        // ===============\r\n        // GET SELLINGS\r\n        // ===============\r\n        case GET_SELLINGS_START:\r\n            return {\r\n                ...state,\r\n                sellings: {\r\n                    ...state.sellings,\r\n                    loading: true\r\n                }\r\n            }\r\n        case GET_SELLINGS_SUCCESS:\r\n            return {\r\n                ...state,\r\n                sellings: {\r\n                    products: [...state.sellings.products, ...payload.products],\r\n                    loading: false,\r\n                    hasMore: payload.hasMore\r\n                }\r\n            }\r\n        case GET_SELLINGS_FAIL:\r\n            return {\r\n                ...state,\r\n                sellings: {\r\n                    ...state.sellings,\r\n                    loading: false,\r\n                }\r\n            }\r\n        default:\r\n            return state\r\n    };\r\n};","import {\r\n    CLEAR_NOTIFICATIONS,\r\n\r\n    GET_NOTIFICATIONS_START,\r\n    GET_NOTIFICATIONS_SUCCESS,\r\n    GET_NOTIFICATIONS_FAIL,\r\n\r\n    COUNT_UNSEEN_NOTIFICATIONS\r\n} from '../actions/actionType';\r\n\r\nconst initialState = {\r\n    notifications: [],\r\n    hasMore: true,\r\n    loading: false,\r\n    count: null\r\n};\r\n\r\nexport default (state = initialState, action) => {\r\n    const { type, payload } = action;\r\n\r\n    switch (type) {\r\n        // ===================\r\n        // Get notifications\r\n        // ===================\r\n        case GET_NOTIFICATIONS_START:\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            };\r\n        case GET_NOTIFICATIONS_SUCCESS:\r\n            return {\r\n                ...state,\r\n                notifications: [...state.notifications, ...payload.notifications],\r\n                hasMore: payload.hasMore,\r\n                loading: false,\r\n                count: state.count - payload.countUnseenToSeen\r\n            }\r\n        case GET_NOTIFICATIONS_FAIL:\r\n            return {\r\n                ...state,\r\n                loading: false\r\n            };\r\n        case CLEAR_NOTIFICATIONS:\r\n            return {\r\n                ...initialState\r\n            }\r\n        case COUNT_UNSEEN_NOTIFICATIONS:\r\n            return {\r\n                ...state,\r\n                count: payload\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n","import {\r\n    SET_SEARCH,\r\n    SET_CATEGORY\r\n} from '../actions/actionType.js';\r\n\r\nconst initialState = {\r\n    search: \"\",\r\n    category: \"\"\r\n};\r\n\r\nexport default (state = initialState, action) => {\r\n    const { type, payload } = action;\r\n\r\n    switch (type) {\r\n        case SET_SEARCH:\r\n            return {\r\n                ...state,\r\n                search: payload\r\n            };\r\n        case SET_CATEGORY:\r\n            return {\r\n                ...state,\r\n                category: payload\r\n            }\r\n        default:\r\n            return state\r\n    };\r\n};","import { createStore, combineReducers, applyMiddleware, compose } from 'redux';\r\nimport thunk from 'redux-thunk';\r\n\r\nimport authReducer from './reducers/auth';\r\nimport alertReducer from './reducers/alert';\r\nimport productReducer from './reducers/product';\r\nimport messageReducer from './reducers/message';\r\nimport profileReducer from './reducers/profile';\r\nimport mylistReducer from './reducers/mylist';\r\nimport notificationReducer from './reducers/notification';\r\nimport filterReducer from './reducers/filters';\r\n\r\nconst middleware = [thunk];\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\n\r\n// Combine reducers\r\nconst rootReducer = combineReducers({\r\n    auth: authReducer,\r\n    alerts: alertReducer,\r\n    product: productReducer,\r\n    message: messageReducer,\r\n    profile: profileReducer,\r\n    mylist: mylistReducer,\r\n    notification: notificationReducer,\r\n    filter: filterReducer\r\n});\r\n\r\n\r\nexport default () => {\r\n    const store = createStore(\r\n        rootReducer,\r\n        {},\r\n        composeEnhancers(applyMiddleware(...middleware))\r\n    );\r\n\r\n    return store;\r\n};","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/base.module.scss';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { Provider } from 'react-redux';\nimport configStore from './store/configStore';\n\nconst store = configStore();\n\nconst app = (\n    <Provider store={store}>\n        <App />\n    </Provider>\n);\n\nReactDOM.render(app, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Product\":\"Product_Product__Z_Lb-\",\"imageWrapper\":\"Product_imageWrapper__IYGrF\",\"Image\":\"Product_Image__GQRK4\",\"soldOut\":\"Product_soldOut__UKplX\",\"TextBox\":\"Product_TextBox__2LvQ0\",\"Main\":\"Product_Main__1VFXs\",\"Sub\":\"Product_Sub__3O4Mf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Link\":\"Message_Link__3VrXH\",\"Message\":\"Message_Message__2EobY\",\"Image\":\"Message_Image__3-1zg\",\"Name\":\"Message_Name__3Gdt1\",\"Time\":\"Message_Time__3zU3Z\",\"Text\":\"Message_Text__vwVPV\",\"unseen\":\"Message_unseen__17BNs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Link\":\"NavItem_Link__12IAj\",\"active\":\"NavItem_active__2xqPD\",\"Icon\":\"NavItem_Icon__1GZEM\",\"menuTitle\":\"NavItem_menuTitle__3chF9\",\"counter\":\"NavItem_counter__2DtZd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Setting\":\"Setting_Setting__1i593\",\"links\":\"Setting_links__3mPc7\",\"Link\":\"Setting_Link__39YOm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Link\":\"Notification_Link__y_-qW\",\"Notification\":\"Notification_Notification__2szzd\",\"Image\":\"Notification_Image__3yVt-\",\"rightContainer\":\"Notification_rightContainer__3gWtb\",\"Text\":\"Notification_Text__1YX9B\",\"Time\":\"Notification_Time__2aaKv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Main\":\"Main_Main__3LxFC\",\"Container\":\"Main_Container__f0szg\",\"subContainer\":\"Main_subContainer__QsWvS\",\"Image\":\"Main_Image__1MvjZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"onSignupChange\":\"FormTypeChanger_onSignupChange__30JXm\",\"onLoginChange\":\"FormTypeChanger_onLoginChange__3UUq0\",\"active\":\"FormTypeChanger_active__2Ye0C\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Comments\":\"Comments_Comments__19-ir\",\"Textarea\":\"Comments_Textarea__38Jkm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Sell\":\"EditPage_Sell__2jcug\",\"ImageDropAndCrop\":\"EditPage_ImageDropAndCrop__zeY6h\",\"sellForm\":\"EditPage_sellForm__jeGFA\",\"btn\":\"EditPage_btn__3JLER\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mypage\":\"MyPage_mypage__3m3qU\",\"hr\":\"MyPage_hr__2ssgd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Switcher\":\"Switcher_Switcher__2O-qR\",\"button\":\"Switcher_button__2SrN7\",\"active\":\"Switcher_active__3q8Rj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Input\":\"Input_Input__3uJvy\",\"Textarea\":\"Input_Textarea__1RyLW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"BottomBar\":\"BottomBar_BottomBar__OkQhW\",\"text\":\"BottomBar_text__2fpYs\",\"button\":\"BottomBar_button__AW3jN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"likeButton\":\"LikeButton_likeButton__2hA4H\",\"Like\":\"LikeButton_Like__F3uYy\",\"Unlike\":\"LikeButton_Unlike__3ua1V\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Message\":\"Message_Message__P-CYd\",\"textsContainer\":\"Message_textsContainer__1J_Id\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Navigation\":\"Navigation_Navigation__1nrRq\",\"NavigationItems\":\"Navigation_NavigationItems__1WELQ\",\"active\":\"Navigation_active__1aO7i\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"TopBar\":\"TopBar_TopBar__15alL\",\"GoBack\":\"TopBar_GoBack__zTm1I\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Comment\":\"Comment_Comment__3iocc\",\"User\":\"Comment_User__1DHJW\",\"UserPicture\":\"Comment_UserPicture__1JMaZ\",\"Text\":\"Comment_Text__2__P7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"User\":\"UserInfo_User__kVj8R\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Profile\":\"Profile_Profile__1WGBg\",\"hr\":\"Profile_hr__bKF3g\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileImage\":\"User_profileImage__3qETj\",\"icons\":\"User_icons__27lpR\"};"],"sourceRoot":""}