(this.webpackJsonpmercari=this.webpackJsonpmercari||[]).push([[0],{127:function(e,t,a){e.exports={main:"Layout_main__2dloT"}},129:function(e,t,a){e.exports={DisplayProfile:"DisplayProfile_DisplayProfile__12H36"}},130:function(e,t,a){e.exports={profilePic:"PictureRadius_profilePic__2fSaV"}},131:function(e,t,a){e.exports={items:"MyList_items__EMMVq"}},132:function(e,t,a){e.exports={Auth:"Auth_Auth__1OFxN"}},133:function(e,t,a){e.exports={AuthForm:"AuthForm_AuthForm__1VWQ-"}},135:function(e,t,a){e.exports={Products:"Products_Products__XXD3D"}},136:function(e,t,a){e.exports={items:"TopBar_items__3NgiL"}},137:function(e,t,a){},141:function(e,t,a){e.exports={items:"Products_items__106ib"}},142:function(e,t,a){e.exports={notifications:"Notification_notifications__3CA5a"}},144:function(e,t,a){e.exports={messages:"Inbox_messages__c4YXD"}},145:function(e,t,a){e.exports={MessageBoxMain:"MessageBox_MessageBoxMain__4JQbt"}},146:function(e,t,a){e.exports={form:"UpdateAvatar_form__3pVM_"}},147:function(e,t,a){e.exports={form:"UpdateProfile_form__2O94o"}},148:function(e,t,a){e.exports={form:"UpdateEmail_form__3jI8y"}},149:function(e,t,a){e.exports={form:"UpdatePassword_form__2KgnV"}},15:function(e,t,a){e.exports={Search:"Search_Search__1vdXl",topBox:"Search_topBox__2Kd0p",searchInputContainer:"Search_searchInputContainer__3vff-",searchInput:"Search_searchInput__ZhnTc",searchInputClear:"Search_searchInputClear__SkrZH",searchIcon:"Search_searchIcon__pNsQ-",backIcon:"Search_backIcon__1rzCN",categories:"Search_categories__2bvMH",category:"Search_category__2PphB",categoryActive:"Search_categoryActive__2Yz1c",backdrop:"Search_backdrop__3yDze"}},153:function(e,t,a){e.exports=a(258)},158:function(e,t,a){},19:function(e,t,a){e.exports={Dropzone:"ImageDropAndCrop_Dropzone__1vl5_",DropzoneIcon:"ImageDropAndCrop_DropzoneIcon__2PCi6",ReactCropContainer:"ImageDropAndCrop_ReactCropContainer__1RYiJ",ReactCrop:"ImageDropAndCrop_ReactCrop__3jfW8",buttons:"ImageDropAndCrop_buttons__1u8Mc",crop:"ImageDropAndCrop_crop__1anze",edit:"ImageDropAndCrop_edit__jg8r1",remove:"ImageDropAndCrop_remove__2Wpyt"}},203:function(e,t){e.exports="data:image/png;base64,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"},24:function(e,t,a){e.exports={Alerts:"Alerts_Alerts__1Jrc6",Alert:"Alerts_Alert__2N5hN",Success:"Alerts_Success__1lfyC",Danger:"Alerts_Danger__19AZT"}},25:function(e,t,a){e.exports={Button:"Button_Button__1HpPN",colorPrimary:"Button_colorPrimary__2R2-X",colorOrange:"Button_colorOrange__3vJte",colorDanger:"Button_colorDanger__3LxcP",borderGray:"Button_borderGray__27XZb",sizeSmall:"Button_sizeSmall__4xYo6",sizeLarge:"Button_sizeLarge__1Qcwy"}},258:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(53),o=a.n(c),s=(a(158),a(55)),i=a(56),l=a(59),u=a(57),d=a(60),p=a(8),m=a(23),g=a(4),E=a(123),f=Object(g.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.component,a=e.auth,n=a.isAuthenticated,c=a.loading,o=Object(E.a)(e,["component","auth"]);return r.a.createElement(m.b,Object.assign({},o,{render:function(e){return n||c?r.a.createElement(t,e):r.a.createElement(m.a,{to:"/login"})}}))})),h=a(3),_=a.n(h),v=a(125),S=a.n(v).a.create({headers:{"Content-Type":"application/json"}});S.interceptors.request.use((function(e){return console.log("Starting Request: ",e),e})),S.interceptors.response.use((function(e){return console.log("Response: ",e),e})),S.setAuthToken=function(e){e?S.defaults.headers.common.Authorization="Bearer ".concat(e):delete S.defaults.headers.common.Authorization};var b=S,y=a(84),C=a.n(y),T=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3;return function(n){if(e instanceof Array)e.forEach((function(e){var r=C.a.v4();n({type:"SET_ALERT",payload:{id:r,msg:e.msg,alertType:t}}),setTimeout((function(){n({type:"REMOVE_ALERT",payload:r})}),a)}));else{var r=C.a.v4();n({type:"SET_ALERT",payload:{id:r,msg:e,alertType:t}}),setTimeout((function(){n({type:"REMOVE_ALERT",payload:r})}),a)}}},O=function(){return function(e){var t;return _.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,_.a.awrap(b.get("/api/messages/count"));case 3:t=a.sent,e({type:"COUNT_UNSEEN_MESSAGES",payload:t.data.count}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),e(T(a.t0.response.data.message,"danger"));case 10:case"end":return a.stop()}}),null,null,[[0,7]])}},A=function(e,t){return function(a){return _.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return a({type:"SEND_MESSAGE_START"}),n.prev=1,n.next=4,_.a.awrap(b.post("/api/messages/".concat(e),{text:t}));case 4:a({type:"SEND_MESSAGE_SUCCESS"}),n.next=11;break;case 7:n.prev=7,n.t0=n.catch(1),a(T(n.t0.response.data.message,"danger")),a({type:"SEND_MESSAGE_FAIL"});case 11:case"end":return n.stop()}}),null,null,[[1,7]])}},j=function(){return function(e){var t;return _.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,_.a.awrap(b.get("/api/notifications/count"));case 3:t=a.sent,e({type:"COUNT_UNSEEN_NOTIFICATIONS",payload:t.data.count}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),e(T(a.t0.response.data.message,"danger"));case 10:case"end":return a.stop()}}),null,null,[[0,7]])}},N=function(){return function(e){return _.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e({type:"CLEAR_NOTIFICATIONS"}),e(j());case 2:case"end":return t.stop()}}))}},I=function(){return function(e){var t;return _.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(!localStorage.token){a.next=4;break}b.setAuthToken(localStorage.token),a.next=6;break;case 4:return e({type:"LOAD_USER_FAIL"}),a.abrupt("return",null);case 6:return e({type:"LOAD_USER_START"}),a.prev=7,a.next=10,_.a.awrap(b.get("/api/user"));case 10:t=a.sent,e(T("Welcome, ".concat(t.data.name),"success")),e({type:"LOAD_USER_SUCCESS",payload:t.data}),e(O()),e(j()),a.next=20;break;case 17:a.prev=17,a.t0=a.catch(7),e({type:"LOAD_USER_FAIL"});case 20:case"end":return a.stop()}}),null,null,[[7,17]])}},x=a(9),k=a(126),P=a(32),R=a.n(P),L=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(a){return r.a.createElement("li",null,r.a.createElement(p.c,{to:a.linkTo,className:R.a.Link,activeClassName:[R.a.Link,R.a.active].join(" ")},t?r.a.createElement("span",{className:R.a.counter},t>99?99:t):null,r.a.createElement(e,{className:R.a.Icon}),r.a.createElement("span",{className:R.a.menuTitle},a.children)))}},U=a(40),M=a.n(U),w=Object(g.b)((function(e){return{auth:e.auth,msgCount:e.message.count,notificationCount:e.notification.count}}))((function(e){var t=e.auth,a=e.msgCount,c=e.notificationCount,o=L(x.k),s=L(x.f),i=L(k.a),l=L(x.n,c),u=L(x.m,a),d=L(x.j),p=L(x.j),m=t.isAuthenticated?r.a.createElement(n.Fragment,null,r.a.createElement(o,{linkTo:"/products"},"Home"),r.a.createElement(s,{linkTo:"/mylist/liked"},"My List"),r.a.createElement(i,{linkTo:"/sell"},"Sell"),r.a.createElement(l,{linkTo:"/notification"},"Notification"),r.a.createElement(u,{linkTo:"/inbox/recieved"},"Inbox"),r.a.createElement(d,{linkTo:"/mypage"},"My Page")):r.a.createElement(n.Fragment,null,r.a.createElement(o,{linkTo:"/products"},"Home"),r.a.createElement(p,{linkTo:"/auth"},"Auth"));return r.a.createElement("header",{className:M.a.Navigation},r.a.createElement("div",{className:M.a.search},r.a.createElement("input",{placeholder:"Search",className:M.a.searchInput}),r.a.createElement("button",null,r.a.createElement(x.g,{className:M.a.searchIcon}))),r.a.createElement("ul",{className:M.a.NavigationItems},m))})),D=a(127),F=a.n(D),G=a(24),z=a.n(G),B=Object(g.b)((function(e){return{alerts:e.alerts}}))((function(e){var t=e.alerts,a=t.length>0?[z.a.Alerts].join(" "):[z.a.Alerts,z.a.show].join(" ");return r.a.createElement("div",{className:a},null!==t&&t.length>0&&t.map((function(e){return r.a.createElement("div",{key:e.id,className:"success"===e.alertType?[z.a.Alert,z.a.Success].join(" "):[z.a.Alert,z.a.Danger].join(" ")},e.msg)})))})),J=Object(g.b)((function(e){return{alerts:e.alerts}}))((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(B,null),r.a.createElement(w,null),r.a.createElement("main",{className:F.a.main},e.children))})),H=a(61),q=a.n(H),K=a(2),V=a(128),Y=a.n(V),W=function(e){var t=e.style,a=void 0===t?{}:t,n=e.type,c=void 0===n?"TailSpin":n,o=e.size,s=void 0===o?60:o,i=e.color,l=void 0===i?"#0084FF":i,u=e.timeout,d=void 0===u?0:u;return r.a.createElement("div",{style:Object(K.a)({},a,{width:"100%",textAlign:"center"})},r.a.createElement(Y.a,{type:c,color:l,height:s,width:s,timeout:d}))},Q=a(129),X=a.n(Q),Z=function(e){if(!e)return a(203);var t="";return[].slice.call(new Uint8Array(e)).forEach((function(e){return t+=String.fromCharCode(e)})),"data:image/jpeg;base64,".concat(window.btoa(t))},$=a(130),ee=a.n($),te=function(e){var t=e.style,a=void 0===t?{}:t,c=e.className,o=e.size,s=void 0===o?"3.5rem":o,i=e.src,l=e.alt,u=e.onClick,d=[ee.a.profilePic];return c&&d.push(c),r.a.createElement(n.Fragment,null,r.a.createElement("img",{onClick:u,className:d.join(" "),style:Object(K.a)({width:s,height:s},a),src:i,alt:l}))},ae=Object(g.b)((function(e){return{user:e.auth.user}}))(Object(m.g)((function(e){var t=e.history,a=e.user,n=a.avatar,c=a.name,o=Z(n?n.data:null);return r.a.createElement("div",{className:X.a.DisplayProfile},r.a.createElement("div",null,c),r.a.createElement(te,{onClick:function(){return t.push("mypage/update/avatar")},src:o,size:"5rem"}))}))),ne=a(25),re=a.n(ne),ce=function(e){var t=e.children,a=e.className,n=e.style,c=e.onClick,o=e.btnType,s=void 0===o?"":o,i=[re.a.Button];return a&&i.push(a),s.includes("color-primary")&&i.push(re.a.colorPrimary),s.includes("color-orange")&&i.push(re.a.colorOrange),s.includes("color-danger")&&i.push(re.a.colorDanger),s.includes("border-gray")&&i.push(re.a.borderGray),s.includes("size-sm")&&i.push(re.a.sizeSmall),s.includes("size-lg")&&i.push(re.a.sizeLarge),r.a.createElement("button",{onClick:c,style:n,className:i.join(" ")},t)},oe=Object(g.b)(null,{logout:function(){return function(e){e({type:"LOGOUT"}),e((function(e){e({type:"CLEAR_MESSAGES"})})),e(N())}}})(Object(m.g)((function(e){var t=e.logout,a=e.history;return r.a.createElement(ce,{btnType:"border-gray size-lg",onClick:function(){t(),a.push("/")}},"Logout")}))),se=a(33),ie=a.n(se),le=function(){return r.a.createElement("div",{className:ie.a.Setting},r.a.createElement("h3",null,"Setting"),r.a.createElement("ul",{className:ie.a.links},r.a.createElement(p.b,{className:ie.a.Link,to:"/mypage/update/profile"},"Update Profile"),r.a.createElement(p.b,{className:ie.a.Link,to:"/mypage/update/avatar"},"Update Profile Image"),r.a.createElement(p.b,{className:ie.a.Link,to:"/mypage/update/email"},"Change Email"),r.a.createElement(p.b,{className:ie.a.Link,to:"/mypage/update/password"},"Change Password")))},ue=Object(g.b)((function(e){return{auth:e.auth}}),null)((function(e){return e.auth.loading?r.a.createElement(W,{size:100}):r.a.createElement("div",{className:q.a.mypage},r.a.createElement(ae,null),r.a.createElement("div",{className:q.a.hr}),r.a.createElement(le,null),r.a.createElement("div",{className:q.a.hr}),r.a.createElement(oe,null))})),de=a(131),pe=a.n(de),me=a(62),ge=a.n(me),Ee=function(e){var t=e.items,a=t.map((function(e){var t=[ge.a.button];return e.active&&t.push(ge.a.active),r.a.createElement("button",{key:e.text,onClick:e.onClickHandler,className:t.join(" ")},e.text)}));return r.a.createElement("div",{className:ge.a.Switcher,style:{gridTemplateColumns:"repeat(".concat(t.length,", 1fr)")}},a)},fe=a(58),he=a.n(fe),_e=a(152),ve=function(e){var t=e.onRefreshFunc,a=e.loadMoreFunc,n=e.hasMore,c=e.children,o=e.spinnerSize,s=void 0===o?50:o,i=e.spinnerMarginTop,l=void 0===i?"3rem":i,u=r.a.createElement("span",{style:{display:"none"}}),d=r.a.createElement("p",{style:{position:"absolute",top:0,left:"50%",transform:"translate(-50%, -100%)",paddingBottom:"1rem"}},"Release to Refresh"),p=r.a.createElement("p",{style:{position:"absolute",top:0,left:"50%",transform:"translate(-50%, -100%)",paddingBottom:"1rem"}},"Pull to refresh");return r.a.createElement(_e.a,Object.assign({key:!0},{getScrollContainer:function(){return document.body}},{style:{width:"100%",position:"relative"},onRefresh:t,indicator:{activate:d,deactivate:p,release:u,finish:u},distanceToRefresh:80,damping:250}),r.a.createElement(he.a,{pageStart:0,threshold:250,loadMore:a,hasMore:n,loader:r.a.createElement(W,{key:"abc",size:s,style:{marginTop:l}})},c))},Se=function(e,t){return null==e?"":e.length<=t?e:(e=e.substring(0,t))+"..."},be=a(26),ye=a.n(be),Ce=Object(m.g)((function(e){var t=e.history,a=e.product,n=a._id,c=a.price,o=a.meetupAt,s=Z(a.productImageLow.data);return r.a.createElement("div",{className:ye.a.Product,onClick:function(e){t.push("/products/".concat(n))}},r.a.createElement("div",{className:ye.a.imageWrapper},r.a.createElement("img",{alt:"pic",className:ye.a.Image,src:s}),a.sold&&r.a.createElement("div",{className:ye.a.soldOut},"SOLD-OUT")),r.a.createElement("div",{className:ye.a.TextBox},r.a.createElement("div",{className:ye.a.Main},"\xa5 ",c.toLocaleString()),r.a.createElement("div",{className:ye.a.Sub},Se(o,9))))})),Te=Object(g.b)((function(e){return{liked:e.mylist.liked,purchased:e.mylist.purchased,sellings:e.mylist.sellings,auth:e.auth}}),{clearLiked:function(){return function(e){return _.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e({type:"CLEAR_LIKED"});case 1:case"end":return t.stop()}}))}},getLiked:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(t){var a,n;return _.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t({type:"GET_LIKED_START"}),r.prev=1,r.next=4,_.a.awrap(b.get("/api/products?limit=".concat(10,"&skip=").concat(e,"&liked=true")));case 4:a=r.sent,n=a.data.length>=10,t({type:"GET_LIKED_SUCCESS",payload:{products:a.data,hasMore:n}}),r.next=13;break;case 9:r.prev=9,r.t0=r.catch(1),t(T(r.t0.response.data.message,"danger")),t({type:"GET_LIKED_FAIL"});case 13:case"end":return r.stop()}}),null,null,[[1,9]])}},clearPurchased:function(){return function(e){return _.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e({type:"CLEAR_PURCHASED"});case 1:case"end":return t.stop()}}))}},getPurchased:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(t){var a,n;return _.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t({type:"GET_PURCHASED_START"}),r.prev=1,r.next=4,_.a.awrap(b.get("/api/products?limit=".concat(10,"&skip=").concat(e,"&purchased=true")));case 4:a=r.sent,n=a.data.length>=10,t({type:"GET_PURCHASED_SUCCESS",payload:{products:a.data,hasMore:n}}),r.next=13;break;case 9:r.prev=9,r.t0=r.catch(1),t(T(r.t0.response.data.message,"danger")),t({type:"GET_PURCHASED_FAIL"});case 13:case"end":return r.stop()}}),null,null,[[1,9]])}},clearSellings:function(){return function(e){return _.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e({type:"CLEAR_SELLINGS"});case 1:case"end":return t.stop()}}))}},getSellings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(t){var a,n;return _.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t({type:"GET_SELLINGS_START"}),r.prev=1,r.next=4,_.a.awrap(b.get("/api/products?limit=".concat(10,"&skip=").concat(e,"&sellings=true")));case 4:a=r.sent,n=a.data.length>=10,t({type:"GET_SELLINGS_SUCCESS",payload:{products:a.data,hasMore:n}}),r.next=13;break;case 9:r.prev=9,r.t0=r.catch(1),t(T(r.t0.response.data.message,"danger")),t({type:"GET_SELLINGS_FAIL"});case 13:case"end":return r.stop()}}),null,null,[[1,9]])}}})((function(e){var t=e.match,a=e.history,c=e.auth,o=e.liked,s=e.purchased,i=e.sellings,l=e.clearLiked,u=e.getLiked,d=e.clearPurchased,p=e.getPurchased,g=e.clearSellings,E=e.getSellings,f=t.params.status,h=[{text:"Liked",active:"liked"===f,onClickHandler:function(){return"liked"!==f&&a.push("/mylist/liked")}},{text:"Purchased",active:"purchased"===f,onClickHandler:function(){return"purchased"!==f&&a.push("/mylist/purchased")}},{text:"Sellings",active:"sellings"===f,onClickHandler:function(){return"sellings"!==f&&a.push("/mylist/sellings")}}],_=!0,v=[],S=function(){return null},b=function(){return null};switch(f){case"liked":v=o.products,_=o.hasMore,c.isAuthenticated&&!o.loading&&(S=function(){return u(o.products.length)},b=function(){return l()});break;case"purchased":v=s.products,_=s.hasMore,c.isAuthenticated&&!s.loading&&(S=function(){return p(s.products.length)},b=function(){return d()});break;case"sellings":v=i.products,_=i.hasMore,c.isAuthenticated&&!i.loading&&(S=function(){return E(i.products.length)},b=function(){return g()});break;default:return r.a.createElement(m.a,{to:"404"})}var y=v.map((function(e){return r.a.createElement(Ce,{key:e._id,product:e})}));return r.a.createElement(n.Fragment,null,r.a.createElement(Ee,{items:h}),r.a.createElement("div",{style:{marginTop:"5.5rem"}},r.a.createElement(ve,{onRefreshFunc:b,loadMoreFunc:S,hasMore:_},_||0!==y.length?r.a.createElement("div",{className:pe.a.items},y):r.a.createElement("p",{style:{height:"80vh"}},"No product found"))))})),Oe=a(6),Ae=a(132),je=a.n(Ae),Ne=a(12),Ie=a(133),xe=a.n(Ie),ke=a(63),Pe=a.n(ke),Re=function(e){e.id;var t=e.type,a=e.placeholder,n=e.value,c=void 0===n?"":n,o=e.onChange,s=e.name,i=e.required,l=void 0!==i&&i,u=e.className,d=e.style,p=e.children;return"textarea"===t?r.a.createElement("textarea",{placeholder:a,value:c,onChange:o,name:s,required:l,className:[Pe.a.Textarea,u].join(" "),style:d}):"select"===t?r.a.createElement("select",{value:c,onChange:o,name:s,required:l,className:[Pe.a.Input,u].join(" "),style:d},p):r.a.createElement("input",{type:t,placeholder:a,value:c,onChange:o,name:s,required:l,className:[Pe.a.Input,u].join(" "),style:d})},Le=Object(g.b)(null,{setAlert:T,login:function(e){var t=e.email,a=e.password;return function(e){var n,r;return _.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return e({type:"LOGIN_START"}),n=JSON.stringify({email:t,password:a}),c.prev=2,c.next=5,_.a.awrap(b.post("/api/user/login",n));case 5:r=c.sent,e({type:"LOGIN",payload:r.data}),e(I(localStorage.token)),c.next=14;break;case 10:c.prev=10,c.t0=c.catch(2),e(T(c.t0.response.data.message,"danger")),e({type:"LOGIN_FAIL"});case 14:case"end":return c.stop()}}),null,null,[[2,10]])}},register:function(e){var t=e.name,a=e.email,n=e.password;return function(e){var r,c;return _.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return e({type:"REGISTER_START"}),r=JSON.stringify({name:t,email:a,password:n}),o.prev=2,o.next=5,_.a.awrap(b.post("/api/user/signup",r));case 5:c=o.sent,e({type:"REGISTER",payload:c.data}),e(I(localStorage.token)),o.next=14;break;case 10:o.prev=10,o.t0=o.catch(2),e(T(o.t0.response.data.message,"danger")),e({type:"REGISTER_FAIL"});case 14:case"end":return o.stop()}}),null,null,[[2,10]])}}})((function(e){var t=e.isSignup,a=e.setAlert,c=e.register,o=e.login,s=Object(n.useState)({name:"",email:"",password:"",password2:""}),i=Object(Oe.a)(s,2),l=i[0],u=i[1];Object(n.useEffect)((function(e){u((function(){return{name:"",email:"",password:"",password2:""}}))}),[t]);var d=function(e){e.preventDefault(),e.persist(),u((function(t){return Object(K.a)({},t,Object(Ne.a)({},e.target.name,e.target.value))}))};return r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var n=l.name,r=l.email,s=l.password,i=l.password2;t?s!==i?a("password do not much","danger"):c({name:n,email:r,password:s}):o({email:r,password:s})},className:xe.a.AuthForm},t&&r.a.createElement(Re,{type:"text",placeholder:"Username",value:l.name,onChange:function(e){return d(e)},name:"name",required:!0}),r.a.createElement(Re,{type:"email",placeholder:"Email",value:l.email,onChange:d,name:"email",required:!0}),r.a.createElement(Re,{type:"password",placeholder:"Password",value:l.password,onChange:d,name:"password",required:!0}),t&&r.a.createElement(Re,{type:"password",placeholder:"Comfirm Password",value:l.password2,onChange:d,name:"password2",required:!0}),r.a.createElement(ce,{btnType:"color-primary"},t?"Signup":"Login"))})),Ue=a(44),Me=a.n(Ue),we=function(e){var t=e.isSignup,a=e.onChangeFormType,n=[Me.a.onSignupChange],c=[Me.a.onLoginChange];return t?n.push(Me.a.active):c.push(Me.a.active),r.a.createElement("div",null,r.a.createElement("button",{className:n.join(" "),onClick:function(){return a(!0)}},"Signup"),r.a.createElement("button",{className:c.join(" "),onClick:function(){return a(!1)}},"Login"))},De=Object(g.b)((function(e){return{auth:e.auth}}),null)((function(e){var t=e.auth,a=t.isAuthenticated,c=t.loading,o=Object(n.useState)(!0),s=Object(Oe.a)(o,2),i=s[0],l=s[1];if(a)return r.a.createElement(m.a,{to:"/"});var u=r.a.createElement(n.Fragment,null,r.a.createElement(we,{isSignup:i,onChangeFormType:function(e){e!==i&&l(e)}}),r.a.createElement(Le,{isSignup:i}));return r.a.createElement("div",{className:je.a.Auth},c?r.a.createElement(W,{style:{margin:"2rem"}}):u)})),Fe=function(e){return function(t){var a;return _.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t({type:"GET_PRODUCT_START",payload:e}),n.prev=1,n.next=4,_.a.awrap(b.get("/api/products/".concat(e)));case 4:a=n.sent,t({type:"GET_PRODUCT_SUCCESS",payload:a.data}),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(1),t(T(n.t0.response.data.message,"danger")),t({type:"GET_PRODUCT_FAIL"});case 12:case"end":return n.stop()}}),null,null,[[1,8]])}},Ge=a(15),ze=a.n(Ge),Be=a(134),Je=function(e){var t=e.search,a=e.category,c=e.setSearch,o=e.setCategory,s=e.onSubmit,i=Object(n.useState)(!1),l=Object(Oe.a)(i,2),u=l[0],d=l[1],p=r.a.createRef(),m=function(){d(!1),p.current.readOnly=!0,p.current.blur()},g=function(e){var t=e.target.getAttribute("category");o((function(){return t})),d(!1),s()},E=function(e){e.preventDefault(),m(),s()},f=[{value:"",text:"All"},{value:"Home",text:"Home"},{value:"Academic",text:"Academic"},{value:"Ticket",text:"Ticket"},{value:"Electronics",text:"Electronics"},{value:"Women",text:"Women"},{value:"Men",text:"Men"},{value:"Other",text:"Other"}].map((function(e){return r.a.createElement("li",{key:e.text,onClick:g,className:a===e.value?[ze.a.category,ze.a.categoryActive].join(" "):ze.a.category,category:e.value},e.text)})),h="";return a&&t?h=[a,t].join(" \u30fb "):a?h=a:t&&(h=t),r.a.createElement("div",{className:ze.a.Search},r.a.createElement("div",{className:ze.a.topBox,onClick:u?function(){}:function(){d(!0),p.current.readOnly=!1,p.current.focus()}},u&&r.a.createElement(x.i,{className:ze.a.backIcon,onClick:m}),r.a.createElement("form",{onSubmit:E,className:ze.a.searchInputContainer},r.a.createElement("input",{className:ze.a.searchInput,type:"text",placeholder:"Search",value:u?t:h,onChange:function(e){e.persist(),c((function(){return e.target.value}))},ref:p,readOnly:!0}),u&&r.a.createElement(x.c,{className:ze.a.searchInputClear,onClick:function(){c((function(){return""}))}})),r.a.createElement(Be.a,{className:ze.a.searchIcon,onClick:E})),u&&r.a.createElement(n.Fragment,null,r.a.createElement("ul",{className:ze.a.categories},f),r.a.createElement("div",{className:ze.a.backdrop,onClick:m})))},He=a(135),qe=a.n(He),Ke=Object(g.b)((function(e){return{product:e.product}}),{getProducts:function(e){var t=e.skip,a=void 0===t?0:t,n=e.limit,r=void 0===n?15:n,c=e.search,o=void 0===c?null:c,s=e.category,i=void 0===s?null:s;return function(e){var t,n,c;return _.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return e({type:"GET_PRODUCTS_START"}),(t=[]).push("limit=".concat(r)),t.push("skip=".concat(a)),o&&t.push("search=".concat(o)),i&&t.push("category=".concat(i)),s.prev=6,s.next=9,_.a.awrap(b.get("/api/products?".concat(t.join("&"))));case 9:n=s.sent,c=n.data.length===r,e({type:"GET_PRODUCTS_SUCCESS",payload:{products:n.data,hasMore:c}}),s.next=18;break;case 14:s.prev=14,s.t0=s.catch(6),e(T(s.t0.response.data.message,"danger")),e({type:"GET_PRODUCTS_FAIL"});case 18:case"end":return s.stop()}}),null,null,[[6,14]])}},refreshProducts:function(){return function(e){return _.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e({type:"REFRESH_PRODUCTS"});case 1:case"end":return t.stop()}}))}}})((function(e){var t=e.getProducts,a=e.refreshProducts,c=e.product,o=c.products,s=c.hasMore,i=c.loading,l=Object(n.useState)(""),u=Object(Oe.a)(l,2),d=u[0],p=u[1],m=Object(n.useState)(""),g=Object(Oe.a)(m,2),E=g[0],f=g[1],h=function(){return!i.getProducts&&a()},_=o.map((function(e){return r.a.createElement(Ce,{key:e._id,product:e})}));return r.a.createElement("div",null,r.a.createElement(Je,{search:d,category:E,setSearch:p,setCategory:f,onSubmit:function(){h()}}),r.a.createElement(ve,{onRefreshFunc:h,loadMoreFunc:function(){i.getProducts||t({skip:o.length,limit:10,search:d,category:E})},hasMore:s},r.a.createElement("div",{className:qe.a.Products},_)))}));function Ve(){return Object(n.useEffect)((function(){window.scrollTo(0,0)}),[]),null}var Ye=a(64),We=a.n(Ye),Qe=function(e){var t=e.text,a=e.buttonText,n=e.onButtonClick;return r.a.createElement("div",{className:We.a.BottomBar},r.a.createElement("div",{className:We.a.text},t),r.a.createElement("button",{className:We.a.button,onClick:n},a))},Xe=a(136),Ze=a.n(Xe),$e=a(91),et=a.n($e),tt=Object(m.g)((function(e){var t=e.children,a=e.history;return r.a.createElement("div",{className:et.a.TopBar},r.a.createElement("div",{className:et.a.GoBack,onClick:function(e){return a.goBack()}},r.a.createElement(x.a,null)),t)})),at=a(65),nt=a.n(at),rt=function(e){var t=e.spinnerSize,a=void 0===t?35:t,n=e.onClick,c=e.isLiked,o=e.loading;return void 0!==o&&o?r.a.createElement(W,{style:{margin:0},size:a,color:"pink"}):r.a.createElement("button",{className:nt.a.likeButton,onClick:function(e){return n()}},c?r.a.createElement(x.d,{className:nt.a.Like}):r.a.createElement(x.e,{className:nt.a.Unlike}))},ct=Object(g.b)((function(e){return{product:e.product.product,loadingLike:e.product.loading.likes,auth:e.auth}}),{deleteProduct:function(e){return function(t){return _.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t({type:"DELETE_PRODUCT_START"}),a.prev=1,a.next=4,_.a.awrap(b.delete("/api/products/".concat(e)));case 4:t({type:"DELETE_PRODUCT",payload:e}),t(T("Product deleted","success")),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(1),t(T(a.t0.response.data.message,"danger")),t({type:"DELETE_PRODUCT_FAIL"});case 12:case"end":return a.stop()}}),null,null,[[1,8]])}},setLike:function(e){return function(t){var a;return _.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t({type:"SET_LIKE_START"}),n.prev=1,n.next=4,_.a.awrap(b.put("/api/products/like/".concat(e)));case 4:a=n.sent,t({type:"SET_LIKE",payload:a.data}),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(1),t(T(n.t0.response.data.message,"danger")),t({type:"SET_LIKE_FAIL"});case 12:case"end":return n.stop()}}),null,null,[[1,8]])}},setUnlike:function(e){return function(t){var a;return _.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t({type:"SET_UNLIKE_START"}),n.prev=1,n.next=4,_.a.awrap(b.put("/api/products/unlike/".concat(e)));case 4:a=n.sent,t({type:"SET_UNLIKE",payload:a.data}),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(1),t(T(n.t0.response.data.message,"danger")),t({type:"SET_UNLIKE_FAIL"});case 12:case"end":return n.stop()}}),null,null,[[1,8]])}}})(Object(m.g)((function(e){var t=e.history,a=e.match,c=e.auth,o=e.product,s=e.loadingLike,i=e.deleteProduct,l=e.setLike,u=e.setUnlike,d=!1;c.isAuthenticated&&o&&(d=!!o.likes.find((function(e){return e===c.user._id})));return r.a.createElement(tt,null,r.a.createElement("div",{className:Ze.a.items},c.isAuthenticated&&c.user._id===o.user&&!1===o.sold&&r.a.createElement(n.Fragment,null,r.a.createElement(ce,{btnType:"color-orange size-sm",onClick:function(){t.push("/edit/".concat(o._id))}},"Edit"),r.a.createElement(ce,{btnType:"color-danger size-sm",onClick:function(){i(a.params.id),t.push("/products")}},"Delete")),r.a.createElement(rt,{loading:s,onClick:function(){return function(){if(!c.isAuthenticated)return t.push("/auth");d?u(a.params.id):l(a.params.id)}()},isLiked:d})))}))),ot=a(27),st=a.n(ot),it=a(5),lt=a.n(it),ut=a(45),dt=a.n(ut),pt=a(92),mt=a.n(pt),gt=a(137),Et=a.n(gt),ft=function(e){var t=e.children,a=e.style,c=e.className,o=[Et.a.line,c].join(" "),s=t.split("\n").len;return t.split("\n").map((function(e,t){return r.a.createElement(n.Fragment,{key:t},r.a.createElement("span",{style:a,className:o},e),t!==s-1&&r.a.createElement("br",null))}))},ht=a(93),_t=a.n(ht),vt=Object(m.g)((function(e){var t=e.title,a=void 0===t?null:t,c=e.name,o=e.avatar,s=e.userId,i=e.history,l=e.imageSize,u=void 0===l?"3rem":l,d=e.imageLeft,p=void 0===d||d,m=e.fontSize,g=void 0===m?"1.4rem":m,E=e.color,f=void 0===E?"inherit":E,h=e.fontWeight,_=void 0===h?"bold":h,v=e.marginBetween,S=void 0===v?"1.5rem":v,b=e.style,y=Z(o?o.data:null),C=p?{marginLeft:S}:{marginRight:S},T=r.a.createElement(te,{alt:"Profile Picture",src:y,size:u,className:_t.a.UserPicture}),O=r.a.createElement("div",{style:Object(K.a)({},C,{fontSize:g,fontWeight:_,color:f})},a&&r.a.createElement("span",{style:{fontWeight:"normal"}},"".concat(a," ")),c);return r.a.createElement("div",{className:[_t.a.User,b].join(" "),onClick:s?function(){return i.push("/profile/".concat(s))}:function(){return null}},p?r.a.createElement(n.Fragment,null,T,O):r.a.createElement(n.Fragment,null,O,T))})),St=function(e){var t=e.comment;return r.a.createElement("div",{className:mt.a.Comment},r.a.createElement(vt,{name:t.name,avatar:t.avatar,userId:t.user}),r.a.createElement("div",{className:mt.a.Text},r.a.createElement(ft,null,t.text)))},bt=Object(g.b)((function(e){return{comments:e.product.product.comments,loading:e.product.loading.comments,auth:e.auth,addComment:lt.a.func.isRequired}}),{addComment:function(e,t){return function(a){var n;return _.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return a({type:"ADD_COMMENT_START"}),r.prev=1,r.next=4,_.a.awrap(b.post("/api/products/comment/".concat(e),{text:t}));case 4:n=r.sent,a(T("Added Comment","success")),a({type:"ADD_COMMENT",payload:n.data}),r.next=13;break;case 9:r.prev=9,r.t0=r.catch(1),a(T(r.t0.response.data.message,"danger")),a({type:"ADD_COMMENT_FAIL"});case 13:case"end":return r.stop()}}),null,null,[[1,9]])}}})(Object(m.g)((function(e){var t=e.addComment,a=e.auth,c=e.comments,o=e.history,s=e.match,i=e.loading,l=Object(n.useState)(""),u=Object(Oe.a)(l,2),d=u[0],p=u[1];return Object(n.useEffect)((function(){p((function(){return""}))}),[c]),r.a.createElement(n.Fragment,null,r.a.createElement("h3",{className:dt.a.Header},"Comments"),r.a.createElement("div",{className:dt.a.Comments},0===c.length&&r.a.createElement("p",null,"No Comment yet"),c.map((function(e){return r.a.createElement(St,{key:e._id,comment:e})})),r.a.createElement("textarea",{className:dt.a.Textarea,placeholder:"New comment here",value:d,onChange:function(e){e.persist(),p((function(){return e.target.value}))}}),r.a.createElement(ce,{btnType:"color-primary",className:dt.a.button,onClick:function(e){a.isAuthenticated?""===d?console.log("Comment needed"):t(s.params.id,d):o.push("/auth")}},i?r.a.createElement(W,{size:15,style:{margin:0},color:"white"}):"SEND")))}))),yt=Object(g.b)((function(e){return{product:e.product.product}}),null)(Object(m.g)((function(e){var t=e.history,a=e.product,c=a.productImage,o=a.productImageLow,s=a.avatar,i=a.name,l=a.description,u=a.meetupAt,d=a.title,p=a.user,m=a.purchaser,g=Z(c?c.data:o.data);return r.a.createElement("div",{className:st.a.Main},r.a.createElement("img",{alt:"pic",className:st.a.Image,src:g}),r.a.createElement("div",{className:st.a.Container},r.a.createElement("h2",null,d),r.a.createElement("div",{className:st.a.subContainer},l),r.a.createElement("h3",null,"Meetup Place"),r.a.createElement("div",{className:st.a.subContainer},r.a.createElement("p",null,u)),r.a.createElement("h3",null,"Seller"),r.a.createElement("div",{className:st.a.card,onClick:function(){return t.push("/profile/".concat(p))}},r.a.createElement(vt,{name:i,avatar:s,imageLeft:!1,fontSize:"1.6rem",imageSize:"4rem"}),r.a.createElement(x.b,null)),m&&m.name&&r.a.createElement(n.Fragment,null,r.a.createElement("h3",null," Purchaser"),r.a.createElement("div",{className:st.a.card,onClick:function(){return t.push("/profile/".concat(m._id))}},r.a.createElement(vt,{name:m.name,avatar:m.avatar,imageLeft:!1,fontSize:"1.6rem",imageSize:"4rem"}),r.a.createElement(x.b,null))),r.a.createElement(bt,null)))}))),Ct=Object(g.b)((function(e){return{product:e.product.product,loading:e.product.loading,auth:e.auth}}),{getProduct:Fe,purchaseProduct:function(e){return function(t){var a;return _.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t({type:"PURCHASE_START"}),n.prev=1,n.next=4,_.a.awrap(b.put("/api/products/purchase/".concat(e)));case 4:a=n.sent,t({type:"PURCHASE_PRODUCT",payload:a.data}),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(1),t(T(n.t0.response.data.message,"danger")),t({type:"PURCHASE_FAIL"});case 12:case"end":return n.stop()}}),null,null,[[1,8]])}},cancelProduct:function(e){return function(t){var a;return _.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t({type:"CANCEL_START"}),n.prev=1,n.next=4,_.a.awrap(b.put("/api/products/cancel/".concat(e)));case 4:a=n.sent,t({type:"CANCEL_PRODUCT",payload:a.data}),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(1),t(T(n.t0.response.data.message,"danger")),t({type:"CANCEL_FAIL"});case 12:case"end":return n.stop()}}),null,null,[[1,8]])}},rejectProduct:function(e){return function(t){var a;return _.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t({type:"REJECT_START"}),n.prev=1,n.next=4,_.a.awrap(b.put("/api/products/reject/".concat(e)));case 4:a=n.sent,t({type:"REJECT_PRODUCT",payload:a.data}),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(1),t(T(n.t0.response.data.message,"danger")),t({type:"REJECT_FAIL"});case 12:case"end":return n.stop()}}),null,null,[[1,8]])}}})((function(e){var t=e.loading,a=e.product,c=e.auth,o=e.getProduct,s=e.history,i=e.match,l=e.purchaseProduct,u=e.cancelProduct,d=e.rejectProduct;if(Object(n.useEffect)((function(){o(i.params.id)}),[o,i.params.id]),t.getProduct)return r.a.createElement(W,null);if(!a)return r.a.createElement("p",null,"Not found!");var p=a.purchaser,m="Purchase",g=function(){return l(i.params.id)};return!a.sold&&c.isAuthenticated&&a.user.toString()===c.user._id.toString()?(m="EDIT",g=function(){return s.push("/edit/".concat(i.params.id))}):a.sold&&c.isAuthenticated&&a.user.toString()===c.user._id.toString()?(m="REJECT",g=function(){return d(i.params.id)}):a.sold&&c.isAuthenticated&&p._id&&p._id.toString()===c.user._id.toString()?(m="CANCEL",g=function(){return u(i.params.id)}):a.sold&&(m="SOLD OUT",g=function(){return null}),c.isAuthenticated||(g=function(){return s.push("/auth")}),t.purchase&&(m=r.a.createElement(W,{size:15,style:{margin:0},color:"white"}),g=function(){return null}),r.a.createElement("div",null,r.a.createElement(Ve,null),r.a.createElement(ct,null),r.a.createElement(yt,null),r.a.createElement(Qe,{text:"\xa5 ".concat(a.price.toLocaleString()),buttonText:m,onButtonClick:g}))})),Tt=a(46),Ot=a.n(Tt),At=a(151),jt=a(139),Nt=a.n(jt);a(245);var It=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e7,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"image/png, image/jpg, image/jpeg",n=a.split(",").map((function(e){return e.trim()}));if(e&&e.length>0){var r=e[0],c=r.type,o=r.size;return o>t?(alert("This file is too big (Max: 10MB)"),!1):!!n.includes(c)||(alert("This file is not allowed. Only jpg, jpeg and png are allowed."),!1)}},xt=a(19),kt=a.n(xt),Pt=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={cropping:!1,src:null,crop:{unit:"%",width:70,aspect:4/3},croppedImageBase64:null,isModified:!0},a.onSelectFile=function(e,t){if((t&&t.length>0&&(console.log("File rejected"),It(t,a.props.maxSize)),e&&e.length>0)&&It(e,a.props.maxSize)){var n=e[0],r=new FileReader;r.addEventListener("load",(function(){a.setState({src:r.result,cropping:!0})}),!1),r.readAsDataURL(n)}},a.onImageLoaded=function(e){a.imageRef=e},a.onCropComplete=function(e){if(a.imageRef&&e.width&&e.height){var t=function(e,t){var a=document.createElement("canvas"),n=e.naturalWidth/e.width,r=e.naturalHeight/e.height,c=t.width*n,o=t.height*r,s=c,i=o;return(c>1200||o>675)&&(c/o>1200/675?(s=1200,i=Math.round(o/c*1200)):(i=675,s=Math.round(c/o*675))),a.width=s,a.height=i,a.getContext("2d").drawImage(e,t.x*n,t.y*r,t.width*n,t.height*r,0,0,s,i),a.toDataURL("image/jpeg",.9)}(a.imageRef,e);a.setState({croppedImageBase64:t,isModified:!0})}},a.onCropChange=function(e,t){a.setState({crop:e})},a.readyToUpload=function(){var e=function(e,t){for(var a=e.split(","),n=a[0].match(/:(.*?);/)[1],r=atob(a[1]),c=r.length,o=new Uint8Array(c);c--;)o[c]=r.charCodeAt(c);return new File([o],t,{type:n})}(a.state.croppedImageBase64,"newFile");a.setState({cropping:!1}),a.props.setImage(e)},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState((function(){return{croppedImageBase64:e.props.defaultImage||null,isModified:!e.props.defaultImage,src:!!e.props.defaultImage||null}}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.cropping,n=t.src,c=t.crop,o=t.croppedImageBase64,s=this.props.maxSize||1e7;return r.a.createElement("div",null,r.a.createElement("div",{className:kt.a.ReactCropContainer},n&&a&&r.a.createElement("div",{className:kt.a.ReactCrop},r.a.createElement(Nt.a,{src:n,crop:c,onImageLoaded:this.onImageLoaded,onComplete:this.onCropComplete,onChange:this.onCropChange})),n&&!a&&r.a.createElement("img",{alt:"Crop",style:{width:"100%"},src:o}),r.a.createElement("div",{className:kt.a.buttons},n&&a&&r.a.createElement("button",{className:kt.a.crop,onClick:this.readyToUpload},"Crop"),n&&!a&&this.state.isModified&&r.a.createElement("button",{className:kt.a.edit,onClick:function(){e.setState({cropping:!0})}},"Edit"),n&&r.a.createElement("button",{className:kt.a.remove,onClick:function(){e.setState({src:null,croppedImageBase64:null}),e.props.setImage(null)}},"Remove"))),!n&&r.a.createElement(At.a,{onDrop:this.onSelectFile,maxSize:s,multiple:!1,accept:"image/png, image/jpg, image/jpeg"},(function(e){var t=e.getRootProps,a=e.getInputProps;return r.a.createElement("section",{className:kt.a.Dropzone},r.a.createElement("div",t(),r.a.createElement("input",a()),r.a.createElement(x.l,{size:"10rem",color:"#ddd",className:kt.a.DropzoneIcon})))})))}}]),t}(n.PureComponent),Rt=Object(g.b)((function(e){return{loading:e.product.loading}}),{createProduct:function(e){return function(t){var a,n;return _.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t({type:"SET_PRODUCT_START"}),a={headers:{"Content-Type":"multipart/form-data"}},r.prev=2,r.next=5,_.a.awrap(b.post("/api/products",e,a));case 5:n=r.sent,t(T("Added Product","success")),t({type:"SET_PRODUCT",payload:n.data}),r.next=14;break;case 10:r.prev=10,r.t0=r.catch(2),t(T(r.t0.response.data.message,"danger")),t({type:"SET_PRODUCT_FAIL"});case 14:case"end":return r.stop()}}),null,null,[[2,10]])}}})((function(e){var t=e.createProduct,a=e.loading,c=e.history,o=Object(n.useState)({title:"",price:"",category:"Home",meetupAt:"",description:""}),s=Object(Oe.a)(o,2),i=s[0],l=s[1],u=Object(n.useState)(""),d=Object(Oe.a)(u,2),p=d[0],m=d[1],g=i.title,E=i.price,f=i.category,h=i.meetupAt,_=i.description,v=function(e){e.preventDefault(),e.persist(),l((function(){return Object(K.a)({},i,Object(Ne.a)({},e.target.name,e.target.value))}))};return a.setProduct?r.a.createElement(W,null):r.a.createElement("div",{className:Ot.a.Sell},r.a.createElement(Ve,null),r.a.createElement("div",{className:Ot.a.ImageDropAndCrop},r.a.createElement(Pt,{maxSize:1e7,setImage:function(e){return function(e){m((function(){return e}))}(e)}})),r.a.createElement("form",{className:Ot.a.sellForm,onSubmit:function(e){return function(e){if(e.preventDefault(),!p)return alert("Please set Image");var a=new FormData;a.append("title",g),a.append("price",E),a.append("category",f),a.append("meetupAt",h),a.append("description",_),a.append("productImage",p),t(a),c.push("/products")}(e)}},r.a.createElement("label",null,"Product"),r.a.createElement(Re,{type:"text",placeholder:"Product Name (20 words or less)",name:"title",value:g,onChange:function(e){return v(e)},required:!0}),r.a.createElement("label",null,"Price"),r.a.createElement(Re,{type:"number",placeholder:"Price in Yen",name:"price",value:E,onChange:function(e){return v(e)},required:!0}),r.a.createElement("label",null,"Category"),r.a.createElement(Re,{type:"select",name:"category",value:f,onChange:function(e){v(e)}},r.a.createElement("option",{value:"Home"},"Home"),r.a.createElement("option",{value:"Academic"},"Academic"),r.a.createElement("option",{value:"Electronics"},"Electronics"),r.a.createElement("option",{value:"Ticket"},"Ticket"),r.a.createElement("option",{value:"Women"},"Women"),r.a.createElement("option",{value:"Men"},"Men"),r.a.createElement("option",{value:"Other"},"Other")),r.a.createElement("label",null,"Meetup Place"),r.a.createElement(Re,{type:"text",placeholder:"Meetup Place",name:"meetupAt",value:h,onChange:function(e){return v(e)},required:!0}),r.a.createElement("label",null,"Description"),r.a.createElement(Re,{type:"textarea",placeholder:"Description here",name:"description",value:_,onChange:function(e){return v(e)},required:!0}),r.a.createElement(ce,{className:Ot.a.btn,btnType:"color-primary size-lg"},"Start Selling")))})),Lt=a(47),Ut=a.n(Lt),Mt=Object(g.b)((function(e){return{loading:e.product.loading,product:e.product.product}}),{getProduct:Fe,editProduct:function(e,t){return function(a){var n,r;return _.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return a({type:"EDIT_PRODUCT_START"}),n={headers:{"Content-Type":"multipart/form-data"}},c.prev=2,c.next=5,_.a.awrap(b.put("/api/products/".concat(e),t,n));case 5:r=c.sent,a(T("Edited Product","success")),a({type:"EDIT_PRODUCT",payload:r.data}),c.next=14;break;case 10:c.prev=10,c.t0=c.catch(2),a(T(c.t0.response.data.message,"danger")),a({type:"EDIT_PRODUCT_FAIL"});case 14:case"end":return c.stop()}}),null,null,[[2,10]])}}})((function(e){var t=e.product,a=e.getProduct,c=e.editProduct,o=e.match,s=e.history,i=e.loading,l=Object(n.useState)({title:"",price:"",category:"",meetupAt:"",description:""}),u=Object(Oe.a)(l,2),d=u[0],p=u[1],m=Object(n.useState)(!1),g=Object(Oe.a)(m,2),E=g[0],f=g[1],h=Object(n.useState)(null),_=Object(Oe.a)(h,2),v=_[0],S=_[1];Object(n.useEffect)((function(){(!i.getProduct&&!t||t&&o.params.id!==t._id.toString())&&a(o.params.id),p((function(){return{title:i.getProduct||!t?"":t.title,price:i.getProduct||!t?"":t.price,category:i.getProduct||!t?"":t.category,meetupAt:i.getProduct||!t?"":t.meetupAt,description:i.getProduct||!t?"":t.description}})),S(i.getProduct||!t?"":Z(t.productImage.data))}),[a,p,i.getProduct,o.params.id,t]);var b=d.title,y=d.price,C=d.category,T=d.meetupAt,O=d.description,A=function(e){e.preventDefault(),e.persist(),p((function(){return Object(K.a)({},d,Object(Ne.a)({},e.target.name,e.target.value))}))};return i.getProduct?r.a.createElement(W,null):r.a.createElement(n.Fragment,null,r.a.createElement(tt,null),r.a.createElement("div",{className:Ut.a.Sell},r.a.createElement("div",{className:Ut.a.ImageDropAndCrop},(v||E)&&r.a.createElement(Pt,{maxSize:1e7,setImage:function(e){return function(e){S(e),f(!0)}(e)},defaultImage:v})),r.a.createElement("form",{className:Ut.a.sellForm,onSubmit:function(e){return function(e){e.preventDefault();var t=new FormData;if(t.append("title",b),t.append("price",y),t.append("category",C),t.append("meetupAt",T),t.append("description",O),!v)return alert("Please set Image");E&&t.append("productImage",v),c(o.params.id,t),s.push("/products")}(e)}},r.a.createElement("label",null,"Product"),r.a.createElement(Re,{type:"text",placeholder:"Product Name (20 words or less)",name:"title",value:b,onChange:function(e){return A(e)},required:!0}),r.a.createElement("label",null,"Price"),r.a.createElement(Re,{type:"number",placeholder:"Price in Yen",name:"price",value:y,onChange:function(e){return A(e)},required:!0}),r.a.createElement("label",null,"Category"),r.a.createElement(Re,{type:"select",name:"category",value:C,onChange:function(e){A(e)}},r.a.createElement("option",{value:"Home"},"Home"),r.a.createElement("option",{value:"Academic"},"Academic"),r.a.createElement("option",{value:"Electronics"},"Electronics"),r.a.createElement("option",{value:"Ticket"},"Ticket"),r.a.createElement("option",{value:"Women"},"Women"),r.a.createElement("option",{value:"Men"},"Men"),r.a.createElement("option",{value:"Other"},"Other")),r.a.createElement("label",null,"Meetup Place"),r.a.createElement(Re,{type:"text",placeholder:"Meetup Place",name:"meetupAt",value:T,onChange:function(e){return A(e)},required:!0}),r.a.createElement("label",null,"Description"),r.a.createElement(Re,{type:"textarea",placeholder:"Description here",name:"description",value:O,onChange:function(e){return A(e)},required:!0}),r.a.createElement(ce,{className:Ut.a.btn,btnType:"color-primary size-lg"},"Start Selling"))))})),wt=a(94),Dt=a.n(wt),Ft=function(e){return function(t){var a;return _.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t({type:"GET_PROFILE_START"}),n.prev=1,n.next=4,_.a.awrap(b.get("/api/user/".concat(e)));case 4:a=n.sent,t({type:"GET_PROFILE_SUCCESS",payload:a.data}),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(1),t(T(n.t0.response.data.message,"danger")),t({type:"GET_PROFILE_FAIL"});case 12:case"end":return n.stop()}}),null,null,[[1,8]])}},Gt=a(95),zt=a.n(Gt),Bt=a(140),Jt=Object(m.g)((function(e){var t,a=e.user,c=e.match;return a&&(t=a.avatar?Z(a.avatar.data):Z(null)),r.a.createElement(n.Fragment,null,r.a.createElement("img",{src:t,alt:"Profile",className:zt.a.profileImage}),r.a.createElement("h2",null,a.name),r.a.createElement("div",{className:zt.a.icons},r.a.createElement(p.b,{to:"/messages/".concat(c.params.id)},r.a.createElement(Bt.a,{size:"4rem"})),a.facebook&&r.a.createElement("a",{target:"_blank",style:{marginLeft:"1rem"},href:a.facebook},r.a.createElement(x.h,{size:"4rem",color:"#0084ff"}))))})),Ht=a(141),qt=a.n(Ht),Kt=Object(g.b)((function(e){return{products:e.profile.products.products,hasMore:e.profile.products.hasMore,loading:e.profile.loading.products}}),{getProfileProducts:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return function(n){var r,c;return _.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return n({type:"GET_PROFILE_PRODUCTS_START"}),o.prev=1,o.next=4,_.a.awrap(b.get("/api/products/sellings/".concat(e,"?skip=").concat(t,"&limit=").concat(a)));case 4:r=o.sent,c=r.data.length===a,n({type:"GET_PROFILE_PRODUCTS_SUCCESS",payload:{products:r.data,hasMore:c}}),o.next=13;break;case 9:o.prev=9,o.t0=o.catch(1),n(T(o.t0.response.data.message,"danger")),n({type:"GET_PROFILE_PRODUCTS_FAIL"});case 13:case"end":return o.stop()}}),null,null,[[1,9]])}}})(Object(m.g)((function(e){var t=e.match,a=e.products,n=e.hasMore,c=e.loading,o=e.getProfileProducts,s=c?function(){return null}:function(){return o(t.params.id,a.length)},i=null;return c||0!==a.length||(i=r.a.createElement("p",null,"No selling products")),a.length>0&&(i=a.map((function(e){return r.a.createElement(Ce,{key:e._id,product:e})}))),r.a.createElement("div",{style:{width:"100%"}},r.a.createElement(he.a,{pageStart:0,threshold:250,loadMore:s,hasMore:n,loader:r.a.createElement(W,{key:"abc",size:50,style:{marginTop:"3rem"}})},r.a.createElement("div",{className:qt.a.items},i)))}))),Vt=Object(g.b)((function(e){return{user:e.profile.user,loading:e.profile.loading.user}}),{getProfile:Ft})((function(e){var t=e.history,a=e.match,c=e.user,o=e.loading,s=e.getProfile;Object(n.useEffect)((function(){c&&c._id.toString()===a.params.id||s(a.params.id)}),[s,c,a.params.id]);var i=r.a.createElement("p",null,"User not found");return o&&(i=r.a.createElement(W,{style:{marginTop:"5rem"}})),!o&&c&&(i=r.a.createElement(n.Fragment,null,r.a.createElement(Jt,{user:c}),r.a.createElement("div",{className:Dt.a.hr}),r.a.createElement(Kt,null))),r.a.createElement(n.Fragment,null,r.a.createElement(tt,{goBack:function(){return t.goBack()}}),r.a.createElement("div",{className:Dt.a.Profile},i))})),Yt=a(142),Wt=a.n(Yt),Qt=a(143),Xt=a.n(Qt),Zt=a(96),$t=a.n(Zt);$t.a.updateLocale("en",{relativeTime:{future:"in %s",past:"%s ",s:"%ds",m:"%dm",mm:"%dm",h:"%dh",hh:"%dh",d:"%dd",dd:"%dd",M:"%dmth",MM:"%dmths",y:"%dy",yy:"%d y"}});var ea=function(e){return $t()(e).fromNow()},ta=a(34),aa=a.n(ta),na=function(e){var t=e.notification,a=t.trigger,n=t.innerHTML,c=t.product,o=t.createdAt,s=a.avatar?Z(a.avatar.data):Z(null);return r.a.createElement(p.b,{className:aa.a.Link,to:"/products/".concat(c)},r.a.createElement("div",{className:aa.a.Notification},r.a.createElement("img",{className:aa.a.Image,src:s,alt:"profile_picture"}),r.a.createElement("div",{className:aa.a.rightContainer},r.a.createElement("p",{className:aa.a.Text},Xt()(n)),r.a.createElement("p",{className:aa.a.Time},"".concat(ea(o)," ago")))))},ra=Object(g.b)((function(e){return{notification:e.notification,auth:e.auth}}),{getNotifications:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return function(a){var n,r;return _.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return a({type:"GET_NOTIFICATIONS_START"}),c.prev=1,c.next=4,_.a.awrap(b.get("/api/notifications?skip=".concat(e,"&limit=").concat(t)));case 4:n=c.sent,r=!(n.data.notifications.length<t),a({type:"GET_NOTIFICATIONS_SUCCESS",payload:{notifications:n.data.notifications,countUnseenToSeen:n.data.countUnseenToSeen,hasMore:r}}),c.next=13;break;case 9:c.prev=9,c.t0=c.catch(1),a(T(c.t0.response.data.message,"danger")),a({type:"GET_NOTIFICATIONS_FAIL"});case 13:case"end":return c.stop()}}),null,null,[[1,9]])}},clearNotifications:N})((function(e){e.history,e.match;var t,a=e.auth,n=e.notification,c=n.notifications,o=n.hasMore,s=n.loading,i=e.getNotifications,l=e.clearNotifications;t=c.map((function(e){return r.a.createElement(na,{key:e._id,notification:e})}));var u=r.a.createElement("p",{style:{height:"75vh"}},"No notification yet"),d=function(){return null},p=function(){return null};return a.isAuthenticated&&!s&&(d=function(){return i(c.length)},p=function(){return l()}),r.a.createElement("div",null,r.a.createElement(ve,{onRefreshFunc:p,loadMoreFunc:d,hasMore:o},r.a.createElement("ul",{className:Wt.a.notifications},o||0!==t.length?t:u)))})),ca=a(144),oa=a.n(ca),sa=a(28),ia=a.n(sa),la=function(e){var t=e.messageId,a=e.name,n=e.createdAt,c=e.text,o=e.checkRecieved,s=e.partialPath,i=e.avatar,l=e.seen,u=void 0===l||l,d=Z(i?i.data:null);return r.a.createElement(p.b,{className:ia.a.Link,to:"/inbox/".concat(s,"/").concat(t)},r.a.createElement("div",{className:ia.a.Message},r.a.createElement("img",{className:ia.a.Image,src:d,alt:"profile_picture"}),r.a.createElement("p",{className:ia.a.Name},r.a.createElement("span",{style:{fontWeight:"normal"}},o?"From ":"To "),a),r.a.createElement("p",{className:ia.a.Time},"".concat(ea(n)," ago")),r.a.createElement("p",{className:ia.a.Text},Se(c,40)),!u&&r.a.createElement("span",{className:ia.a.unseen})))},ua=Object(g.b)((function(e){return{message:e.message,auth:e.auth}}),{clearRecievedMessages:function(){return function(e){return _.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e({type:"CLEAR_RECIEVED_MESSAGES"}),e(O());case 2:case"end":return t.stop()}}))}},clearSentMessages:function(){return function(e){return _.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e({type:"CLEAR_SENT_MESSAGES"});case 1:case"end":return t.stop()}}))}},getRecieved:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return function(a){var n,r;return _.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return a({type:"GET_RECIEVED_START"}),c.prev=1,c.next=4,_.a.awrap(b.get("/api/messages/recieved?skip=".concat(e,"&limit=").concat(t)));case 4:n=c.sent,r=!(n.data.length<t),a({type:"GET_RECIEVED_SUCCESS",payload:{messages:n.data,hasMore:r}}),c.next=13;break;case 9:c.prev=9,c.t0=c.catch(1),a(T(c.t0.response.data.message,"danger")),a({type:"GET_RECIEVED_FAIL"});case 13:case"end":return c.stop()}}),null,null,[[1,9]])}},getSent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return function(a){var n,r;return _.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return a({type:"GET_SENT_START"}),c.prev=1,c.next=4,_.a.awrap(b.get("/api/messages/sent?skip=".concat(e,"&limit=").concat(t)));case 4:n=c.sent,r=!(n.data.length<t),a({type:"GET_SENT_SUCCESS",payload:{messages:n.data,hasMore:r}}),c.next=13;break;case 9:c.prev=9,c.t0=c.catch(1),a(T(c.t0.response.data.message,"danger")),a({type:"GET_SENT_FAIL"});case 13:case"end":return c.stop()}}),null,null,[[1,9]])}}})((function(e){var t,a=e.history,n=e.match,c=e.auth,o=e.message,s=o.recieved,i=o.sent,l=e.clearRecievedMessages,u=e.clearSentMessages,d=e.getRecieved,p=e.getSent,m="recieved"===n.params.status,g=[{text:"Recieved",active:m,onClickHandler:function(){return!m&&a.push("/inbox/recieved")}},{text:"Sent",active:!m,onClickHandler:function(){return m&&a.push("/inbox/sent")}}];t=m?s.messages.map((function(e){return r.a.createElement(la,{key:e._id,name:e.senderName,messageId:e._id,text:e.text,createdAt:e.createdAt,avatar:e.sender.avatar,partialPath:"recieved",checkRecieved:m,seen:e.seen})})):i.messages.map((function(e){return r.a.createElement(la,{key:e._id,name:e.recipientName,messageId:e._id,text:e.text,avatar:e.recipient.avatar,createdAt:e.createdAt,partialPath:"sent",checkRecieved:m})}));var E=r.a.createElement("p",{style:{height:"75vh"}},"No recieved message yet"),f=function(){return null},h=function(){return null};c.isAuthenticated&&m&&!s.loading&&(f=function(){return d(s.messages.length)},h=function(){return l()}),!c.isAuthenticated||m||i.loading||(f=function(){return p(i.messages.length)},h=function(){return u()});var _=m?s.hasMore:i.hasMore;return r.a.createElement("div",null,r.a.createElement(Ee,{items:g}),r.a.createElement(ve,{onRefreshFunc:h,loadMoreFunc:f,hasMore:_},r.a.createElement("ul",{className:oa.a.messages},_||0!==t.length?t:E)))})),da=a(145),pa=a.n(da),ma=function(e){var t=e.counterParty;return r.a.createElement(tt,null,t&&r.a.createElement(vt,{name:t.name,avatar:t.avatar,userId:t._id,"font-size":"1.5rem"}))},ga=a(66),Ea=a.n(ga),fa=function(e){var t=e.message,a=e.counterParty,n=e.amIRecipient?"from":"to";return r.a.createElement("div",{className:Ea.a.Message},r.a.createElement("div",{className:Ea.a.Message},r.a.createElement("div",null,"Message ",n," ",a.name),r.a.createElement("div",{className:Ea.a.textsContainer},r.a.createElement(ft,null,t.text))))},ha=function(e){var t=Object(n.useState)(""),a=Object(Oe.a)(t,2),c=a[0],o=a[1];return r.a.createElement("form",{onSubmit:function(t){return function(t){t.preventDefault(),e.onSubmitHandler(c)}(t)}},r.a.createElement(Re,{type:"textarea",placeholder:"Reply message here...",value:c,onChange:function(e){return o(e.target.value)},required:!0}),r.a.createElement(ce,{btnType:"color-primary"},e.loading?r.a.createElement(W,{size:15,style:{margin:0},color:"white"}):"Reply"))},_a=Object(g.b)((function(e){return{message:e.message.message,loading:e.message.loading}}),{getMessage:function(e){return function(t){var a;return _.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t({type:"GET_MESSAGE_START",payload:e}),n.prev=1,n.next=4,_.a.awrap(b.get("/api/messages/".concat(e)));case 4:a=n.sent,t({type:"GET_MESSAGE_SUCCESS",payload:a.data}),n.next=13;break;case 8:n.prev=8,n.t0=n.catch(1),console.log(n.t0),t(T(n.t0.response.data.message,"danger")),t({type:"GET_MESSAGE_FAIL"});case 13:case"end":return n.stop()}}),null,null,[[1,8]])}},sendMessage:A})((function(e){var t=e.match,a=e.message,c=e.loading,o=e.getMessage,s=e.sendMessage;Object(n.useEffect)((function(){o(t.params.id)}),[o,t.params.id]);var i="/inbox/recieved/:id"===t.path,l=null;a&&(i?(l=a.sender).name=a.senderName:(l=a.recipient).name=a.recipientName);var u=r.a.createElement("p",null,"Not found");return!a&&c.getMessage&&(u=r.a.createElement(W,{style:{marginTop:"8rem"}})),a&&(u=r.a.createElement(n.Fragment,null,r.a.createElement(fa,{message:a,counterParty:l,amIRecipient:i}),i&&r.a.createElement(ha,{onSubmitHandler:function(e){s(a.sender._id,e)},loading:c.sendMessage}))),r.a.createElement("div",null,r.a.createElement(ma,{counterParty:l}),r.a.createElement("div",{className:pa.a.MessageBoxMain},u))})),va=Object(g.b)((function(e){return{profile:e.profile}}),{sendMessage:A,getProfile:Ft})((function(e){var t=e.profile,a=e.match,c=e.sendMessage,o=e.getProfile,s=Object(n.useState)(""),i=Object(Oe.a)(s,2),l=i[0],u=i[1];Object(n.useEffect)((function(){t.user&&t.user._id.toString()===a.params.id||o(a.params.id)}),[t.user,a.params.id,o]);return r.a.createElement(n.Fragment,null,r.a.createElement(tt,null,t.user&&t.user._id.toString()===a.params.id&&r.a.createElement(vt,{name:t.user.name,avatar:t.user.avatar,userId:t.user._id,"font-size":"1.5rem"})),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),c(a.params.id,l)},style:{marginTop:"5.5rem"}},r.a.createElement(Re,{type:"textarea",placeholder:"Message here...",value:l,onChange:function(e){return u(e.target.value)},required:!0}),r.a.createElement("button",null,"Send")))})),Sa=a(146),ba=a.n(Sa),ya=Object(g.b)((function(e){return{auth:e.auth}}),{updateAvatar:function(e){return function(t){var a,n,r;return _.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return a={headers:{"Content-Type":"multipart/form-data"}},(n=new FormData).append("avatar",e),c.prev=3,c.next=6,_.a.awrap(b.put("/api/user/avatar",n,a));case 6:r=c.sent,t(T("Uploaded profile image","success")),t({type:"UPDATE_AVATAR",payload:r.data}),c.next=14;break;case 11:c.prev=11,c.t0=c.catch(3),t(T(c.t0.response.data.message,"danger"));case 14:case"end":return c.stop()}}),null,null,[[3,11]])}}})((function(e){var t=e.updateAvatar,a=e.history,c=Object(n.useState)(null),o=Object(Oe.a)(c,2),s=o[0],i=o[1];return r.a.createElement(n.Fragment,null,r.a.createElement(tt,null),r.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault(),t(s),a.push("/mypage")}(e)},className:ba.a.form},r.a.createElement("label",null,"Profile Image"),r.a.createElement("input",{type:"file",onChange:function(e){return i((function(){return e.target.files[0]}))},required:!0}),r.a.createElement(ce,{btnType:"color-primary size-lg"},"Update")))})),Ca=a(147),Ta=a.n(Ca),Oa=Object(g.b)((function(e){return{auth:e.auth}}),{updateProfile:function(e){return function(t){var a;return _.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,_.a.awrap(b.put("/api/user/profile",e));case 3:a=n.sent,t(T("Updated Profile","success")),t({type:"UPDATE_PROFILE",payload:a.data}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),t(T(n.t0.response.data.message,"danger"));case 11:case"end":return n.stop()}}),null,null,[[0,8]])}}})((function(e){var t=e.auth,a=e.updateProfile,c=e.history,o=Object(n.useState)({name:"",facebook:""}),s=Object(Oe.a)(o,2),i=s[0],l=s[1];if(Object(n.useEffect)((function(){l((function(){return{name:t.user?t.user.name:"",facebook:t.user&&t.user.facebook?t.user.facebook:""}}))}),[t.user,l]),!t.isAuthenticated)return r.a.createElement(W,null);var u=function(e){e.preventDefault(),e.persist(),l((function(){return Object(K.a)({},i,Object(Ne.a)({},e.target.name,e.target.value))}))};return r.a.createElement(n.Fragment,null,r.a.createElement(tt,null),r.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault(),a(i),c.push("/mypage")}(e)},className:Ta.a.form},r.a.createElement("label",null,"Username"),r.a.createElement(Re,{type:"name",placeholder:"Your name",name:"name",value:i.name,onChange:function(e){return u(e)},required:!0}),r.a.createElement("label",null,"Facebook URL (Optional)"),r.a.createElement(Re,{type:"Facebook",placeholder:"Facebook URL (optional)",name:"facebook",value:i.facebook,onChange:function(e){return u(e)}}),r.a.createElement(ce,{btnType:"color-primary size-lg"},"Update")))})),Aa=a(148),ja=a.n(Aa),Na=Object(g.b)((function(e){return{auth:e.auth}}),{updateEmail:function(e){return function(t){var a;return _.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,_.a.awrap(b.put("/api/user/email",e));case 3:a=n.sent,t(T("Updated Email","success")),t({type:"UPDATE_EMAIL",payload:a.data}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),t(T(n.t0.response.data.message,"danger"));case 11:case"end":return n.stop()}}),null,null,[[0,8]])}}})((function(e){var t=e.auth,a=e.updateEmail,c=e.history,o=Object(n.useState)({email:"",password:""}),s=Object(Oe.a)(o,2),i=s[0],l=s[1];if(Object(n.useEffect)((function(){l((function(e){return Object(K.a)({},e,{email:t.user?t.user.email:""})}))}),[t.user,l]),!t.isAuthenticated)return r.a.createElement(W,null);var u=function(e){e.preventDefault(),e.persist(),l((function(){return Object(K.a)({},i,Object(Ne.a)({},e.target.name,e.target.value))}))};return r.a.createElement(n.Fragment,null,r.a.createElement(tt,null),r.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault(),a(i),c.push("/mypage")}(e)},className:ja.a.form},r.a.createElement("label",null,"Email"),r.a.createElement(Re,{type:"email",placeholder:"Your email",name:"email",value:i.email,onChange:function(e){return u(e)},required:!0}),r.a.createElement("label",null,"Current Password"),r.a.createElement(Re,{type:"password",placeholder:"Current Password",name:"password",value:i.password,onChange:function(e){return u(e)},required:!0}),r.a.createElement(ce,{btnType:"color-primary size-lg"},"Update")))})),Ia=a(149),xa=a.n(Ia),ka=Object(g.b)((function(e){return{auth:e.auth}}),{setAlert:T})((function(e){var t=e.auth,a=e.setAlert,c=e.history,o=Object(n.useState)({curPassword:"",newPassword:"",confirmPassword:""}),s=Object(Oe.a)(o,2),i=s[0],l=s[1],u=i.curPassword,d=i.newPassword,p=i.confirmPassword;if(!t.isAuthenticated)return r.a.createElement(W,null);var m=function(e){e.preventDefault(),e.persist(),l((function(){return Object(K.a)({},i,Object(Ne.a)({},e.target.name,e.target.value))}))};return r.a.createElement(n.Fragment,null,r.a.createElement(tt,null),r.a.createElement("form",{onSubmit:function(e){return function(e){return _.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.preventDefault(),d===p){t.next=3;break}return t.abrupt("return",a("New Password does not match Comfirm Password"));case 3:return t.prev=4,t.next=7,_.a.awrap(b.put("/api/user/password",{curPassword:u,newPassword:d}));case 7:a("Password Updated","success"),c.push("/mypage"),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),a(t.t0.response.data.message,"danger");case 14:case"end":return t.stop()}}),null,null,[[4,11]])}(e)},className:xa.a.form},r.a.createElement("label",null,"Current Password"),r.a.createElement(Re,{type:"password",placeholder:"Current Password",name:"curPassword",value:u,onChange:function(e){return m(e)},required:!0}),r.a.createElement("label",null,"New Password"),r.a.createElement(Re,{type:"password",placeholder:"New Password",name:"newPassword",value:d,onChange:function(e){return m(e)},required:!0}),r.a.createElement("label",null,"Confirm New Password"),r.a.createElement(Re,{type:"password",placeholder:"Confirm new password",name:"confirmPassword",value:p,onChange:function(e){return m(e)},required:!0}),r.a.createElement(ce,{btnType:"color-primary size-lg"},"Update")))})),Pa=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.loadUser()}},{key:"render",value:function(){return r.a.createElement(p.a,null,r.a.createElement(J,null,r.a.createElement(m.d,null,r.a.createElement(m.b,{path:"/products/:id",component:Ct}),r.a.createElement(m.b,{path:"/products",exact:!0,component:Ke}),r.a.createElement(f,{path:"/mylist/:status",component:Te}),r.a.createElement(f,{path:"/sell",exact:!0,component:Rt}),r.a.createElement(f,{path:"/edit/:id",exact:!0,component:Mt}),r.a.createElement(f,{path:"/mypage",exact:!0,component:ue}),r.a.createElement(f,{path:"/mypage/update/avatar",exact:!0,component:ya}),r.a.createElement(f,{path:"/mypage/update/profile",exact:!0,component:Oa}),r.a.createElement(f,{path:"/mypage/update/email",exact:!0,component:Na}),r.a.createElement(f,{path:"/mypage/update/password",exact:!0,component:ka}),r.a.createElement(f,{path:"/notification",exact:!0,component:ra}),r.a.createElement(f,{path:"/inbox/recieved/:id",component:_a}),r.a.createElement(f,{path:"/inbox/sent/:id",component:_a}),r.a.createElement(f,{path:"/inbox/:status",component:ua}),r.a.createElement(f,{path:"/messages/:id",component:va}),r.a.createElement(m.b,{path:"/profile/:id",component:Vt}),r.a.createElement(m.b,{path:"/auth",component:De}),r.a.createElement(m.a,{from:"/",exact:!0,to:"/products"}),r.a.createElement(m.b,{component:function(){return r.a.createElement("p",null,"404")}}))))}}]),t}(n.Component),Ra=Object(g.b)((function(e){return{auth:e.auth}}),{loadUser:I})(Pa);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var La=a(31),Ua=a(150),Ma={token:localStorage.token,isAuthenticated:!1,loading:!0,user:null},wa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ma,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"REGISTER_START":case"LOGIN_START":case"LOAD_USER_START":return Object(K.a)({},e,{loading:!0});case"LOAD_USER_SUCCESS":return Object(K.a)({},e,{isAuthenticated:!0,loading:!1,user:Object(K.a)({},n)});case"REGISTER":case"LOGIN":return localStorage.setItem("token",n.token),Object(K.a)({},e,{},n,{isAuthenticated:!0,loading:!1});case"UPDATE_AVATAR":return Object(K.a)({},e,{user:Object(K.a)({},e.user,{avatar:n.avatar})});case"UPDATE_PROFILE":return Object(K.a)({},e,{user:n});case"UPDATE_EMAIL":return Object(K.a)({},e,{user:Object(K.a)({},e.user,{email:n})});case"REGISTER_FAIL":case"LOGIN_FAIL":case"LOAD_USER_FAIL":case"LOGOUT":return localStorage.removeItem("token"),b.setAuthToken(null),{token:null,isAuthenticated:!1,loading:!1,user:null};default:return e}},Da=a(10),Fa=[],Ga=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fa,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"SET_ALERT":return[].concat(Object(Da.a)(e),[n]);case"REMOVE_ALERT":return e.filter((function(e){return e.id!==n}));default:return e}},za={products:[],hasMore:!0,product:null,loading:{setProduct:!1,getProduct:!1,getProducts:!1,deleteProduct:!1,comments:!1,likes:!1,purchase:!1},mylist:{liked:{hasMore:!0,products:[]},purchased:{hasMore:!0,products:[]},sellings:{hasMore:!0,products:[]}}},Ba={recieved:{messages:[],hasMore:!0,loading:!1},sent:{messages:[],hasMore:!0,loading:!1},message:null,loading:{getMessage:!1,sendMessage:!1},count:null},Ja={user:null,loading:{user:!1,products:!1},products:{products:[],hasMore:!0}},Ha=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ja,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"GET_PROFILE_START":return Object(K.a)({},e,{products:Object(K.a)({},Ja.products),loading:Object(K.a)({},e.loading,{user:!0})});case"GET_PROFILE_SUCCESS":return Object(K.a)({},e,{user:n,loading:Object(K.a)({},e.loading,{user:!1})});case"GET_PROFILE_FAIL":return Ja;case"GET_PROFILE_PRODUCTS_START":return Object(K.a)({},e,{loading:Object(K.a)({},e.loading,{products:!0})});case"GET_PROFILE_PRODUCTS_SUCCESS":return Object(K.a)({},e,{products:{products:[].concat(Object(Da.a)(e.products.products),Object(Da.a)(n.products)),hasMore:n.hasMore},loading:Object(K.a)({},e.loading,{products:!1})});case"GET_PROFILE_PRODUCTS_FAIL":return Object(K.a)({},e,{products:{products:[],hasMore:!1},loading:Object(K.a)({},e.loading,{products:!1})});default:return e}},qa={liked:{products:[],hasMore:!0,loading:!1},purchased:{products:[],hasMore:!0,loading:!1},sellings:{products:[],hasMore:!0,loading:!1}},Ka={notifications:[],hasMore:!0,loading:!1,count:null},Va=[Ua.a],Ya=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||La.d,Wa=Object(La.c)({auth:wa,alerts:Ga,product:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:za,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"SET_PRODUCT_START":case"EDIT_PRODUCT_START":return Object(K.a)({},e,{loading:Object(K.a)({},e.loading,{setProduct:!0})});case"GET_PRODUCTS_START":return Object(K.a)({},e,{loading:Object(K.a)({},e.loading,{getProducts:!0})});case"REFRESH_PRODUCTS":return Object(K.a)({},e,{hasMore:!0,products:[]});case"GET_PRODUCT_START":var r=e.products.find((function(e){return e._id.toString()===n})),c=!1;return r||(r=null,c=!0),Object(K.a)({},e,{loading:Object(K.a)({},e.loading,{getProduct:c}),product:r});case"DELETE_PRODUCT_START":return Object(K.a)({},e,{loading:Object(K.a)({},e.loading,{deleteProduct:!0})});case"ADD_COMMENT_START":return Object(K.a)({},e,{loading:Object(K.a)({},e.loading,{comments:!0})});case"SET_LIKE_START":case"SET_UNLIKE_START":return Object(K.a)({},e,{loading:Object(K.a)({},e.loading,{likes:!0})});case"PURCHASE_START":case"CANCEL_START":case"REJECT_START":return Object(K.a)({},e,{loading:Object(K.a)({},e.loading,{purchase:!0})});case"SET_PRODUCT":case"EDIT_PRODUCT":return Object(K.a)({},e,{loading:Object(K.a)({},e.loading,{setProduct:!1})});case"GET_PRODUCTS_SUCCESS":return Object(K.a)({},e,{loading:Object(K.a)({},e.loading,{getProducts:!1}),hasMore:n.hasMore,products:[].concat(Object(Da.a)(e.products),Object(Da.a)(n.products))});case"GET_PRODUCT_SUCCESS":return Object(K.a)({},e,{product:n,loading:Object(K.a)({},e.loading,{getProduct:!1})});case"ADD_COMMENT":return Object(K.a)({},e,{loading:Object(K.a)({},e.loading,{comments:!1}),product:Object(K.a)({},e.product,{comments:n})});case"SET_LIKE":case"SET_UNLIKE":return Object(K.a)({},e,{loading:Object(K.a)({},e.loading,{likes:!1}),product:Object(K.a)({},e.product,{likes:n})});case"PURCHASE_PRODUCT":case"CANCEL_PRODUCT":case"REJECT_PRODUCT":return Object(K.a)({},e,{loading:Object(K.a)({},e.loading,{purchase:!1}),product:Object(K.a)({},e.product,{},n)});case"DELETE_PRODUCT":var o=e.product;return e.product._id.toString()===n&&(o=null),Object(K.a)({},e,{loading:Object(K.a)({},e.loading,{deleteProduct:!1}),product:o});case"SET_PRODUCT_FAIL":case"EDIT_PRODUCT_FAIL":return Object(K.a)({},e,{loading:Object(K.a)({},e.loading,{setProduct:!1})});case"GET_PRODUCTS_FAIL":return Object(K.a)({},e,{loading:Object(K.a)({},e.loading,{getProducts:!1})});case"GET_PRODUCT_FAIL":return Object(K.a)({},e,{loading:Object(K.a)({},e.loading,{getProduct:!1})});case"DELETE_PRODUCT_FAIL":return Object(K.a)({},e,{loading:Object(K.a)({},e.loading,{deleteProduct:!1})});case"ADD_COMMENT_FAIL":return Object(K.a)({},e,{loading:Object(K.a)({},e.loading,{comments:!1})});case"SET_LIKE_FAIL":case"SET_UNLIKE_FAIL":return Object(K.a)({},e,{loading:Object(K.a)({},e.loading,{likes:!1})});case"PURCHASE_FAIL":case"CANCEL_FAIL":case"REJECT_FAIL":return Object(K.a)({},e,{loading:Object(K.a)({},e.loading,{purchase:!1})});default:return e}},message:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ba,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"CLEAR_RECIEVED_MESSAGES":return Object(K.a)({},e,{recieved:Object(K.a)({},Ba.recieved)});case"CLEAR_SENT_MESSAGES":return Object(K.a)({},e,{sent:Object(K.a)({},Ba.sent)});case"GET_RECIEVED_START":return Object(K.a)({},e,{recieved:Object(K.a)({},e.recieved,{loading:!0})});case"GET_RECIEVED_SUCCESS":return Object(K.a)({},e,{recieved:{messages:[].concat(Object(Da.a)(e.recieved.messages),Object(Da.a)(n.messages)),hasMore:n.hasMore,loading:!1}});case"GET_RECIEVED_FAIL":return Object(K.a)({},e,{recieved:Object(K.a)({},e.recieved,{loading:!1})});case"GET_SENT_START":return Object(K.a)({},e,{sent:Object(K.a)({},e.sent,{loading:!0})});case"GET_SENT_SUCCESS":return Object(K.a)({},e,{sent:{messages:[].concat(Object(Da.a)(e.sent.messages),Object(Da.a)(n.messages)),hasMore:n.hasMore,loading:!1}});case"GET_SENT_FAIL":return Object(K.a)({},e,{sent:Object(K.a)({},e.sent,{loading:!1})});case"GET_MESSAGE_START":var r=e.recieved.messages.find((function(e){return e._id.toString()===n}));return r||(r=e.sent.messages.find((function(e){return e._id.toString()===n}))),r||(r=null),Object(K.a)({},e,{loading:Object(K.a)({},e.loading,{getMessage:!0}),message:r});case"GET_MESSAGE_SUCCESS":var c=0,o=e.recieved.messages.map((function(e){return n._id.toString()===e._id.toString()&&!1===e.seen&&(e.seen=!0,c++),e}));return Object(K.a)({},e,{message:n,loading:Object(K.a)({},e.loading,{getMessage:!1}),recieved:Object(K.a)({},e.recieved,{messages:o}),count:e.count-c});case"GET_MESSAGE_FAIL":return Object(K.a)({},e,{sent:n,loading:Object(K.a)({},e.loading,{getMessage:!1})});case"SEND_MESSAGE_START":return Object(K.a)({},e,{loading:Object(K.a)({},e.loading,{sendMessage:!0})});case"SEND_MESSAGE_SUCCESS":case"SEND_MESSAGE_FAIL":return Object(K.a)({},e,{loading:Object(K.a)({},e.loading,{sendMessage:!1})});case"CLEAR_MESSAGES":return Object(K.a)({},Ba);case"COUNT_UNSEEN_MESSAGES":return Object(K.a)({},e,{count:n});default:return e}},profile:Ha,mylist:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qa,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"CLEAR_LIKED":return Object(K.a)({},e,{liked:Object(K.a)({},qa.liked)});case"CLEAR_PURCHASED":return Object(K.a)({},e,{purchased:Object(K.a)({},qa.purchased)});case"CLEAR_SELLINGS":return Object(K.a)({},e,{sellings:Object(K.a)({},qa.sellings)});case"GET_LIKED_START":return Object(K.a)({},e,{liked:Object(K.a)({},e.liked,{loading:!0})});case"GET_LIKED_SUCCESS":return Object(K.a)({},e,{liked:{products:[].concat(Object(Da.a)(e.liked.products),Object(Da.a)(n.products)),loading:!1,hasMore:n.hasMore}});case"GET_LIKED_FAIL":return Object(K.a)({},e,{liked:Object(K.a)({},e.liked,{loading:!1})});case"GET_PURCHASED_START":return Object(K.a)({},e,{purchased:Object(K.a)({},e.purchased,{loading:!0})});case"GET_PURCHASED_SUCCESS":return Object(K.a)({},e,{purchased:{products:[].concat(Object(Da.a)(e.purchased.products),Object(Da.a)(n.products)),loading:!1,hasMore:n.hasMore}});case"GET_PURCHASED_FAIL":return Object(K.a)({},e,{purchased:Object(K.a)({},e.purchased,{loading:!1})});case"GET_SELLINGS_START":return Object(K.a)({},e,{sellings:Object(K.a)({},e.sellings,{loading:!0})});case"GET_SELLINGS_SUCCESS":return Object(K.a)({},e,{sellings:{products:[].concat(Object(Da.a)(e.sellings.products),Object(Da.a)(n.products)),loading:!1,hasMore:n.hasMore}});case"GET_SELLINGS_FAIL":return Object(K.a)({},e,{sellings:Object(K.a)({},e.sellings,{loading:!1})});default:return e}},notification:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ka,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"GET_NOTIFICATIONS_START":return Object(K.a)({},e,{loading:!0});case"GET_NOTIFICATIONS_SUCCESS":return Object(K.a)({},e,{notifications:[].concat(Object(Da.a)(e.notifications),Object(Da.a)(n.notifications)),hasMore:n.hasMore,loading:!1,count:e.count-n.countUnseenToSeen});case"GET_NOTIFICATIONS_FAIL":return Object(K.a)({},e,{loading:!1});case"CLEAR_NOTIFICATIONS":return Object(K.a)({},Ka);case"COUNT_UNSEEN_NOTIFICATIONS":return Object(K.a)({},e,{count:n});default:return e}}}),Qa=Object(La.e)(Wa,{},Ya(La.a.apply(void 0,Va))),Xa=r.a.createElement(g.a,{store:Qa},r.a.createElement(Ra,null));o.a.render(Xa,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},26:function(e,t,a){e.exports={Product:"Product_Product__Z_Lb-",imageWrapper:"Product_imageWrapper__IYGrF",Image:"Product_Image__GQRK4",soldOut:"Product_soldOut__UKplX",TextBox:"Product_TextBox__2LvQ0",Main:"Product_Main__1VFXs",Sub:"Product_Sub__3O4Mf"}},27:function(e,t,a){e.exports={Main:"Main_Main__3LxFC",Container:"Main_Container__f0szg",subContainer:"Main_subContainer__QsWvS",card:"Main_card__1xhPd",Image:"Main_Image__1MvjZ"}},28:function(e,t,a){e.exports={Link:"Message_Link__3VrXH",Message:"Message_Message__2EobY",Image:"Message_Image__3-1zg",Name:"Message_Name__3Gdt1",Time:"Message_Time__3zU3Z",Text:"Message_Text__vwVPV",unseen:"Message_unseen__17BNs"}},32:function(e,t,a){e.exports={Link:"NavItem_Link__12IAj",Icon:"NavItem_Icon__1GZEM",menuTitle:"NavItem_menuTitle__3chF9",counter:"NavItem_counter__2DtZd"}},33:function(e,t,a){e.exports={Setting:"Setting_Setting__1i593",links:"Setting_links__3mPc7",Link:"Setting_Link__39YOm"}},34:function(e,t,a){e.exports={Link:"Notification_Link__y_-qW",Notification:"Notification_Notification__2szzd",Image:"Notification_Image__3yVt-",rightContainer:"Notification_rightContainer__3gWtb",Text:"Notification_Text__1YX9B",Time:"Notification_Time__2aaKv"}},40:function(e,t,a){e.exports={Navigation:"Navigation_Navigation__1nrRq",NavigationItems:"Navigation_NavigationItems__1WELQ",active:"Navigation_active__1aO7i",search:"Navigation_search__KlPGF",searchInput:"Navigation_searchInput__10_TP",searchIcon:"Navigation_searchIcon__2t3Ux"}},44:function(e,t,a){e.exports={onSignupChange:"FormTypeChanger_onSignupChange__30JXm",onLoginChange:"FormTypeChanger_onLoginChange__3UUq0",active:"FormTypeChanger_active__2Ye0C"}},45:function(e,t,a){e.exports={Comments:"Comments_Comments__19-ir",Textarea:"Comments_Textarea__38Jkm"}},46:function(e,t,a){e.exports={Sell:"Sell_Sell__3svuu",ImageDropAndCrop:"Sell_ImageDropAndCrop__sHfUJ",sellForm:"Sell_sellForm__2npGY",btn:"Sell_btn__1RQqR"}},47:function(e,t,a){e.exports={Sell:"EditPage_Sell__2jcug",ImageDropAndCrop:"EditPage_ImageDropAndCrop__zeY6h",sellForm:"EditPage_sellForm__jeGFA",btn:"EditPage_btn__3JLER"}},61:function(e,t,a){e.exports={mypage:"MyPage_mypage__3m3qU",hr:"MyPage_hr__2ssgd"}},62:function(e,t,a){e.exports={Switcher:"Switcher_Switcher__2O-qR",button:"Switcher_button__2SrN7",active:"Switcher_active__3q8Rj"}},63:function(e,t,a){e.exports={Input:"Input_Input__3uJvy",Textarea:"Input_Textarea__1RyLW"}},64:function(e,t,a){e.exports={BottomBar:"BottomBar_BottomBar__OkQhW",text:"BottomBar_text__2fpYs",button:"BottomBar_button__AW3jN"}},65:function(e,t,a){e.exports={likeButton:"LikeButton_likeButton__2hA4H",Like:"LikeButton_Like__F3uYy",Unlike:"LikeButton_Unlike__3ua1V"}},66:function(e,t,a){e.exports={Message:"Message_Message__P-CYd",textsContainer:"Message_textsContainer__1J_Id"}},91:function(e,t,a){e.exports={TopBar:"TopBar_TopBar__15alL",GoBack:"TopBar_GoBack__zTm1I"}},92:function(e,t,a){e.exports={Comment:"Comment_Comment__3iocc",User:"Comment_User__1DHJW",UserPicture:"Comment_UserPicture__1JMaZ",Text:"Comment_Text__2__P7"}},93:function(e,t,a){e.exports={User:"UserInfo_User__kVj8R"}},94:function(e,t,a){e.exports={Profile:"Profile_Profile__1WGBg",hr:"Profile_hr__bKF3g"}},95:function(e,t,a){e.exports={profileImage:"User_profileImage__3qETj",icons:"User_icons__27lpR"}}},[[153,1,2]]]);
//# sourceMappingURL=main.81870578.chunk.js.map